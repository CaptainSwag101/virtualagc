/*
  File GENERATExVECMAT_ASSIGN.c generated by XCOM-I, 2024-08-09 12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExVECMAT_ASSIGN (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExVECMAT_ASSIGN");
  // IF DATATYPE(TYPE(OP0))=MATRIX & DEL(OP0)~=0 | DATATYPE(TYPE(OP1))=MATRIX &
  // DEL(OP1)~=0 THEN (7220)
  if (1
      & (xOR (
          xAND (xEQ (BYTE0 (mDATATYPE
                            + 1
                                  * COREHALFWORD (
                                      getFIXED (mIND_STACK)
                                      + 73
                                            * (COREHALFWORD (
                                                mGENERATExVECMAT_ASSIGNxOP0))
                                      + 50 + 2 * (0))),
                     BYTE0 (mMATRIX)),
                xNEQ (COREHALFWORD (
                          getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP0))
                          + 28 + 2 * (0)),
                      0)),
          xAND (xEQ (BYTE0 (mDATATYPE
                            + 1
                                  * COREHALFWORD (
                                      getFIXED (mIND_STACK)
                                      + 73
                                            * (COREHALFWORD (
                                                mGENERATExVECMAT_ASSIGNxOP1))
                                      + 50 + 2 * (0))),
                     BYTE0 (mMATRIX)),
                xNEQ (COREHALFWORD (
                          getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP1))
                          + 28 + 2 * (0)),
                      0)))))
    // OPCODE = XMASN; (7221)
    {
      descriptor_t *bitRHS = getBIT (8, mXMASN);
      putBIT (16, mGENERATExVECMAT_ASSIGNxOPCODE, bitRHS);
      bitRHS->inUse = 0;
    }
  // ELSE (7222)
  else
    // OPCODE = XXASN; (7223)
    {
      descriptor_t *bitRHS = getBIT (8, mXXASN);
      putBIT (16, mGENERATExVECMAT_ASSIGNxOPCODE, bitRHS);
      bitRHS->inUse = 0;
    }
  // PREC_SPEC = (TYPE(OP0)&8) ~= 0; (7224)
  {
    int32_t numberRHS = (int32_t)(xNEQ (
        xAND (COREHALFWORD (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP0))
                            + 50 + 2 * (0)),
              8),
        0));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mGENERATExVECMAT_ASSIGNxPREC_SPEC, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF (TYPE(OP0)&8) ~= (TYPE(OP1)&8) THEN (7225)
  if (1
      & (xNEQ (xAND (COREHALFWORD (
                         getFIXED (mIND_STACK)
                         + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP0))
                         + 50 + 2 * (0)),
                     8),
               xAND (COREHALFWORD (
                         getFIXED (mIND_STACK)
                         + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP1))
                         + 50 + 2 * (0)),
                     8))))
    // PREC_SPEC = PREC_SPEC + 2; (7226)
    {
      int32_t numberRHS = (int32_t)(xadd (
          COREHALFWORD (mGENERATExVECMAT_ASSIGNxPREC_SPEC), 2));
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, mGENERATExVECMAT_ASSIGNxPREC_SPEC, bitRHS);
      bitRHS->inUse = 0;
    }
  // CALL VMCALL(OPCODE, PREC_SPEC, OP0, OP1, 0, SHL(DEL(OP1),16)+DEL(OP0));
  // (7227)
  {
    putBITp (16, mGENERATExVMCALLxOPCODE,
             getBIT (16, mGENERATExVECMAT_ASSIGNxOPCODE));
    putBITp (8, mGENERATExVMCALLxOPTYPE,
             getBIT (16, mGENERATExVECMAT_ASSIGNxPREC_SPEC));
    putBITp (16, mGENERATExVMCALLxOP0,
             getBIT (16, mGENERATExVECMAT_ASSIGNxOP0));
    putBITp (16, mGENERATExVMCALLxOP1,
             getBIT (16, mGENERATExVECMAT_ASSIGNxOP1));
    putBITp (16, mGENERATExVMCALLxOP2, fixedToBit (32, (int32_t)(0)));
    putFIXED (
        mGENERATExVMCALLxPART,
        xadd (SHL (COREHALFWORD (
                       getFIXED (mIND_STACK)
                       + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP1)) + 28
                       + 2 * (0)),
                   16),
              COREHALFWORD (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExVECMAT_ASSIGNxOP0))
                            + 28 + 2 * (0))));
    GENERATExVMCALL (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

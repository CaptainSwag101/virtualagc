/*
  File GENERATExGEN_CLASS8xSTRUCTURE_WALK.c generated by XCOM-I, 2024-08-09
  12:39:31.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExGEN_CLASS8xSTRUCTURE_WALK (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "GENERATExGEN_CLASS8xSTRUCTURE_WALK");
  // DO WHILE WALK# ~= INITWALK; (14156)
  while (1
         & (xNEQ (getFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxWALKp),
                  getFIXED (mGENERATExINITWALK))))
    {
      // IF INITWALK < 0 THEN (14157)
      if (1 & (xLT (getFIXED (mGENERATExINITWALK), 0)))
        // N = 1; (14158)
        {
          int32_t numberRHS = (int32_t)(1);
          putFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN, numberRHS);
        }
      // IF N = 1 THEN (14159)
      if (1 & (xEQ (getFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN), 1)))
        // DO; (14160)
        {
        rs1s1:;
          // INITOP = STRUCTURE_ADVANCE; (14161)
          {
            descriptor_t *bitRHS = GENERATExSTRUCTURE_ADVANCE (0);
            putBIT (16, mGENERATExINITOP, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF INITOP = 0 THEN (14162)
          if (1 & (xEQ (COREHALFWORD (mGENERATExINITOP), 0)))
            // DO; (14163)
            {
            rs1s1s1:;
              // IF DENSE_INX>0 THEN (14164)
              if (1 & (xGT (COREHALFWORD (mGENERATExDENSE_INX), 0)))
                // CALL EMITDENSE; (14165)
                GENERATExGEN_CLASS8xEMITDENSE (0);
              // INITOP = STRUCTURE_ADVANCE; (14166)
              {
                descriptor_t *bitRHS = GENERATExSTRUCTURE_ADVANCE (0);
                putBIT (16, mGENERATExINITOP, bitRHS);
                bitRHS->inUse = 0;
              }
              // STRUCT_MOD = STRUCT_MOD + INITMOD; (14167)
              {
                int32_t numberRHS
                    = (int32_t)(xadd (getFIXED (mGENERATExSTRUCT_MOD),
                                      getFIXED (mGENERATExINITMOD)));
                putFIXED (mGENERATExSTRUCT_MOD, numberRHS);
              }
            es1s1s1:;
            } // End of DO block
          // N = LUMP_ARRAYSIZE(INITOP) * LUMP_TERMINALSIZE(INITOP); (14168)
          {
            int32_t numberRHS = (int32_t)(xmultiply (
                (putBITp (16, mGENERATExLUMP_ARRAYSIZExOP,
                          getBIT (16, mGENERATExINITOP)),
                 GENERATExLUMP_ARRAYSIZE (0)),
                (putBITp (16, mGENERATExLUMP_TERMINALSIZExOP,
                          getBIT (16, mGENERATExINITOP)),
                 GENERATExLUMP_TERMINALSIZE (0))));
            putFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN, numberRHS);
          }
          // INITWALK, INITDECR = INITWALK + 1; (14169)
          {
            int32_t numberRHS
                = (int32_t)(xadd (getFIXED (mGENERATExINITWALK), 1));
            putFIXED (mGENERATExINITWALK, numberRHS);
            putFIXED (mGENERATExINITDECR, numberRHS);
          }
          // IF (SYT_FLAGS(INITOP) & NAME_FLAG) ~= 0 THEN (14170)
          if (1
              & (xNEQ (xAND (getFIXED (getFIXED (mSYM_TAB)
                                       + 34 * (COREHALFWORD (mGENERATExINITOP))
                                       + 8 + 4 * (0)),
                             getFIXED (mNAME_FLAG)),
                       0)))
            // DO; (14171)
            {
            rs1s1s2:;
              // INITTYPE = STRUCTURE; (14172)
              {
                descriptor_t *bitRHS = getBIT (8, mSTRUCTURE);
                putBIT (16, mGENERATExINITTYPE, bitRHS);
                bitRHS->inUse = 0;
              }
              // N = 1; (14173)
              {
                int32_t numberRHS = (int32_t)(1);
                putFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN, numberRHS);
              }
            es1s1s2:;
            } // End of DO block
          // ELSE (14174)
          else
            // DO; (14175)
            {
            rs1s1s3:;
              // INITTYPE = SYT_TYPE(INITOP); (14176)
              {
                descriptor_t *bitRHS
                    = getBIT (8, getFIXED (mSYM_TAB)
                                     + 34 * (COREHALFWORD (mGENERATExINITOP))
                                     + 32 + 1 * (0));
                putBIT (16, mGENERATExINITTYPE, bitRHS);
                bitRHS->inUse = 0;
              }
              // IF PACKTYPE(INITTYPE) = BITS THEN (14177)
              if (1
                  & (xEQ (BYTE0 (mPACKTYPE
                                 + 1 * COREHALFWORD (mGENERATExINITTYPE)),
                          BYTE0 (mBITS))))
                // DENSESHIFT = SHR(SYT_DIMS(INITOP), 8) &  255; (14178)
                {
                  int32_t numberRHS = (int32_t)(xAND (
                      SHR (COREHALFWORD (
                               getFIXED (mSYM_TAB)
                               + 34 * (COREHALFWORD (mGENERATExINITOP)) + 18
                               + 2 * (0)),
                           8),
                      255));
                  descriptor_t *bitRHS;
                  bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                  putBIT (16, mGENERATExDENSESHIFT, bitRHS);
                  bitRHS->inUse = 0;
                }
              // ELSE (14179)
              else
                // DENSESHIFT = 0; (14180)
                {
                  int32_t numberRHS = (int32_t)(0);
                  descriptor_t *bitRHS;
                  bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                  putBIT (16, mGENERATExDENSESHIFT, bitRHS);
                  bitRHS->inUse = 0;
                }
            es1s1s3:;
            } // End of DO block
          // INITADDR = INITSTART + STRUCT_MOD + SYT_ADDR(INITOP); (14181)
          {
            int32_t numberRHS = (int32_t)(xadd (
                xadd (getFIXED (mGENERATExINITSTART),
                      getFIXED (mGENERATExSTRUCT_MOD)),
                getFIXED (getFIXED (mSYM_TAB)
                          + 34 * (COREHALFWORD (mGENERATExINITOP)) + 4
                          + 4 * (0))));
            putFIXED (mGENERATExINITADDR, numberRHS);
          }
        es1s1:;
        } // End of DO block
      // ELSE (14182)
      else
        // DO; (14183)
        {
        rs1s2:;
          // N = N - 1; (14184)
          {
            int32_t numberRHS = (int32_t)(xsubtract (
                getFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN), 1));
            putFIXED (mGENERATExGEN_CLASS8xSTRUCTURE_WALKxN, numberRHS);
          }
          // INITWALK = INITWALK + 1; (14185)
          {
            int32_t numberRHS
                = (int32_t)(xadd (getFIXED (mGENERATExINITWALK), 1));
            putFIXED (mGENERATExINITWALK, numberRHS);
          }
        es1s2:;
        } // End of DO block
    }     // End of DO WHILE block
  {
    reentryGuard = 0;
    return 0;
  }
}

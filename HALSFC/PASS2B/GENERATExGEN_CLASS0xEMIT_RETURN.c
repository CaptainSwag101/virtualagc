/*
  File GENERATExGEN_CLASS0xEMIT_RETURN.c generated by XCOM-I, 2024-08-09
  12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExGEN_CLASS0xEMIT_RETURN (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "GENERATExGEN_CLASS0xEMIT_RETURN");
  // IF SYT_TYPE(INDEX) < TASK_LABEL THEN (11901)
  if (1
      & (xLT (BYTE0 (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mINDEX)) + 32
                     + 1 * (0)),
              BYTE0 (mTASK_LABEL))))
    // DO; (11902)
    {
    rs1:;
      // IF DATA_REMOTE & (SYT_SCOPE(INDEX) = PROGPOINT) THEN (11903)
      if (1
          & (xAND (BYTE0 (mDATA_REMOTE),
                   xEQ (BYTE0 (getFIXED (mSYM_TAB)
                               + 34 * (COREHALFWORD (mINDEX)) + 29 + 1 * (0)),
                        COREHALFWORD (mPROGPOINT)))))
        // CALL EMITP(LDM, 0, 0, EXTSYM, DSECLR , RXTYPE); (11904)
        {
          putBITp (16, mGENERATExEMITPxINST, getBIT (8, mLDM));
          putBITp (16, mGENERATExEMITPxXREG, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mEXTSYM));
          putBITp (16, mGENERATExEMITPxPTR, getBIT (8, mDSECLR));
          putBITp (16, mGENERATExEMITPxINSTYPE, getBIT (8, mRXTYPE));
          GENERATExEMITP (0);
        }
      // IF OLD_LINKAGE THEN (11905)
      if (1 & (bitToFixed (getBIT (1, mOLD_LINKAGE))))
        // DO; (11906)
        {
        rs1s1:;
          // CALL EMITRX(LM, 0, 0, TEMPBASE, REGISTER_SAVE_AREA); (11907)
          {
            putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLM));
            putBITp (16, mGENERATExEMITRXxXREG, fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITRXxINDEX,
                     fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
            putBITp (16, mGENERATExEMITRXxXDISP,
                     getBIT (8, mREGISTER_SAVE_AREA));
            GENERATExEMITRX (0);
          }
          // IF SYT_SCOPE(INDEX) = PROGPOINT THEN (11908)
          if (1
              & (xEQ (BYTE0 (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mINDEX))
                             + 29 + 1 * (0)),
                      COREHALFWORD (mPROGPOINT))))
            // DO; (11909)
            {
            rs1s1s1:;
              // CALL EMITRX(LH, PROGBASE, 0, TEMPBASE, NEW_GLOBAL_BASE);
              // (11910)
              {
                putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLH));
                putBITp (16, mGENERATExEMITRXxXREG, getBIT (8, mPROGBASE));
                putBITp (16, mGENERATExEMITRXxINDEX,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
                putBITp (16, mGENERATExEMITRXxXDISP,
                         getBIT (8, mNEW_GLOBAL_BASE));
                GENERATExEMITRX (0);
              }
              // CALL EMITRR(BCRE, ALWAYS, LINKREG); (11911)
              {
                putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCRE));
                putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
                putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
                GENERATExEMITRR (0);
              }
            es1s1s1:;
            } // End of DO block
          // ELSE (11912)
          else
            // CALL EMITRR(BCR, ALWAYS, LINKREG); (11913)
            {
              putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCR));
              putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
              putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
              GENERATExEMITRR (0);
            }
        es1s1:;
        } // End of DO block
      // ELSE (11914)
      else
        // IF NOT_LEAF(INDEXNEST) THEN (11915)
        if (1
            & (bitToFixed (
                getBIT (1, mNOT_LEAF + 1 * COREHALFWORD (mINDEXNEST)))))
          // CALL EMITRR(SRET, ALWAYS, TEMPBASE); (11916)
          {
            putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mSRET));
            putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
            putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mTEMPBASE));
            GENERATExEMITRR (0);
          }
        // ELSE (11917)
        else
          // DO; (11918)
          {
          rs1s2:;
            // IF USAGE_LINE(R3) ~= -1 THEN (11919)
            if (1 & (xNEQ (COREHALFWORD (mUSAGE_LINE + 2 * BYTE0 (mR3)), -1)))
              // CALL EMITRX(LH, R3, 0, TEMPBASE, NEW_LOCAL_BASE); (11920)
              {
                putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLH));
                putBITp (16, mGENERATExEMITRXxXREG, getBIT (8, mR3));
                putBITp (16, mGENERATExEMITRXxINDEX,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
                putBITp (16, mGENERATExEMITRXxXDISP,
                         getBIT (8, mNEW_LOCAL_BASE));
                GENERATExEMITRX (0);
              }
            // CALL EMITRR(BCR,ALWAYS,LINKREG); (11921)
            {
              putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCR));
              putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
              putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
              GENERATExEMITRR (0);
            }
          es1s2:;
          } // End of DO block
    es1:;
    } // End of DO block
  // ELSE (11922)
  else
    // DO; (11923)
    {
    rs2:;
      // IF LAST_SVCI ~= (LINE# - 1) THEN (11924)
      if (1
          & (xNEQ (COREHALFWORD (mLAST_SVCI),
                   xsubtract (getFIXED (mLINEp), 1))))
        // DO; (11925)
        {
        rs2s1:;
          // IF LAST_SVCI ~= LAST_LOGICAL_STMT THEN (11926)
          if (1
              & (xNEQ (COREHALFWORD (mLAST_SVCI),
                       COREHALFWORD (mLAST_LOGICAL_STMT))))
            // DO; (11927)
            {
            rs2s1s1:;
              // IF LAST_SVCI ~= 0 THEN (11928)
              if (1 & (xNEQ (COREHALFWORD (mLAST_SVCI), 0)))
                // CALL ERRORS(CLASS_PR, 1,''); (11929)
                {
                  putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_PR));
                  putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(1)));
                  putCHARACTERp (mERRORSxTEXT, cToDescriptor (NULL, ""));
                  ERRORS (0);
                }
              // ELSE (11930)
              else
                // CALL ERRORS(CLASS_PR, 2,''); (11931)
                {
                  putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_PR));
                  putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(2)));
                  putCHARACTERp (mERRORSxTEXT, cToDescriptor (NULL, ""));
                  ERRORS (0);
                }
            es2s1s1:;
            } // End of DO block
        es2s1:;
        } // End of DO block
    es2:;
    } // End of DO block
  {
    reentryGuard = 0;
    return 0;
  }
}

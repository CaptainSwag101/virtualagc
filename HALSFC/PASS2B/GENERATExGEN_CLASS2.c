/*
  File GENERATExGEN_CLASS2.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExGEN_CLASS2 (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExGEN_CLASS2");
// CLASS2: (12781)
CLASS2:
  // DO; (12782)
  {
  rs1:;
    // DO CASE SUBCODE; (12783)
    {
    rs1s1:
      switch (COREHALFWORD (mSUBCODE))
        {
        case 0:
          // DO CASE OPCODE; (12785)
          {
          rs1s1s1:
            switch (COREHALFWORD (mOPCODE))
              {
              case 0:
                  // ; (12786)
                  ;
                break;
              case 1:
                // DO; (12787)
                {
                rs1s1s1s1:;
                  // RIGHTOP = GET_OPERAND(1); (12787)
                  {
                    descriptor_t *bitRHS
                        = (putBITp (16, mGENERATExGET_OPERANDxOP,
                                    fixedToBit (32, (int32_t)(1))),
                           GENERATExGET_OPERAND (0));
                    putBIT (16, mRIGHTOP, bitRHS);
                    bitRHS->inUse = 0;
                  }
                  // IF NUMOP > 2 THEN (12788)
                  if (1 & (xGT (COREHALFWORD (mNUMOP), 2)))
                    // RIGHTOP = CHECK_AGGREGATE_ASSIGN(RIGHTOP); (12789)
                    {
                      descriptor_t *bitRHS
                          = (putBITp (16, mGENERATExCHECK_AGGREGATE_ASSIGNxOP,
                                      getBIT (16, mRIGHTOP)),
                             GENERATExCHECK_AGGREGATE_ASSIGN (0));
                      putBIT (16, mRIGHTOP, bitRHS);
                      bitRHS->inUse = 0;
                    }
                  // CALL DROPSAVE(RIGHTOP); (12790)
                  {
                    putBITp (16, mGENERATExDROPSAVExENTRY,
                             getBIT (16, mRIGHTOP));
                    GENERATExDROPSAVE (0);
                  }
                  // DO LHSPTR = 2 TO NUMOP; (12791)
                  {
                    int32_t from122, to122, by122;
                    from122 = 2;
                    to122 = bitToFixed (getBIT (16, mNUMOP));
                    by122 = 1;
                    for (putBIT (16, mLHSPTR, fixedToBit (16, from122));
                         bitToFixed (getBIT (16, mLHSPTR)) <= to122; putBIT (
                             16, mLHSPTR,
                             fixedToBit (16, bitToFixed (getBIT (16, mLHSPTR))
                                                 + by122)))
                      {
                        // LEFTOP = GET_OPERAND(LHSPTR); (12792)
                        {
                          descriptor_t *bitRHS
                              = (putBITp (16, mGENERATExGET_OPERANDxOP,
                                          getBIT (16, mLHSPTR)),
                                 GENERATExGET_OPERAND (0));
                          putBIT (16, mLEFTOP, bitRHS);
                          bitRHS->inUse = 0;
                        }
                        // CALL UPDATE_ASSIGN_CHECK(LEFTOP); (12793)
                        {
                          putBITp (16, mGENERATExUPDATE_ASSIGN_CHECKxOP,
                                   getBIT (16, mLEFTOP));
                          GENERATExUPDATE_ASSIGN_CHECK (0);
                        }
                        // CALL CHAR_CALL(OPCODE, LEFTOP, RIGHTOP, 0, 0, 1);
                        // (12794)
                        {
                          putBITp (16, mGENERATExCHAR_CALLxOPCODE,
                                   getBIT (16, mOPCODE));
                          putBITp (16, mGENERATExCHAR_CALLxOP0,
                                   getBIT (16, mLEFTOP));
                          putBITp (16, mGENERATExCHAR_CALLxOP1,
                                   getBIT (16, mRIGHTOP));
                          putBITp (16, mGENERATExCHAR_CALLxOP2,
                                   fixedToBit (32, (int32_t)(0)));
                          putBITp (16, mGENERATExCHAR_CALLxOP3,
                                   fixedToBit (32, (int32_t)(0)));
                          putBITp (1, mGENERATExCHAR_CALLxCHAR_ASNMNT,
                                   fixedToBit (32, (int32_t)(1)));
                          GENERATExCHAR_CALL (0);
                        }
                        // CALL RETURN_STACK_ENTRY(LEFTOP); (12795)
                        {
                          putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
                                   getBIT (16, mLEFTOP));
                          GENERATExRETURN_STACK_ENTRY (0);
                        }
                      }
                  } // End of DO for-loop block
                  // CALL RETURN_STACK_ENTRY(RIGHTOP); (12796)
                  {
                    putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
                             getBIT (16, mRIGHTOP));
                    GENERATExRETURN_STACK_ENTRY (0);
                  }
                es1s1s1s1:;
                } // End of DO block
                break;
              case 2:
                // DO; (12798)
                {
                rs1s1s1s2:;
                  // CALL GET_CHAR_OPERANDS; (12798)
                  GENERATExGET_CHAR_OPERANDS (0);
                  // IF (SIZE(LEFTOP) | SIZE(RIGHTOP)) < 0 THEN (12799)
                  if (1
                      & (xLT (
                          xOR (COREHALFWORD (getFIXED (mIND_STACK)
                                             + 73 * (COREHALFWORD (mLEFTOP))
                                             + 48 + 2 * (0)),
                               COREHALFWORD (getFIXED (mIND_STACK)
                                             + 73 * (COREHALFWORD (mRIGHTOP))
                                             + 48 + 2 * (0))),
                          0)))
                    // TEMPSPACE = 255; (12800)
                    {
                      int32_t numberRHS = (int32_t)(255);
                      putFIXED (mTEMPSPACE, numberRHS);
                    }
                  // ELSE (12801)
                  else
                    // TEMPSPACE = MIN(SIZE(LEFTOP) + SIZE(RIGHTOP), 255);
                    // (12802)
                    {
                      int32_t numberRHS = (int32_t)((
                          putFIXED (mMINxVAL1,
                                    xadd (COREHALFWORD (
                                              getFIXED (mIND_STACK)
                                              + 73 * (COREHALFWORD (mLEFTOP))
                                              + 48 + 2 * (0)),
                                          COREHALFWORD (
                                              getFIXED (mIND_STACK)
                                              + 73 * (COREHALFWORD (mRIGHTOP))
                                              + 48 + 2 * (0)))),
                          putFIXED (mMINxVAL2, 255), MIN (0)));
                      putFIXED (mTEMPSPACE, numberRHS);
                    }
                  // RESULT = GETFREESPACE(CHAR, TEMPSPACE+2); (12803)
                  {
                    int32_t numberRHS = (int32_t)((
                        putFIXED (mGENERATExGETFREESPACExOPTYPE,
                                  BYTE0 (mCHAR)),
                        putFIXED (mGENERATExGETFREESPACExTEMPSPACE,
                                  xadd (getFIXED (mTEMPSPACE), 2)),
                        GENERATExGETFREESPACE (0)));
                    descriptor_t *bitRHS;
                    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                    putBIT (16, mRESULT, bitRHS);
                    bitRHS->inUse = 0;
                  }
                  // SIZE(RESULT) = TEMPSPACE; (12804)
                  {
                    int32_t numberRHS = (int32_t)(getFIXED (mTEMPSPACE));
                    putBIT (16,
                            getFIXED (mIND_STACK)
                                + 73 * (COREHALFWORD (mRESULT)) + 48 + 2 * (0),
                            fixedToBit (16, numberRHS));
                  }
                  // CALL CHAR_CALL(OPCODE, RESULT, LEFTOP, RIGHTOP); (12805)
                  {
                    putBITp (16, mGENERATExCHAR_CALLxOPCODE,
                             getBIT (16, mOPCODE));
                    putBITp (16, mGENERATExCHAR_CALLxOP0,
                             getBIT (16, mRESULT));
                    putBITp (16, mGENERATExCHAR_CALLxOP1,
                             getBIT (16, mLEFTOP));
                    putBITp (16, mGENERATExCHAR_CALLxOP2,
                             getBIT (16, mRIGHTOP));
                    GENERATExCHAR_CALL (0);
                  }
                  // CALL RETURN_STACK_ENTRIES(LEFTOP, RIGHTOP); (12806)
                  {
                    putBITp (16, mGENERATExRETURN_STACK_ENTRIESxPTR1,
                             getBIT (16, mLEFTOP));
                    putBITp (16, mGENERATExRETURN_STACK_ENTRIESxPTR2,
                             getBIT (16, mRIGHTOP));
                    GENERATExRETURN_STACK_ENTRIES (0);
                  }
                  // LASTRESULT = RESULT; (12807)
                  {
                    descriptor_t *bitRHS = getBIT (16, mRESULT);
                    putBIT (16, mLASTRESULT, bitRHS);
                    bitRHS->inUse = 0;
                  }
                es1s1s1s2:;
                } // End of DO block
                break;
              }
          } // End of DO CASE block
          break;
        case 1:
          // DO; (12809)
          {
          rs1s1s2:;
            // CLASS, LITTYPE = BITS; (12809)
            {
              descriptor_t *bitRHS = getBIT (8, mBITS);
              putBIT (16, mCLASS, bitRHS);
              putBIT (16, mLITTYPE, bitRHS);
              bitRHS->inUse = 0;
            }
            // RESULT = NTOC(GET_OPERAND(1), TAG); (12810)
            {
              descriptor_t *bitRHS
                  = (putBITp (16, mGENERATExNTOCxOP,
                              (putBITp (16, mGENERATExGET_OPERANDxOP,
                                        fixedToBit (32, (int32_t)(1))),
                               GENERATExGET_OPERAND (0))),
                     putBITp (16, mGENERATExNTOCxRADIX, getBIT (16, mTAG)),
                     GENERATExNTOC (0));
              putBIT (16, mRESULT, bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1s2:;
          } // End of DO block
          break;
        case 2:
          // DO; (12812)
          {
          rs1s1s3:;
            // RESULT = GET_OPERAND(1); (12812)
            {
              descriptor_t *bitRHS = (putBITp (16, mGENERATExGET_OPERANDxOP,
                                               fixedToBit (32, (int32_t)(1))),
                                      GENERATExGET_OPERAND (0));
              putBIT (16, mRESULT, bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1s3:;
          } // End of DO block
          break;
        case 3:
            // ; (12814)
            ;
          break;
        case 4:
            // ; (12815)
            ;
          break;
        case 5:
          // DO; (12816)
          {
          rs1s1s4:;
            // CLASS = SCALAR; (12816)
            {
              descriptor_t *bitRHS = getBIT (8, mSCALAR);
              putBIT (16, mCLASS, bitRHS);
              bitRHS->inUse = 0;
            }
            // RESULT = NTOC(GET_OPERAND(1)); (12817)
            {
              descriptor_t *bitRHS
                  = (putBITp (16, mGENERATExNTOCxOP,
                              (putBITp (16, mGENERATExGET_OPERANDxOP,
                                        fixedToBit (32, (int32_t)(1))),
                               GENERATExGET_OPERAND (0))),
                     GENERATExNTOC (0));
              putBIT (16, mRESULT, bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1s4:;
          } // End of DO block
          break;
        case 6:
          // DO; (12819)
          {
          rs1s1s5:;
            // CLASS = INTEGER; (12819)
            {
              descriptor_t *bitRHS = getBIT (8, mINTEGER);
              putBIT (16, mCLASS, bitRHS);
              bitRHS->inUse = 0;
            }
            // RESULT = NTOC(GET_OPERAND(1)); (12820)
            {
              descriptor_t *bitRHS
                  = (putBITp (16, mGENERATExNTOCxOP,
                              (putBITp (16, mGENERATExGET_OPERANDxOP,
                                        fixedToBit (32, (int32_t)(1))),
                               GENERATExGET_OPERAND (0))),
                     GENERATExNTOC (0));
              putBIT (16, mRESULT, bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1s5:;
          } // End of DO block
          break;
        }
    } // End of DO CASE block
    // TAG = CHAR; (12821)
    {
      descriptor_t *bitRHS = getBIT (8, mCHAR);
      putBIT (16, mTAG, bitRHS);
      bitRHS->inUse = 0;
    }
    // IF SUBCODE > 0 & NUMOP > 1 THEN (12822)
    if (1
        & (xAND (xGT (COREHALFWORD (mSUBCODE), 0),
                 xGT (COREHALFWORD (mNUMOP), 1))))
      // CALL DO_DSUB; (12823)
      GENERATExDO_DSUB (0);
    // ELSE (12824)
    else
      // CALL SETUP_VAC(RESULT); (12825)
      {
        putBITp (16, mGENERATExSETUP_VACxOP, getBIT (16, mRESULT));
        GENERATExSETUP_VAC (0);
      }
  es1:;
  } // End of DO block
  {
    reentryGuard = 0;
    return 0;
  }
}

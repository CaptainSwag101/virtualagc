/*
  File GENERATExSUBSCRIPT_MULT.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExSUBSCRIPT_MULT (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExSUBSCRIPT_MULT");
  // IF OP=0 THEN (5555)
  if (1 & (xEQ (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP), 0)))
    // RETURN; (5556)
    {
      reentryGuard = 0;
      return 0;
    }
  // INX_MUL(OP) = 1; (5557)
  {
    int32_t numberRHS = (int32_t)(1);
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP)) + 36
                + 2 * (0),
            fixedToBit (16, numberRHS));
  }
  // IF VALUE = 1 THEN (5558)
  if (1 & (xEQ (getFIXED (mGENERATExSUBSCRIPT_MULTxVALUE), 1)))
    // RETURN; (5559)
    {
      reentryGuard = 0;
      return 0;
    }
  // IF USAGE(REG(OP)) > 3 THEN (5560)
  if (1
      & (xGT (COREHALFWORD (
                  mUSAGE
                  + 2
                        * COREHALFWORD (
                            getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0))),
              3)))
    // CALL NEW_REG(OP, 1); (5561)
    {
      putBITp (16, mGENERATExNEW_REGxPTR,
               getBIT (16, mGENERATExSUBSCRIPT_MULTxOP));
      putBITp (1, mGENERATExNEW_REGxUSED, fixedToBit (32, (int32_t)(1)));
      GENERATExNEW_REG (0);
    }
  // IF VALUE < 0 THEN (5562)
  if (1 & (xLT (getFIXED (mGENERATExSUBSCRIPT_MULTxVALUE), 0)))
    // DO; (5563)
    {
    rs1:;
      // LITOP = SET_ARRAY_SIZE(-VALUE, 2); (5564)
      {
        descriptor_t *bitRHS
            = (putBITp (
                   16, mGENERATExSET_ARRAY_SIZExOP,
                   fixedToBit (32, (int32_t)(xminus (getFIXED (
                                       mGENERATExSUBSCRIPT_MULTxVALUE))))),
               putBITp (16, mGENERATExSET_ARRAY_SIZExCON,
                        fixedToBit (32, (int32_t)(2))),
               GENERATExSET_ARRAY_SIZE (0));
        putBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP, bitRHS);
        bitRHS->inUse = 0;
      }
      // CALL CHECK_ADDR_NEST(-1, LITOP); (5565)
      {
        putBITp (16, mGENERATExCHECK_ADDR_NESTxTR,
                 fixedToBit (32, (int32_t)(-1)));
        putBITp (16, mGENERATExCHECK_ADDR_NESTxOP,
                 getBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP));
        GENERATExCHECK_ADDR_NEST (0);
      }
      // CALL EMITOP(MH, REG(OP), LITOP); (5566)
      {
        putBITp (16, mGENERATExEMITOPxINST, getBIT (8, mMH));
        putBITp (
            16, mGENERATExEMITOPxXREG,
            getBIT (16, getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0)));
        putBITp (16, mGENERATExEMITOPxOP,
                 getBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP));
        GENERATExEMITOP (0);
      }
      // CALL EMITP(SLL, REG(OP), 0, SHCOUNT, 15); (5567)
      {
        putBITp (16, mGENERATExEMITPxINST, getBIT (8, mSLL));
        putBITp (
            16, mGENERATExEMITPxXREG,
            getBIT (16, getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0)));
        putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mSHCOUNT));
        putBITp (16, mGENERATExEMITPxPTR, fixedToBit (32, (int32_t)(15)));
        GENERATExEMITP (0);
      }
    es1:;
    } // End of DO block
  // ELSE (5568)
  else
    // DO; (5569)
    {
    rs2:;
      // LITOP=GET_INTEGER_LITERAL(VALUE); (5570)
      {
        descriptor_t *bitRHS
            = (putFIXED (mGENERATExGET_INTEGER_LITERALxVALUE,
                         getFIXED (mGENERATExSUBSCRIPT_MULTxVALUE)),
               GENERATExGET_INTEGER_LITERAL (0));
        putBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP, bitRHS);
        bitRHS->inUse = 0;
      }
      // IF POWER_OF_TWO(LITOP) THEN (5571)
      if (1
          & (bitToFixed (
              (putBITp (16, mGENERATExPOWER_OF_TWOxOP,
                        getBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP)),
               GENERATExPOWER_OF_TWO (0)))))
        // DO; (5572)
        {
        rs2s1:;
          // CALL EMITP(SLA, REG(OP), 0, SHCOUNT, INX_SHIFT(0)); (5573)
          {
            putBITp (16, mGENERATExEMITPxINST, getBIT (8, mSLL));
            putBITp (
                16, mGENERATExEMITPxXREG,
                getBIT (16,
                        getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0)));
            putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mSHCOUNT));
            putBITp (
                16, mGENERATExEMITPxPTR,
                getBIT (8, getFIXED (mIND_STACK) + 73 * (0) + 64 + 1 * (0)));
            GENERATExEMITP (0);
          }
        es2s1:;
        } // End of DO block
      // ELSE (5574)
      else
        // DO; (5575)
        {
        rs2s2:;
          // CALL EMITP(MHI, REG(OP), 0, 0, VAL(LITOP)); (5576)
          {
            putBITp (16, mGENERATExEMITPxINST, getBIT (8, mMHI));
            putBITp (
                16, mGENERATExEMITPxXREG,
                getBIT (16,
                        getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0)));
            putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITPxFLAG, fixedToBit (32, (int32_t)(0)));
            putBITp (
                16, mGENERATExEMITPxPTR,
                fixedToBit (
                    32,
                    (int32_t)(getFIXED (
                        getFIXED (mIND_STACK)
                        + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxLITOP))
                        + 12 + 4 * (0)))));
            GENERATExEMITP (0);
          }
          // CALL EMITP(SLL, REG(OP), 0, SHCOUNT, 15); (5577)
          {
            putBITp (16, mGENERATExEMITPxINST, getBIT (8, mSLL));
            putBITp (
                16, mGENERATExEMITPxXREG,
                getBIT (16,
                        getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                            + 46 + 2 * (0)));
            putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mSHCOUNT));
            putBITp (16, mGENERATExEMITPxPTR, fixedToBit (32, (int32_t)(15)));
            GENERATExEMITP (0);
          }
        es2s2:;
        } // End of DO block
    es2:;
    } // End of DO block
  // CALL UNRECOGNIZABLE(REG(OP)); (5578)
  {
    putBITp (
        16, mGENERATExUNRECOGNIZABLExR,
        getBIT (16, getFIXED (mIND_STACK)
                        + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                        + 46 + 2 * (0)));
    GENERATExUNRECOGNIZABLE (0);
  }
  // CALL RETURN_STACK_ENTRY(LITOP); (5579)
  {
    putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
             getBIT (16, mGENERATExSUBSCRIPT_MULTxLITOP));
    GENERATExRETURN_STACK_ENTRY (0);
  }
  // R_TYPE(REG(OP))=INTEGER; (5580)
  {
    descriptor_t *bitRHS = getBIT (8, mINTEGER);
    putBIT (8,
            mR_TYPE
                + 1
                      * (COREHALFWORD (
                          getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExSUBSCRIPT_MULTxOP))
                          + 46 + 2 * (0))),
            bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File OBJECT_GENERATORxEMIT_CARD.c generated by XCOM-I, 2024-08-08 04:34:25.
*/

#include "runtimeC.h"

int32_t
OBJECT_GENERATORxEMIT_CARD (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "OBJECT_GENERATORxEMIT_CARD");
  // IF FIRST_TIME THEN (15070)
  if (1 & (bitToFixed (getBIT (1, mOBJECT_GENERATORxFIRST_TIME))))
    // DO; (15071)
    {
    rs1:;
      // COREWORD(ADDR(DUMMY_CHAR)) = ADDR(FORTY_HALFWORD_CARD) |  1325400064;
      // (15072)
      {
        int32_t numberRHS = (int32_t)(xOR (
            ADDR (NULL, 0, "OBJECT_GENERATORxEMIT_CARDxFORTY_HALFWORD_CARD",
                  0),
            1325400064));
        COREWORD2 (ADDR (NULL, 0, "OBJECT_GENERATORxEMIT_CARDxDUMMY_CHAR", 0),
                   numberRHS);
      }
      // FIRST_TIME = FALSE; (15073)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (1, mOBJECT_GENERATORxFIRST_TIME, bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // #HALFWORDS_TO_BE_EMITTED = RECORD_ID & FTWO; (15074)
  {
    int32_t numberRHS
        = (int32_t)(xAND (COREHALFWORD (mOBJECT_GENERATORxCARD_IMAGE),
                          getFIXED (mOBJECT_GENERATORxFTWO)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_TO_BE_EMITTED, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF #HALFWORDS_TO_BE_EMITTED = 0 THEN (15075)
  if (1
      & (xEQ (
          COREHALFWORD (mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_TO_BE_EMITTED),
          0)))
    // GO TO DO_RETURN; (15076)
    goto DO_RETURN;
  // CARD_COUNTER = CARD_COUNTER + 1; (15077)
  {
    int32_t numberRHS
        = (int32_t)(xadd (COREHALFWORD (mOBJECT_GENERATORxCARD_COUNTER), 1));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxCARD_COUNTER, bitRHS);
    bitRHS->inUse = 0;
  }
  // HALFWORD_TO_BE_EMITTED = 0; (15078)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO WHILE HALFWORD_TO_BE_EMITTED < #HALFWORDS_TO_BE_EMITTED; (15079)
  while (1
         & (xLT (
             COREHALFWORD (mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED),
             COREHALFWORD (
                 mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_TO_BE_EMITTED))))
    {
      // DO WHILE #HALFWORDS_IN_CARD < 40; (15080)
      while (1
             & (xLT (
                 COREHALFWORD (mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD),
                 40)))
        {
          // FORTY_HALFWORD_CARD(#HALFWORDS_IN_CARD) =
          // CARD_IMAGE(HALFWORD_TO_BE_EMITTED); (15081)
          {
            descriptor_t *bitRHS = getBIT (
                16,
                mOBJECT_GENERATORxCARD_IMAGE
                    + 2
                          * COREHALFWORD (
                              mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED));
            putBIT (
                16,
                mOBJECT_GENERATORxEMIT_CARDxFORTY_HALFWORD_CARD
                    + 2
                          * (COREHALFWORD (
                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD)),
                bitRHS);
            bitRHS->inUse = 0;
          }
          // #HALFWORDS_IN_CARD = #HALFWORDS_IN_CARD + 1; (15082)
          {
            int32_t numberRHS = (int32_t)(xadd (
                COREHALFWORD (mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD),
                1));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD,
                    bitRHS);
            bitRHS->inUse = 0;
          }
          // HALFWORD_TO_BE_EMITTED = HALFWORD_TO_BE_EMITTED + 1; (15083)
          {
            int32_t numberRHS = (int32_t)(xadd (
                COREHALFWORD (
                    mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED),
                1));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED,
                    bitRHS);
            bitRHS->inUse = 0;
          }
          // IF HALFWORD_TO_BE_EMITTED >= #HALFWORDS_TO_BE_EMITTED THEN (15084)
          if (1
              & (xGE (
                  COREHALFWORD (
                      mOBJECT_GENERATORxEMIT_CARDxHALFWORD_TO_BE_EMITTED),
                  COREHALFWORD (
                      mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_TO_BE_EMITTED))))
            // DO; (15085)
            {
            rs2s1s1:;
              // IF FLUSH_SWITCH THEN (15086)
              if (1
                  & (bitToFixed (
                      getBIT (1, mOBJECT_GENERATORxEMIT_CARDxFLUSH_SWITCH))))
                // DO; (15087)
                {
                rs2s1s1s1:;
                  // IF #HALFWORDS_IN_CARD < 40 THEN (15088)
                  if (1
                      & (xLT (
                          COREHALFWORD (
                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD),
                          40)))
                    // DO FOR #HALFWORDS_IN_CARD = #HALFWORDS_IN_CARD TO 39;
                    // (15089)
                    {
                      int32_t from144, to144, by144;
                      from144 = bitToFixed (getBIT (
                          16, mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD));
                      to144 = 39;
                      by144 = 1;
                      for (
                          putBIT (
                              16,
                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD,
                              fixedToBit (16, from144));
                          bitToFixed (getBIT (
                              16,
                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD))
                          <= to144;
                          putBIT (
                              16,
                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD,
                              fixedToBit (
                                  16,
                                  bitToFixed (getBIT (
                                      16,
                                      mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD))
                                      + by144)))
                        {
                          // FORTY_HALFWORD_CARD(#HALFWORDS_IN_CARD) =
                          // HEX_OF_TWO_BLANKS; (15090)
                          {
                            int32_t numberRHS = (int32_t)(16448);
                            descriptor_t *bitRHS;
                            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                            putBIT (
                                16,
                                mOBJECT_GENERATORxEMIT_CARDxFORTY_HALFWORD_CARD
                                    + 2
                                          * (COREHALFWORD (
                                              mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD)),
                                bitRHS);
                            bitRHS->inUse = 0;
                          }
                        }
                    } // End of DO for-loop block
                  // GO TO DO_OUTPUT; (15091)
                  goto DO_OUTPUT;
                es2s1s1s1:;
                } // End of DO block
              // ELSE (15092)
              else
                // GO TO DO_RETURN; (15093)
                goto DO_RETURN;
            es2s1s1:;
            } // End of DO block
        }     // End of DO WHILE block
    // DO_OUTPUT: (15094)
    DO_OUTPUT:
      // IF MAX_SEVERITY = 0 THEN (15095)
      if (1 & (xEQ (COREHALFWORD (mMAX_SEVERITY), 0)))
        // DO; (15096)
        {
        rs2s2:;
          // OUTPUT(3) = DUMMY_CHAR; (15097)
          {
            descriptor_t *stringRHS;
            stringRHS = getCHARACTER (mOBJECT_GENERATORxEMIT_CARDxDUMMY_CHAR);
            OUTPUT (3, stringRHS);
            stringRHS->inUse = 0;
          }
          // IF DECK_REQUESTED THEN (15098)
          if (1 & (bitToFixed (getBIT (1, mDECK_REQUESTED))))
            // OUTPUT(4) = DUMMY_CHAR; (15099)
            {
              descriptor_t *stringRHS;
              stringRHS
                  = getCHARACTER (mOBJECT_GENERATORxEMIT_CARDxDUMMY_CHAR);
              OUTPUT (4, stringRHS);
              stringRHS->inUse = 0;
            }
        es2s2:;
        } // End of DO block
      // #HALFWORDS_IN_CARD = 0; (15100)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mOBJECT_GENERATORxEMIT_CARDxpHALFWORDS_IN_CARD, bitRHS);
        bitRHS->inUse = 0;
      }
    } // End of DO WHILE block
// DO_RETURN: (15101)
DO_RETURN:
  // FLUSH_SWITCH = 0; (15102)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (1, mOBJECT_GENERATORxEMIT_CARDxFLUSH_SWITCH, bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

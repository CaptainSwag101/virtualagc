/*
  File SET_MASKING_BIT.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
SET_MASKING_BIT (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "SET_MASKING_BIT");
  // STMT# = STMT_NO &  32767; (1447)
  {
    int32_t numberRHS
        = (int32_t)(xAND (COREHALFWORD (mSET_MASKING_BITxSTMT_NO), 32767));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mSET_MASKING_BITxSTMTp, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF STMT# = 0 THEN (1448)
  if (1 & (xEQ (COREHALFWORD (mSET_MASKING_BITxSTMTp), 0)))
    // DO; (1449)
    {
    rs1:;
      // IF FIRST_CALL THEN (1450)
      if (1 & (bitToFixed (getBIT (1, mSET_MASKING_BITxFIRST_CALL))))
        // DO; (1451)
        {
        rs1s1:;
          // FIRST_CALL = FALSE; (1452)
          {
            int32_t numberRHS = (int32_t)(0);
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (1, mSET_MASKING_BITxFIRST_CALL, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF ((OPTION_BITS &  2048) ~= 0) THEN (1453)
          if (1 & (xNEQ (xAND (getFIXED (mCOMM + 4 * 7), 2048), 0)))
            // DO; (1454)
            {
            rs1s1s1:;
              // GO_FLAG = TRUE; (1455)
              {
                int32_t numberRHS = (int32_t)(1);
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (1, mSET_MASKING_BITxGO_FLAG, bitRHS);
                bitRHS->inUse = 0;
              }
              // STMT_DATA_PTR = STMT_DATA_HEAD; (1456)
              {
                int32_t numberRHS = (int32_t)(getFIXED (mCOMM + 4 * 16));
                putFIXED (mSET_MASKING_BITxSTMT_DATA_PTR, numberRHS);
              }
            es1s1s1:;
            } // End of DO block
        es1s1:;
        } // End of DO block
      // ELSE (1457)
      else
        // DO; (1458)
        {
        rs1s2:;
          // GO_FLAG = FALSE; (1459)
          {
            int32_t numberRHS = (int32_t)(0);
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (1, mSET_MASKING_BITxGO_FLAG, bitRHS);
            bitRHS->inUse = 0;
          }
        es1s2:;
        } // End of DO block
    es1:;
    } // End of DO block
  // ELSE (1460)
  else
    // IF GO_FLAG THEN (1461)
    if (1 & (bitToFixed (getBIT (1, mSET_MASKING_BITxGO_FLAG))))
      // DO; (1462)
      {
      rs2:;
        // DO WHILE CUR_STMT# < STMT#; (1463)
        while (1
               & (xLT (COREHALFWORD (mSET_MASKING_BITxCUR_STMTp),
                       COREHALFWORD (mSET_MASKING_BITxSTMTp))))
          {
            // CALL NEXT; (1464)
            SET_MASKING_BITxNEXT (0);
            // IF CUR_STMT# ~= STMT# THEN (1465)
            if (1
                & (xNEQ (COREHALFWORD (mSET_MASKING_BITxCUR_STMTp),
                         COREHALFWORD (mSET_MASKING_BITxSTMTp))))
              // STMT_DATA_PTR = NODE_F(0); (1466)
              {
                int32_t numberRHS = (int32_t)(getFIXED (
                    getFIXED (mSET_MASKING_BITxNODE_F) + 4 * 0));
                putFIXED (mSET_MASKING_BITxSTMT_DATA_PTR, numberRHS);
              }
          } // End of DO WHILE block
        // IF STMT# = CUR_STMT# THEN (1467)
        if (1
            & (xEQ (COREHALFWORD (mSET_MASKING_BITxSTMTp),
                    COREHALFWORD (mSET_MASKING_BITxCUR_STMTp))))
          // DO; (1468)
          {
          rs2s2:;
            // NODE_F(6) = NODE_F(6) |  33554432; (1469)
            {
              int32_t numberRHS = (int32_t)(xOR (
                  getFIXED (getFIXED (mSET_MASKING_BITxNODE_F) + 4 * 6),
                  33554432));
              putFIXED (getFIXED (mSET_MASKING_BITxNODE_F) + 4 * (6),
                        numberRHS);
            }
            // CALL PTR_LOCATE(STMT_DATA_PTR,MODF); (1470)
            {
              putFIXED (mPTR_LOCATExPTR,
                        getFIXED (mSET_MASKING_BITxSTMT_DATA_PTR));
              putBITp (8, mPTR_LOCATExFLAGS, getBIT (8, mMODF));
              PTR_LOCATE (0);
            }
            // IF CUR_STMT# ~= 0 THEN (1471)
            if (1 & (xNEQ (COREHALFWORD (mSET_MASKING_BITxCUR_STMTp), 0)))
              // STMT_DATA_PTR = NODE_F(0); (1472)
              {
                int32_t numberRHS = (int32_t)(getFIXED (
                    getFIXED (mSET_MASKING_BITxNODE_F) + 4 * 0));
                putFIXED (mSET_MASKING_BITxSTMT_DATA_PTR, numberRHS);
              }
          es2s2:;
          } // End of DO block
        // ELSE (1473)
        else
          // DO; (1474)
          {
          rs2s3:;
            // CALL PTR_LOCATE(STMT_DATA_PTR,RELS); (1475)
            {
              putFIXED (mPTR_LOCATExPTR,
                        getFIXED (mSET_MASKING_BITxSTMT_DATA_PTR));
              putBITp (8, mPTR_LOCATExFLAGS, getBIT (8, mRELS));
              PTR_LOCATE (0);
            }
            // CALL ERRORS(CLASS_BI,500); (1476)
            {
              putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_BI));
              putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(500)));
              ERRORS (0);
            }
          es2s3:;
          } // End of DO block
      es2:;
      } // End of DO block
  {
    reentryGuard = 0;
    return 0;
  }
}

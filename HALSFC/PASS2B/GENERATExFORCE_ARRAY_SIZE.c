/*
  File GENERATExFORCE_ARRAY_SIZE.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExFORCE_ARRAY_SIZE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExFORCE_ARRAY_SIZE");
  // IF DECLMODE THEN (6798)
  if (1 & (bitToFixed (getBIT (1, mDECLMODE))))
    // CALL RESUME_LOCCTR(NARGINDEX); (6799)
    {
      putBITp (16, mGENERATExRESUME_LOCCTRxNEST, getBIT (16, mNARGINDEX));
      GENERATExRESUME_LOCCTR (0);
    }
  // IF R < 0 THEN (6800)
  if (1 & (xLT (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExR), 0)))
    // DO; (6801)
    {
    rs1:;
      // R = FINDAC(INDEX_REG); (6802)
      {
        descriptor_t *bitRHS = (putBITp (16, mGENERATExFINDACxRCLASS,
                                         fixedToBit (32, (int32_t)(4))),
                                GENERATExFINDAC (0));
        putBIT (16, mGENERATExFORCE_ARRAY_SIZExR, bitRHS);
        bitRHS->inUse = 0;
      }
      // USAGE(R) = 0; (6803)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mUSAGE + 2 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExR)),
                bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // ELSE (6804)
  else
    // CALL CHECKPOINT_REG(R); (6805)
    {
      putBITp (16, mGENERATExCHECKPOINT_REGxR,
               getBIT (16, mGENERATExFORCE_ARRAY_SIZExR));
      GENERATExCHECKPOINT_REG (0);
    }
  // IF VALUE < 0 THEN (6806)
  if (1 & (xLT (getFIXED (mGENERATExFORCE_ARRAY_SIZExVALUE), 0)))
    // DO; (6807)
    {
    rs2:;
      // PTR = SET_ARRAY_SIZE(-VALUE); (6808)
      {
        descriptor_t *bitRHS
            = (putBITp (
                   16, mGENERATExSET_ARRAY_SIZExOP,
                   fixedToBit (32, (int32_t)(xminus (getFIXED (
                                       mGENERATExFORCE_ARRAY_SIZExVALUE))))),
               GENERATExSET_ARRAY_SIZE (0));
        putBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // CALL CHECK_ADDR_NEST(R, PTR); (6809)
      {
        putBITp (16, mGENERATExCHECK_ADDR_NESTxTR,
                 getBIT (16, mGENERATExFORCE_ARRAY_SIZExR));
        putBITp (16, mGENERATExCHECK_ADDR_NESTxOP,
                 getBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR));
        GENERATExCHECK_ADDR_NEST (0);
      }
      // CALL EMITOP(L, R, PTR); (6810)
      {
        putBITp (16, mGENERATExEMITOPxINST, getBIT (8, mL));
        putBITp (16, mGENERATExEMITOPxXREG,
                 getBIT (16, mGENERATExFORCE_ARRAY_SIZExR));
        putBITp (16, mGENERATExEMITOPxOP,
                 getBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR));
        GENERATExEMITOP (0);
      }
      // FORM(PTR) = VAC; (6811)
      {
        descriptor_t *bitRHS = getBIT (8, mVAC);
        putBIT (16,
                getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExPTR)) + 32
                    + 2 * (0),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // LOC2(PTR) = -1; (6812)
      {
        int32_t numberRHS = (int32_t)(-1);
        putBIT (16,
                getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExPTR)) + 42
                    + 2 * (0),
                fixedToBit (16, numberRHS));
      }
      // TYPE(PTR) = INTEGER; (6813)
      {
        descriptor_t *bitRHS = getBIT (8, mINTEGER);
        putBIT (16,
                getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExPTR)) + 50
                    + 2 * (0),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // REG(PTR) = R; (6814)
      {
        descriptor_t *bitRHS = getBIT (16, mGENERATExFORCE_ARRAY_SIZExR);
        putBIT (16,
                getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExPTR)) + 46
                    + 2 * (0),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // USAGE(R) = 2; (6815)
      {
        int32_t numberRHS = (int32_t)(2);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mUSAGE + 2 * (COREHALFWORD (mGENERATExFORCE_ARRAY_SIZExR)),
                bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  // ELSE (6816)
  else
    // DO; (6817)
    {
    rs3:;
      // PTR = GET_INTEGER_LITERAL(VALUE); (6818)
      {
        descriptor_t *bitRHS
            = (putFIXED (mGENERATExGET_INTEGER_LITERALxVALUE,
                         getFIXED (mGENERATExFORCE_ARRAY_SIZExVALUE)),
               GENERATExGET_INTEGER_LITERAL (0));
        putBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // TR = TARGET_REGISTER; (6819)
      {
        descriptor_t *bitRHS = getBIT (16, mTARGET_REGISTER);
        putBIT (16, mGENERATExFORCE_ARRAY_SIZExTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // TARGET_REGISTER = R; (6820)
      {
        descriptor_t *bitRHS = getBIT (16, mGENERATExFORCE_ARRAY_SIZExR);
        putBIT (16, mTARGET_REGISTER, bitRHS);
        bitRHS->inUse = 0;
      }
      // CALL FORCE_ACCUMULATOR(PTR); (6821)
      {
        putBITp (16, mGENERATExFORCE_ACCUMULATORxOP,
                 getBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR));
        GENERATExFORCE_ACCUMULATOR (0);
      }
      // TARGET_REGISTER = TR; (6822)
      {
        descriptor_t *bitRHS = getBIT (16, mGENERATExFORCE_ARRAY_SIZExTR);
        putBIT (16, mTARGET_REGISTER, bitRHS);
        bitRHS->inUse = 0;
      }
    es3:;
    } // End of DO block
  // RETURN PTR; (6823)
  {
    reentryGuard = 0;
    return getBIT (16, mGENERATExFORCE_ARRAY_SIZExPTR);
  }
}

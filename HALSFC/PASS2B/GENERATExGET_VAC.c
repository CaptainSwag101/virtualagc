/*
  File GENERATExGET_VAC.c generated by XCOM-I, 2024-08-08 04:34:25.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExGET_VAC (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExGET_VAC");
  // IF R < 0 THEN (5053)
  if (1 & (xLT (COREHALFWORD (mGENERATExGET_VACxR), 0)))
    // R = FINDAC(INDEX_REG); (5054)
    {
      descriptor_t *bitRHS = (putBITp (16, mGENERATExFINDACxRCLASS,
                                       fixedToBit (32, (int32_t)(4))),
                              GENERATExFINDAC (0));
      putBIT (16, mGENERATExGET_VACxR, bitRHS);
      bitRHS->inUse = 0;
    }
  // ELSE (5055)
  else
    // IF USAGE(R) < 2 THEN (5056)
    if (1
        & (xLT (COREHALFWORD (mUSAGE + 2 * COREHALFWORD (mGENERATExGET_VACxR)),
                2)))
      // USAGE(R) = USAGE(R) + 2; (5057)
      {
        int32_t numberRHS = (int32_t)(xadd (
            COREHALFWORD (mUSAGE + 2 * COREHALFWORD (mGENERATExGET_VACxR)),
            2));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mUSAGE + 2 * (COREHALFWORD (mGENERATExGET_VACxR)), bitRHS);
        bitRHS->inUse = 0;
      }
  // IF TYP = 0 THEN (5058)
  if (1 & (xEQ (COREHALFWORD (mGENERATExGET_VACxTYP), 0)))
    // TYP = INTEGER; (5059)
    {
      descriptor_t *bitRHS = getBIT (8, mINTEGER);
      putBIT (16, mGENERATExGET_VACxTYP, bitRHS);
      bitRHS->inUse = 0;
    }
  // PTR = GET_STACK_ENTRY; (5060)
  {
    int32_t numberRHS = (int32_t)(GENERATExGET_STACK_ENTRY (0));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mGENERATExGET_VACxPTR, bitRHS);
    bitRHS->inUse = 0;
  }
  // FORM(PTR) = VAC; (5061)
  {
    descriptor_t *bitRHS = getBIT (8, mVAC);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mGENERATExGET_VACxPTR))
                + 32 + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // LOC2(PTR) = -1; (5062)
  {
    int32_t numberRHS = (int32_t)(-1);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mGENERATExGET_VACxPTR))
                + 42 + 2 * (0),
            fixedToBit (16, numberRHS));
  }
  // REG(PTR) = R; (5063)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExGET_VACxR);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mGENERATExGET_VACxPTR))
                + 46 + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // TYPE(PTR), R_TYPE(R) = TYP; (5064)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExGET_VACxTYP);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mGENERATExGET_VACxPTR))
                + 50 + 2 * (0),
            bitRHS);
    putBIT (8, mR_TYPE + 1 * (COREHALFWORD (mGENERATExGET_VACxR)), bitRHS);
    bitRHS->inUse = 0;
  }
  // TYP = 0; (5065)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mGENERATExGET_VACxTYP, bitRHS);
    bitRHS->inUse = 0;
  }
  // RETURN PTR; (5066)
  {
    reentryGuard = 0;
    return getBIT (16, mGENERATExGET_VACxPTR);
  }
}

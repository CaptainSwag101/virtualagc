/*
  File GENERATExSUCCESSOR.c generated by XCOM-I, 2024-08-08 04:34:25.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExSUCCESSOR (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExSUCCESSOR");
  // KIN = SYT_LINK2(XLOC); (7778)
  {
    descriptor_t *bitRHS
        = getBIT (16, getFIXED (mSYM_TAB)
                          + 34 * (COREHALFWORD (mGENERATExSUCCESSORxXLOC)) + 26
                          + 2 * (0));
    putBIT (16, mKIN, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF KIN >= 0 THEN (7779)
  if (1 & (xGE (COREHALFWORD (mKIN), 0)))
    // RETURN KIN; (7780)
    {
      reentryGuard = 0;
      return getBIT (16, mKIN);
    }
  // IF (SYT_LOCK#(-KIN)& 128) ~= 0 THEN (7781)
  if (1
      & (xNEQ (
          xAND (BYTE0 (getFIXED (mSYM_TAB)
                       + 34 * (xminus (COREHALFWORD (mKIN))) + 31 + 1 * (0)),
                128),
          0)))
    // DO; (7782)
    {
    rs1:;
      // KIN = -KIN; (7783)
      {
        int32_t numberRHS = (int32_t)(xminus (COREHALFWORD (mKIN)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mKIN, bitRHS);
        bitRHS->inUse = 0;
      }
      // DO CASE REF; (7784)
      {
      rs1s1:
        switch (COREHALFWORD (mGENERATExSUCCESSORxREF))
          {
          case 0:
            // DO; (7786)
            {
            rs1s1s1:;
              // IF SYT_LINK2(KIN) = 0 THEN (7786)
              if (1
                  & (xEQ (COREHALFWORD (getFIXED (mSYM_TAB)
                                        + 34 * (COREHALFWORD (mKIN)) + 26
                                        + 2 * (0)),
                          0)))
                // RETURN -KIN; (7787)
                {
                  reentryGuard = 0;
                  return fixedToBit (32,
                                     (int32_t)(xminus (COREHALFWORD (mKIN))));
                }
              // KIN = SYT_LINK2(KIN); (7788)
              {
                descriptor_t *bitRHS = getBIT (
                    16, getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mKIN)) + 26
                            + 2 * (0));
                putBIT (16, mKIN, bitRHS);
                bitRHS->inUse = 0;
              }
            es1s1s1:;
            } // End of DO block
            break;
          case 1:
            // DO; (7790)
            {
            rs1s1s2:;
              // IF SYT_DIMS(KIN) = 0 THEN (7790)
              if (1
                  & (xEQ (COREHALFWORD (getFIXED (mSYM_TAB)
                                        + 34 * (COREHALFWORD (mKIN)) + 18
                                        + 2 * (0)),
                          0)))
                // RETURN -KIN; (7791)
                {
                  reentryGuard = 0;
                  return fixedToBit (32,
                                     (int32_t)(xminus (COREHALFWORD (mKIN))));
                }
              // KIN = SYT_DIMS(KIN); (7792)
              {
                descriptor_t *bitRHS = getBIT (
                    16, getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mKIN)) + 18
                            + 2 * (0));
                putBIT (16, mKIN, bitRHS);
                bitRHS->inUse = 0;
              }
            es1s1s2:;
            } // End of DO block
            break;
          }
      } // End of DO CASE block
      // STRUCT_MOD(REF) = STRUCT_MOD(REF) - SYT_ADDR(KIN); (7793)
      {
        int32_t numberRHS = (int32_t)(xsubtract (
            getFIXED (mGENERATExSTRUCT_MOD
                      + 4 * COREHALFWORD (mGENERATExSUCCESSORxREF)),
            getFIXED (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mKIN)) + 4
                      + 4 * (0))));
        putFIXED (mGENERATExSTRUCT_MOD
                      + 4 * (COREHALFWORD (mGENERATExSUCCESSORxREF)),
                  numberRHS);
      }
      // RETURN -KIN; (7794)
      {
        reentryGuard = 0;
        return fixedToBit (32, (int32_t)(xminus (COREHALFWORD (mKIN))));
      }
    es1:;
    } // End of DO block
  // RETURN KIN; (7795)
  {
    reentryGuard = 0;
    return getBIT (16, mKIN);
  }
}

/*
  File OBJECT_GENERATORxEMIT_END_CARDxCTOI.c generated by XCOM-I, 2024-08-09
  12:41:33.
*/

#include "runtimeC.h"

descriptor_t *
OBJECT_GENERATORxEMIT_END_CARDxCTOI (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "OBJECT_GENERATORxEMIT_END_CARDxCTOI");
  // RESULT = 0; (15924)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxRESULT, bitRHS);
    bitRHS->inUse = 0;
  }
// ACCUM_LOOP: (15925)
ACCUM_LOOP:
  // DO FOR I = 0 TO LENGTH(CHARS) - 1; (15926)
  {
    int32_t from148, to148, by148;
    from148 = 0;
    to148 = xsubtract (
        LENGTH (getCHARACTER (mOBJECT_GENERATORxEMIT_END_CARDxCTOIxCHARS)), 1);
    by148 = 1;
    for (putBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI,
                 fixedToBit (16, from148));
         bitToFixed (getBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI))
         <= to148;
         putBIT (
             16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI,
             fixedToBit (16, bitToFixed (getBIT (
                                 16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI))
                                 + by148)))
      {
        // NUM_INDEX = CHAR_INDEX(NUMSEQ, SUBSTR(CHARS, I, 1)); (15927)
        {
          descriptor_t *bitRHS
              = (putCHARACTERp (mCHAR_INDEXxSTRING1, getCHARACTER (mNUMSEQ)),
                 putCHARACTERp (
                     mCHAR_INDEXxSTRING2,
                     SUBSTR (
                         getCHARACTER (
                             mOBJECT_GENERATORxEMIT_END_CARDxCTOIxCHARS),
                         COREHALFWORD (mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI),
                         1)),
                 CHAR_INDEX (0));
          putBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxNUM_INDEX, bitRHS);
          bitRHS->inUse = 0;
        }
        // IF NUM_INDEX < 0 THEN (15928)
        if (1
            & (xLT (
                COREHALFWORD (mOBJECT_GENERATORxEMIT_END_CARDxCTOIxNUM_INDEX),
                0)))
          // DO; (15929)
          {
          rs1s1:;
            // IF BYTE(CHARS, I) = BYTE('.') THEN (15930)
            if (1
                & (xEQ (BYTE (getCHARACTER (
                                  mOBJECT_GENERATORxEMIT_END_CARDxCTOIxCHARS),
                              COREHALFWORD (
                                  mOBJECT_GENERATORxEMIT_END_CARDxCTOIxI)),
                        BYTE1 (cToDescriptor (NULL, ".")))))
              // REPEAT ACCUM_LOOP; (15931)
              goto rs1;
            // ELSE (15932)
            else
              // NUM_INDEX = 0; (15933)
              {
                int32_t numberRHS = (int32_t)(0);
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxNUM_INDEX,
                        bitRHS);
                bitRHS->inUse = 0;
              }
          es1s1:;
          } // End of DO block
        // RESULT = (RESULT * 10) + NUMBERS(NUM_INDEX); (15934)
        {
          int32_t numberRHS = (int32_t)(xadd (
              xmultiply (
                  COREHALFWORD (mOBJECT_GENERATORxEMIT_END_CARDxCTOIxRESULT),
                  10),
              COREHALFWORD (
                  mOBJECT_GENERATORxEMIT_END_CARDxCTOIxNUMBERS
                  + 2
                        * COREHALFWORD (
                            mOBJECT_GENERATORxEMIT_END_CARDxCTOIxNUM_INDEX))));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxRESULT, bitRHS);
          bitRHS->inUse = 0;
        }
        if (0)
          {
          rs1:
            continue;
          es1:
            break;
          } // loop of block labeled ACCUM_LOOP
      }
  } // End of DO for-loop block
  // RETURN RESULT; (15935)
  {
    reentryGuard = 0;
    return getBIT (16, mOBJECT_GENERATORxEMIT_END_CARDxCTOIxRESULT);
  }
}

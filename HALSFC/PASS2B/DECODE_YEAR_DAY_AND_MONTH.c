/*
  File DECODE_YEAR_DAY_AND_MONTH.c generated by XCOM-I, 2024-08-08 04:34:25.
*/

#include "runtimeC.h"

int32_t
DECODE_YEAR_DAY_AND_MONTH (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "DECODE_YEAR_DAY_AND_MONTH");
  // YEAR = DATE_VALUE / 1000; (1360)
  {
    int32_t numberRHS = (int32_t)(xdivide (
        getFIXED (mDECODE_YEAR_DAY_AND_MONTHxDATE_VALUE), 1000));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDECODE_YEAR_DAY_AND_MONTHxYEAR, bitRHS);
    bitRHS->inUse = 0;
  }
  // DAY = DATE_VALUE MOD 1000; (1361)
  {
    int32_t numberRHS = (int32_t)(xmod (
        getFIXED (mDECODE_YEAR_DAY_AND_MONTHxDATE_VALUE), 1000));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDECODE_YEAR_DAY_AND_MONTHxDAY, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF (YEAR &  3) ~= 0 THEN (1362)
  if (1 & (xNEQ (xAND (COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxYEAR), 3), 0)))
    // IF DAY > 59 THEN (1363)
    if (1 & (xGT (COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxDAY), 59)))
      // DAY = DAY + 1; (1364)
      {
        int32_t numberRHS = (int32_t)(xadd (
            COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxDAY), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mDECODE_YEAR_DAY_AND_MONTHxDAY, bitRHS);
        bitRHS->inUse = 0;
      }
  // MONTH = 1; (1365)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDECODE_YEAR_DAY_AND_MONTHxMONTH, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO WHILE DAY > DAYS(MONTH); (1366)
  while (1
         & (xGT (COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxDAY),
                 COREHALFWORD (
                     mDECODE_YEAR_DAY_AND_MONTHxDAYS
                     + 2 * COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxMONTH)))))
    {
      // MONTH = MONTH + 1; (1367)
      {
        int32_t numberRHS = (int32_t)(xadd (
            COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxMONTH), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mDECODE_YEAR_DAY_AND_MONTHxMONTH, bitRHS);
        bitRHS->inUse = 0;
      }
    } // End of DO WHILE block
  // RETURN SHL(YEAR, 16) | SHL(DAY - DAYS(MONTH - 1), 8) | MONTH; (1368)
  {
    reentryGuard = 0;
    return xOR (
        xOR (SHL (COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxYEAR), 16),
             SHL (xsubtract (
                      COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxDAY),
                      COREHALFWORD (
                          mDECODE_YEAR_DAY_AND_MONTHxDAYS
                          + 2
                                * xsubtract (
                                    COREHALFWORD (
                                        mDECODE_YEAR_DAY_AND_MONTHxMONTH),
                                    1))),
                  8)),
        COREHALFWORD (mDECODE_YEAR_DAY_AND_MONTHxMONTH));
  }
}

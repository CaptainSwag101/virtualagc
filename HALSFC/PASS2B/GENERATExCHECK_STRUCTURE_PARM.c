/*
  File GENERATExCHECK_STRUCTURE_PARM.c generated by XCOM-I, 2024-08-08
  04:34:25.
*/

#include "runtimeC.h"

int32_t
GENERATExCHECK_STRUCTURE_PARM (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExCHECK_STRUCTURE_PARM");
  // IF TAG THEN (8035)
  if (1 & (bitToFixed (getBIT (1, mGENERATExCHECK_STRUCTURE_PARMxTAG))))
    // CALL CHECK_ATTRIBUTES; (8036)
    GENERATExCHECK_ATTRIBUTES (0);
  // IF TYPE(RIGHTOP) ~= STRUCTURE THEN (8037)
  if (1
      & (xNEQ (COREHALFWORD (getFIXED (mIND_STACK)
                             + 73 * (COREHALFWORD (mRIGHTOP)) + 50 + 2 * (0)),
               BYTE0 (mSTRUCTURE))))
    // IF CLASS=8 THEN (8038)
    if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
      // CALL ERRORS(CLASS_DI,108); (8039)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(108)));
        ERRORS (0);
      }
    // ELSE (8040)
    else
      // CALL ERRORS(CLASS_FT,101,''||ARGNO); (8041)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FT));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(101)));
        putCHARACTERp (mERRORSxTEXT,
                       xsCAT (cToDescriptor (NULL, ""),
                              bitToCharacter (getBIT (16, mARGNO))));
        ERRORS (0);
      }
  // STRUCTP = SYT_ARRAY(ARGPOINT) ~= 0; (8042)
  {
    int32_t numberRHS = (int32_t)(xNEQ (
        COREHALFWORD (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mARGPOINT))
                      + 20 + 2 * (0)),
        0));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (1, mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF STRUCTP ~= STRUCT(RIGHTOP) THEN (8043)
  if (1
      & (xNEQ (BYTE0 (mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP),
               BYTE0 (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                      + 65 + 1 * (0)))))
    // IF CLASS=8 THEN (8044)
    if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
      // CALL ERRORS(CLASS_DI,110); (8045)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(110)));
        ERRORS (0);
      }
    // ELSE (8046)
    else
      // CALL ERRORS(CLASS_FD,103,''||ARGNO); (8047)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FD));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(103)));
        putCHARACTERp (mERRORSxTEXT,
                       xsCAT (cToDescriptor (NULL, ""),
                              bitToCharacter (getBIT (16, mARGNO))));
        ERRORS (0);
      }
  // IF STRUCTP THEN (8048)
  if (1 & (bitToFixed (getBIT (1, mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP))))
    // DO; (8049)
    {
    rs1:;
      // IF SYMFORM(FORM(RIGHTOP)) THEN (8050)
      if (1
          & (bitToFixed (getBIT (
              1, mSYMFORM
                     + 1
                           * COREHALFWORD (getFIXED (mIND_STACK)
                                           + 73 * (COREHALFWORD (mRIGHTOP))
                                           + 32 + 2 * (0))))))
        // I = SYT_ARRAY(LOC(RIGHTOP)); (8051)
        {
          descriptor_t *bitRHS = getBIT (
              16, getFIXED (mSYM_TAB)
                      + 34
                            * (COREHALFWORD (getFIXED (mIND_STACK)
                                             + 73 * (COREHALFWORD (mRIGHTOP))
                                             + 40 + 2 * (0)))
                      + 20 + 2 * (0));
          putBIT (16, mGENERATExCHECK_STRUCTURE_PARMxI, bitRHS);
          bitRHS->inUse = 0;
        }
      // ELSE (8052)
      else
        // I = SF_RANGE(VAL(RIGHTOP)); (8053)
        {
          descriptor_t *bitRHS = getBIT (
              16, mGENERATExSF_RANGE
                      + 2
                            * getFIXED (getFIXED (mIND_STACK)
                                        + 73 * (COREHALFWORD (mRIGHTOP)) + 12
                                        + 4 * (0)));
          putBIT (16, mGENERATExCHECK_STRUCTURE_PARMxI, bitRHS);
          bitRHS->inUse = 0;
        }
      // IF SYT_ARRAY(ARGPOINT) ~< 0 THEN (8054)
      if (1
          & (xGE (COREHALFWORD (getFIXED (mSYM_TAB)
                                + 34 * (COREHALFWORD (mARGPOINT)) + 20
                                + 2 * (0)),
                  0)))
        // IF SYT_ARRAY(ARGPOINT) ~= I THEN (8055)
        if (1
            & (xNEQ (COREHALFWORD (getFIXED (mSYM_TAB)
                                   + 34 * (COREHALFWORD (mARGPOINT)) + 20
                                   + 2 * (0)),
                     COREHALFWORD (mGENERATExCHECK_STRUCTURE_PARMxI))))
          // IF CLASS=8 THEN (8056)
          if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
            // CALL ERRORS(CLASS_DI,110); (8057)
            {
              putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
              putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(110)));
              ERRORS (0);
            }
          // ELSE (8058)
          else
            // CALL ERRORS(CLASS_FD,104,''||ARGNO); (8059)
            {
              putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FD));
              putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(104)));
              putCHARACTERp (mERRORSxTEXT,
                             xsCAT (cToDescriptor (NULL, ""),
                                    bitToCharacter (getBIT (16, mARGNO))));
              ERRORS (0);
            }
    es1:;
    } // End of DO block
  // CALL STRUCTURE_COMPARE(SYT_DIMS(ARGPOINT), DEL(RIGHTOP)); (8060)
  {
    putBITp (16, mGENERATExSTRUCTURE_COMPARExA,
             getBIT (16, getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mARGPOINT))
                             + 18 + 2 * (0)));
    putBITp (16, mGENERATExSTRUCTURE_COMPARExB,
             getBIT (16, getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                             + 28 + 2 * (0)));
    GENERATExSTRUCTURE_COMPARE (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

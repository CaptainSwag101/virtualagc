/*
  File OBJECT_GENERATORxEMIT_ESD_CARDSxEMIT_EXR_CARD.c generated by XCOM-I,
  2024-08-08 04:34:25.
*/

#include "runtimeC.h"

int32_t
OBJECT_GENERATORxEMIT_ESD_CARDSxEMIT_EXR_CARD (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (
      reentryGuard, "OBJECT_GENERATORxEMIT_ESD_CARDSxEMIT_EXR_CARD");
  // EXR_NAME = PAD(ESD_TABLE(ESD#), 9); (15767)
  {
    descriptor_t *stringRHS;
    stringRHS
        = (putCHARACTERp (
               mPADxSTRING,
               (putBITp (16, mESD_TABLExPTR,
                         getBIT (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxESDp)),
                ESD_TABLE (0))),
           putFIXED (mPADxWIDTH, 9), PAD (0));
    putCHARACTER (mOBJECT_GENERATORxEMIT_ESD_CARDSxWORK_CHARS, stringRHS);
    stringRHS->inUse = 0;
  }
  // CALL MOVE_CHARS(EXR_NAME, EXR_NAME_LOC, 8); (15768)
  {
    putFIXED (mOBJECT_GENERATORxMOVE_CHARSxFROM_ADDR,
              getFIXED (mOBJECT_GENERATORxEMIT_ESD_CARDSxWORK_CHARS));
    putFIXED (mOBJECT_GENERATORxMOVE_CHARSxTO_ADDR,
              ADDR (NULL, 0, "OBJECT_GENERATORxCARD_IMAGE", 1));
    putBITp (16, mOBJECT_GENERATORxMOVE_CHARSxBYTE_COUNT,
             fixedToBit (32, (int32_t)(8)));
    OBJECT_GENERATORxMOVE_CHARS (0);
  }
  // IF ESD# <= PROCLIMIT THEN (15769)
  if (1
      & (xLE (COREHALFWORD (mOBJECT_GENERATORxEMIT_ESD_CARDSxESDp),
              COREHALFWORD (mPROCLIMIT))))
    // DO; (15770)
    {
    rs1:;
      // TEMP_SYT = PROC_LEVEL(ESD#); (15771)
      {
        descriptor_t *bitRHS = getBIT (
            16,
            mPROC_LEVEL
                + 2 * COREHALFWORD (mOBJECT_GENERATORxEMIT_ESD_CARDSxESDp));
        putBIT (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxLAST_INDEX, bitRHS);
        bitRHS->inUse = 0;
      }
      // EXR_VERSION = SYT_LOCK#(TEMP_SYT); (15772)
      {
        descriptor_t *bitRHS = getBIT (
            8, getFIXED (mSYM_TAB)
                   + 34
                         * (COREHALFWORD (
                             mOBJECT_GENERATORxEMIT_ESD_CARDSxLAST_INDEX))
                   + 31 + 1 * (0));
        putBIT (16, mOBJECT_GENERATORxCARD_IMAGE + 2 * (5), bitRHS);
        bitRHS->inUse = 0;
      }
      // HAL_NAME_CHARS = SYT_NAME(TEMP_SYT); (15773)
      {
        descriptor_t *stringRHS;
        stringRHS = getCHARACTER (
            getFIXED (mSYM_TAB)
            + 34 * (COREHALFWORD (mOBJECT_GENERATORxEMIT_ESD_CARDSxLAST_INDEX))
            + 0 + 4 * (0));
        putCHARACTER (mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_CHARS,
                      stringRHS);
        stringRHS->inUse = 0;
      }
      // HAL_NAME_LENGTH = LENGTH(HAL_NAME_CHARS); (15774)
      {
        int32_t numberRHS = (int32_t)(LENGTH (
            getCHARACTER (mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_CHARS)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_LENGTH, bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // ELSE (15775)
  else
    // DO; (15776)
    {
    rs2:;
      // IF ESD_CSECT_TYPE(ESD#) = LIBRARY_CSECT_TYPE THEN (15777)
      if (1
          & (xEQ (
              BYTE0 (
                  mESD_CSECT_TYPE
                  + 1 * COREHALFWORD (mOBJECT_GENERATORxEMIT_ESD_CARDSxESDp)),
              160)))
        // EXR_VERSION = LIBRARY_VERSION; (15778)
        {
          int32_t numberRHS = (int32_t)(3);
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mOBJECT_GENERATORxCARD_IMAGE + 2 * (5), bitRHS);
          bitRHS->inUse = 0;
        }
      // ELSE (15779)
      else
        // EXR_VERSION = 0; (15780)
        {
          int32_t numberRHS = (int32_t)(0);
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mOBJECT_GENERATORxCARD_IMAGE + 2 * (5), bitRHS);
          bitRHS->inUse = 0;
        }
      // HAL_NAME_CHARS = ''; (15781)
      {
        descriptor_t *stringRHS;
        stringRHS = cToDescriptor (NULL, "");
        putCHARACTER (mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_CHARS,
                      stringRHS);
        stringRHS->inUse = 0;
      }
      // HAL_NAME_LENGTH = 0; (15782)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_LENGTH, bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  // FLAG_LENGTH_FIELD = SHL(ESD_CSECT_TYPE(ESD#) &  192, 8) | HAL_NAME_LENGTH;
  // (15783)
  {
    int32_t numberRHS = (int32_t)(xOR (
        SHL (xAND (BYTE0 (mESD_CSECT_TYPE
                          + 1
                                * COREHALFWORD (
                                    mOBJECT_GENERATORxEMIT_ESD_CARDSxESDp)),
                   192),
             8),
        COREHALFWORD (mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_LENGTH)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxCARD_IMAGE + 2 * (6), bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL MOVE_CHARS(HAL_NAME_CHARS, HAL_NAME_LOC, HAL_NAME_LENGTH); (15784)
  {
    putFIXED (mOBJECT_GENERATORxMOVE_CHARSxFROM_ADDR,
              getFIXED (mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_CHARS));
    putFIXED (mOBJECT_GENERATORxMOVE_CHARSxTO_ADDR,
              ADDR (NULL, 0, "OBJECT_GENERATORxCARD_IMAGE", 7));
    putBITp (16, mOBJECT_GENERATORxMOVE_CHARSxBYTE_COUNT,
             getBIT (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_LENGTH));
    OBJECT_GENERATORxMOVE_CHARS (0);
  }
  // CALL CHECK_PAD(6); (15785)
  {
    putBITp (16, mOBJECT_GENERATORxEMIT_ESD_CARDSxCHECK_PADxSTART,
             fixedToBit (32, (int32_t)(6)));
    OBJECT_GENERATORxEMIT_ESD_CARDSxCHECK_PAD (0);
  }
  // RECORD_ID = EXR_ID | (SHR(HAL_NAME_LENGTH, 1) + 7); (15786)
  {
    int32_t numberRHS = (int32_t)(xOR (
        1024, xadd (SHR (COREHALFWORD (
                             mOBJECT_GENERATORxEMIT_ESD_CARDSxHAL_NAME_LENGTH),
                         1),
                    7)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOBJECT_GENERATORxCARD_IMAGE, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL EMIT_CARD; (15787)
  OBJECT_GENERATORxEMIT_CARD (0);
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File GENERATExCHECK_RESTORE_R1R3.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExCHECK_RESTORE_R1R3 (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExCHECK_RESTORE_R1R3");
  // IF ( (INST=ST) | (INST=STH) | (INST=STE) |  (INST=STD) ) & XBASE = 0 THEN
  // (2978)
  if (1
      & (xAND (
          xOR (xOR (xOR (xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINST),
                              BYTE0 (mST)),
                         xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINST),
                              BYTE0 (mSTH))),
                    xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINST),
                         BYTE0 (mSTE))),
               xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINST),
                    BYTE0 (mSTD))),
          xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE), 0))))
    // RETURN; (2979)
    {
      reentryGuard = 0;
      return 0;
    }
  // IF (R1_USED & ~((FLAG = CSYM) & (XBASE = 1)) ) | (D_R1_CHANGE & (FLAG =
  // SYM) & (XBASE = 1)) |  (D_R1_CHANGE & (XBASE >= REMOTE_BASE)) |
  // (D_R1_CHANGE & (FLAG = XPT) & (COND ~= 1) &  INSTYPE ~= SRSTYPE) THEN
  // (2980)
  if (1
      & (xOR (
          xOR (xOR (xAND (BYTE0 (mGENERATExR1_USED),
                          xNOT (xAND (
                              xEQ (COREHALFWORD (
                                       mGENERATExCHECK_RESTORE_R1R3xFLAG),
                                   BYTE0 (mCSYM)),
                              xEQ (COREHALFWORD (
                                       mGENERATExCHECK_RESTORE_R1R3xXBASE),
                                   1)))),
                    xAND (
                        xAND (BYTE0 (mD_R1_CHANGE),
                              xEQ (COREHALFWORD (
                                       mGENERATExCHECK_RESTORE_R1R3xFLAG),
                                   BYTE0 (mSYM))),
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE),
                             1))),
               xAND (BYTE0 (mD_R1_CHANGE),
                     xGE (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE),
                          BYTE0 (mREMOTE_BASE)))),
          xAND (
              xAND (
                  xAND (BYTE0 (mD_R1_CHANGE),
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                             BYTE0 (mXPT))),
                  xNEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xCOND), 1)),
              xNEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINSTYPE),
                    BYTE0 (mSRSTYPE))))))
    // DO; (2981)
    {
    rs1:;
      // CALL RESTORE_R1R3(INST, 1, NEW_GLOBAL_BASE, COND); (2982)
      {
        putBITp (16, mGENERATExRESTORE_R1R3xINST,
                 getBIT (16, mGENERATExCHECK_RESTORE_R1R3xINST));
        putBITp (16, mGENERATExRESTORE_R1R3xXREG,
                 fixedToBit (32, (int32_t)(1)));
        putBITp (16, mGENERATExRESTORE_R1R3xSTACKLOC,
                 getBIT (8, mNEW_GLOBAL_BASE));
        putBITp (16, mGENERATExRESTORE_R1R3xCOND,
                 getBIT (16, mGENERATExCHECK_RESTORE_R1R3xCOND));
        GENERATExRESTORE_R1R3 (0);
      }
      // D_R1_CHANGE = SHR(D_R1_CHANGE,1); (2983)
      {
        int32_t numberRHS = (int32_t)(SHR (BYTE0 (mD_R1_CHANGE), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (8, mD_R1_CHANGE, bitRHS);
        bitRHS->inUse = 0;
      }
      // R1_USED = FALSE; (2984)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (1, mGENERATExR1_USED, bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // IF (R3_USED & ~((FLAG = CSYM) & (XBASE = 3)) ) | (D_R3_CHANGE & (FLAG =
  // SYM) & (XBASE = 3)) |  (D_R3_CHANGE & (FLAG = XPT) & (COND ~= 3) & INSTYPE
  // = SRSTYPE) THEN (2985)
  if (1
      & (xOR (
          xOR (
              xAND (BYTE0 (mGENERATExR3_USED),
                    xNOT (xAND (
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                             BYTE0 (mCSYM)),
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE),
                             3)))),
              xAND (
                  xAND (BYTE0 (mD_R3_CHANGE),
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                             BYTE0 (mSYM))),
                  xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE), 3))),
          xAND (
              xAND (
                  xAND (BYTE0 (mD_R3_CHANGE),
                        xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                             BYTE0 (mXPT))),
                  xNEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xCOND), 3)),
              xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINSTYPE),
                   BYTE0 (mSRSTYPE))))))
    // DO; (2986)
    {
    rs2:;
      // CALL RESTORE_R1R3(INST, 3, NEW_LOCAL_BASE, COND); (2987)
      {
        putBITp (16, mGENERATExRESTORE_R1R3xINST,
                 getBIT (16, mGENERATExCHECK_RESTORE_R1R3xINST));
        putBITp (16, mGENERATExRESTORE_R1R3xXREG,
                 fixedToBit (32, (int32_t)(3)));
        putBITp (16, mGENERATExRESTORE_R1R3xSTACKLOC,
                 getBIT (8, mNEW_LOCAL_BASE));
        putBITp (16, mGENERATExRESTORE_R1R3xCOND,
                 getBIT (16, mGENERATExCHECK_RESTORE_R1R3xCOND));
        GENERATExRESTORE_R1R3 (0);
      }
      // D_R3_CHANGE = SHR(D_R3_CHANGE,1); (2988)
      {
        int32_t numberRHS = (int32_t)(SHR (BYTE0 (mD_R3_CHANGE), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (8, mD_R3_CHANGE, bitRHS);
        bitRHS->inUse = 0;
      }
      // R3_USED = FALSE; (2989)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (1, mGENERATExR3_USED, bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  // IF D_R1_CHANGE & (FLAG=CSYM) & (XBASE=1) THEN (2990)
  if (1
      & (xAND (xAND (BYTE0 (mD_R1_CHANGE),
                     xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                          BYTE0 (mCSYM))),
               xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE), 1))))
    // R1_USED = TRUE; (2991)
    {
      int32_t numberRHS = (int32_t)(1);
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (1, mGENERATExR1_USED, bitRHS);
      bitRHS->inUse = 0;
    }
  // IF D_R3_CHANGE & (((FLAG=CSYM) & (XBASE=3)) | (INST=MVH)) THEN (2992)
  if (1
      & (xAND (
          BYTE0 (mD_R3_CHANGE),
          xOR (xAND (
                   xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xFLAG),
                        BYTE0 (mCSYM)),
                   xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xXBASE), 3)),
               xEQ (COREHALFWORD (mGENERATExCHECK_RESTORE_R1R3xINST),
                    BYTE0 (mMVH))))))
    // R3_USED = TRUE; (2993)
    {
      int32_t numberRHS = (int32_t)(1);
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (1, mGENERATExR3_USED, bitRHS);
      bitRHS->inUse = 0;
    }
  {
    reentryGuard = 0;
    return 0;
  }
}

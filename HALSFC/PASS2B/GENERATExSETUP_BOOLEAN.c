/*
  File GENERATExSETUP_BOOLEAN.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExSETUP_BOOLEAN (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExSETUP_BOOLEAN");
  // IF PACKTYPE(TYPE(LEFTOP)) THEN (8076)
  if (1
      & (bitToFixed (
          getBIT (8, mPACKTYPE
                         + 1
                               * COREHALFWORD (getFIXED (mIND_STACK)
                                               + 73 * (COREHALFWORD (mLEFTOP))
                                               + 50 + 2 * (0))))))
    // IF REG(LEFTOP) >= 0 THEN (8077)
    if (1
        & (xGE (COREHALFWORD (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mLEFTOP)) + 46 + 2 * (0)),
                0)))
      // CALL DROP_REG(LEFTOP); (8078)
      {
        putBITp (16, mGENERATExDROP_REGxOP, getBIT (16, mLEFTOP));
        GENERATExDROP_REG (0);
      }
  // FORM(LEFTOP) = 0; (8079)
  {
    int32_t numberRHS = (int32_t)(0);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 32
                + 2 * (0),
            fixedToBit (16, numberRHS));
  }
  // IF FLAG THEN (8080)
  if (1 & (bitToFixed (getBIT (1, mGENERATExSETUP_BOOLEANxFLAG))))
    // DO; (8081)
    {
    rs1:;
      // FIRSTLABEL, VAL(LEFTOP) = GETSTATNO; (8082)
      {
        descriptor_t *bitRHS = GETSTATNO (0);
        putBIT (16, mFIRSTLABEL, bitRHS);
        putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 12
                      + 4 * (0),
                  bitToFixed (bitRHS));
        bitRHS->inUse = 0;
      }
      // SECONDLABEL,XVAL(LEFTOP) = GETSTATNO; (8083)
      {
        descriptor_t *bitRHS = GETSTATNO (0);
        putBIT (16, mSECONDLABEL, bitRHS);
        putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 16
                      + 4 * (0),
                  bitToFixed (bitRHS));
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // ELSE (8084)
  else
    // DO; (8085)
    {
    rs2:;
      // SECONDLABEL, VAL(LEFTOP) = GETSTATNO; (8086)
      {
        descriptor_t *bitRHS = GETSTATNO (0);
        putBIT (16, mSECONDLABEL, bitRHS);
        putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 12
                      + 4 * (0),
                  bitToFixed (bitRHS));
        bitRHS->inUse = 0;
      }
      // FIRSTLABEL, XVAL(LEFTOP) = GETSTATNO; (8087)
      {
        descriptor_t *bitRHS = GETSTATNO (0);
        putBIT (16, mFIRSTLABEL, bitRHS);
        putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 16
                      + 4 * (0),
                  bitToFixed (bitRHS));
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  // IF DOCOPY(CALL_LEVEL) > 0 THEN (8088)
  if (1 & (xGT (COREHALFWORD (mDOCOPY + 2 * COREHALFWORD (mCALL_LEVEL)), 0)))
    // IF DOFORM(CALL_LEVEL) = 0 THEN (8089)
    if (1
        & (xEQ (
            COREHALFWORD (mGENERATExDOFORM + 2 * COREHALFWORD (mCALL_LEVEL)),
            0)))
      // IF FORM(DOINDEX(ADOPTR)) = VAC THEN (8090)
      if (1
          & (xEQ (
              COREHALFWORD (getFIXED (mIND_STACK)
                            + 73
                                  * (COREHALFWORD (
                                      mGENERATExDOINDEX
                                      + 2 * COREHALFWORD (mGENERATExADOPTR)))
                            + 32 + 2 * (0)),
              BYTE0 (mVAC))))
        // CALL DROP_REG(DOINDEX(ADOPTR)); (8091)
        {
          putBITp (16, mGENERATExDROP_REGxOP,
                   getBIT (16, mGENERATExDOINDEX
                                   + 2 * COREHALFWORD (mGENERATExADOPTR)));
          GENERATExDROP_REG (0);
        }
  // CALL SAVE_REGS(RM, 3, TRUE); (8092)
  {
    putBITp (16, mGENERATExSAVE_REGSxN1,
             fixedToBit (32, (int32_t)(getFIXED (mRM))));
    putBITp (1, mGENERATExSAVE_REGSxFLT, fixedToBit (32, (int32_t)(3)));
    putBITp (1, mGENERATExSAVE_REGSxSAVE, fixedToBit (32, (int32_t)(1)));
    GENERATExSAVE_REGS (0);
  }
  // LAST_FLOW_BLK = CURCBLK; (8093)
  {
    descriptor_t *bitRHS = getBIT (8, mCURCBLK);
    putBIT (16, mLAST_FLOW_BLK, bitRHS);
    bitRHS->inUse = 0;
  }
  // LAST_FLOW_CTR = CTR; (8094)
  {
    descriptor_t *bitRHS = getBIT (16, mCTR);
    putBIT (16, mLAST_FLOW_CTR, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL EMITBFW(CONDITION(COND+FLAG), GETSTMTLBL(SECONDLABEL)); (8095)
  {
    putBITp (
        16, mGENERATExEMITBFWxCOND,
        getBIT (8,
                mGENERATExCONDITION
                    + 1
                          * xadd (COREHALFWORD (mGENERATExSETUP_BOOLEANxCOND),
                                  BYTE0 (mGENERATExSETUP_BOOLEANxFLAG))));
    putBITp (
        16, mGENERATExEMITBFWxPTR,
        (putFIXED (mGENERATExGETSTMTLBLxSTATNO, COREHALFWORD (mSECONDLABEL)),
         GENERATExGETSTMTLBL (0)));
    GENERATExEMITBFW (0);
  }
  // CALL DOCLOSE; (8096)
  GENERATExDOCLOSE (0);
  // CALL EMITBFW(ALWAYS, GETSTMTLBL(FIRSTLABEL)); (8097)
  {
    putBITp (16, mGENERATExEMITBFWxCOND, getBIT (8, mALWAYS));
    putBITp (
        16, mGENERATExEMITBFWxPTR,
        (putFIXED (mGENERATExGETSTMTLBLxSTATNO, COREHALFWORD (mFIRSTLABEL)),
         GENERATExGETSTMTLBL (0)));
    GENERATExEMITBFW (0);
  }
  // CONST(LEFTOP) = GETSTATNO; (8098)
  {
    descriptor_t *bitRHS = GETSTATNO (0);
    putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 0
                  + 4 * (0),
              bitToFixed (bitRHS));
    bitRHS->inUse = 0;
  }
  // LAST_TAG = SHR(TAG, 1); (8099)
  {
    int32_t numberRHS = (int32_t)(SHR (COREHALFWORD (mTAG), 1));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (1, mLAST_TAG, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL SET_LABEL(CONST(LEFTOP), LAST_TAG | BOOL_COUNT = 0); (8100)
  {
    putBITp (
        16, mGENERATExSET_LABELxSTMTNO,
        fixedToBit (32, (int32_t)(getFIXED (getFIXED (mIND_STACK)
                                            + 73 * (COREHALFWORD (mLEFTOP)) + 0
                                            + 4 * (0)))));
    putBITp (
        1, mGENERATExSET_LABELxFLAG1,
        fixedToBit (32, (int32_t)(xOR (BYTE0 (mLAST_TAG),
                                       xEQ (COREHALFWORD (mBOOL_COUNT), 0)))));
    GENERATExSET_LABEL (0);
  }
  // BOOL_COUNT = BOOL_COUNT + 1; (8101)
  {
    int32_t numberRHS = (int32_t)(xadd (COREHALFWORD (mBOOL_COUNT), 1));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mBOOL_COUNT, bitRHS);
    bitRHS->inUse = 0;
  }
  // TYPE(LEFTOP) = LOGICAL; (8102)
  {
    descriptor_t *bitRHS = getBIT (8, mLOGICAL);
    putBIT (16,
            getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP)) + 50
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File GENERATExDROPLIST.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

int32_t
GENERATExDROPLIST (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExDROPLIST");
  // DO WHILE SDOTEMP(LEVEL) > 0; (3911)
  while (1
         & (xGT (COREHALFWORD (mGENERATExSDOTEMP
                               + 2 * COREHALFWORD (mGENERATExDROPLISTxLEVEL)),
                 0)))
    {
      // PTR = SDOTEMP(LEVEL); (3912)
      {
        descriptor_t *bitRHS
            = getBIT (16, mGENERATExSDOTEMP
                              + 2 * COREHALFWORD (mGENERATExDROPLISTxLEVEL));
        putBIT (16, mGENERATExDROPLISTxPTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // SDOTEMP(LEVEL) = ARRAYPOINT(PTR); (3913)
      {
        descriptor_t *bitRHS = getBIT (
            16, mARRAYPOINT + 2 * COREHALFWORD (mGENERATExDROPLISTxPTR));
        putBIT (16,
                mGENERATExSDOTEMP
                    + 2 * (COREHALFWORD (mGENERATExDROPLISTxLEVEL)),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // CALL DROPTEMP(PTR); (3914)
      {
        putBITp (16, mGENERATExDROPTEMPxENTRY,
                 getBIT (16, mGENERATExDROPLISTxPTR));
        GENERATExDROPTEMP (0);
      }
    } // End of DO WHILE block
  {
    reentryGuard = 0;
    return 0;
  }
}

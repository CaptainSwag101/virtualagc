/*
  File GENERATExFINDAC.c generated by XCOM-I, 2024-08-09 12:41:32.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExFINDAC (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExFINDAC");
  // R = BESTAC(RCLASS); (4100)
  {
    descriptor_t *bitRHS = (putBITp (16, mGENERATExBESTACxRCLASS,
                                     getBIT (16, mGENERATExFINDACxRCLASS)),
                            GENERATExBESTAC (0));
    putBIT (16, mGENERATExFINDACxR, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL CHECKPOINT_REG(R,SAVE); (4101)
  {
    putBITp (16, mGENERATExCHECKPOINT_REGxR, getBIT (16, mGENERATExFINDACxR));
    putBITp (1, mGENERATExCHECKPOINT_REGxSAVE,
             getBIT (8, mGENERATExFINDACxSAVE));
    GENERATExCHECKPOINT_REG (0);
  }
  // SAVE = FALSE; (4102)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mGENERATExFINDACxSAVE, bitRHS);
    bitRHS->inUse = 0;
  }
  // USAGE(R) = 2; (4103)
  {
    int32_t numberRHS = (int32_t)(2);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mUSAGE + 2 * (COREHALFWORD (mGENERATExFINDACxR)), bitRHS);
    bitRHS->inUse = 0;
  }
  // USAGE_LINE(R) = 1; (4104)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mUSAGE_LINE + 2 * (COREHALFWORD (mGENERATExFINDACxR)), bitRHS);
    bitRHS->inUse = 0;
  }
  // IF R < FR0 THEN (4105)
  if (1 & (xLT (COREHALFWORD (mGENERATExFINDACxR), BYTE0 (mFR0))))
    // R_TYPE(R) = INTEGER; (4106)
    {
      descriptor_t *bitRHS = getBIT (8, mINTEGER);
      putBIT (8, mR_TYPE + 1 * (COREHALFWORD (mGENERATExFINDACxR)), bitRHS);
      bitRHS->inUse = 0;
    }
  // IF RCLASS=DOUBLE_ACC | RCLASS = DOUBLE_FACC THEN (4107)
  if (1
      & (xOR (xEQ (COREHALFWORD (mGENERATExFINDACxRCLASS), 2),
              xEQ (COREHALFWORD (mGENERATExFINDACxRCLASS), 0))))
    // DO; (4108)
    {
    rs1:;
      // CALL CHECKPOINT_REG(R+1); (4109)
      {
        putBITp (16, mGENERATExCHECKPOINT_REGxR,
                 fixedToBit (32, (int32_t)(xadd (
                                     COREHALFWORD (mGENERATExFINDACxR), 1))));
        GENERATExCHECKPOINT_REG (0);
      }
      // USAGE(R+1) = 1; (4110)
      {
        int32_t numberRHS = (int32_t)(1);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mUSAGE + 2 * (xadd (COREHALFWORD (mGENERATExFINDACxR), 1)),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // USAGE_LINE(R+1) = 1; (4111)
      {
        int32_t numberRHS = (int32_t)(1);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16,
                mUSAGE_LINE
                    + 2 * (xadd (COREHALFWORD (mGENERATExFINDACxR), 1)),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // IF R < FR0 THEN (4112)
      if (1 & (xLT (COREHALFWORD (mGENERATExFINDACxR), BYTE0 (mFR0))))
        // DO; (4113)
        {
        rs1s1:;
          // R_TYPE(R), R_TYPE(R+1) = DINTEGER; (4114)
          {
            descriptor_t *bitRHS = getBIT (8, mDINTEGER);
            putBIT (8, mR_TYPE + 1 * (COREHALFWORD (mGENERATExFINDACxR)),
                    bitRHS);
            putBIT (
                8, mR_TYPE + 1 * (xadd (COREHALFWORD (mGENERATExFINDACxR), 1)),
                bitRHS);
            bitRHS->inUse = 0;
          }
          // R_CONTENTS(R+1) = IMD; (4115)
          {
            descriptor_t *bitRHS = getBIT (8, mIMD);
            putBIT (8,
                    mR_CONTENTS
                        + 1 * (xadd (COREHALFWORD (mGENERATExFINDACxR), 1)),
                    bitRHS);
            bitRHS->inUse = 0;
          }
        es1s1:;
        } // End of DO block
      // ELSE (4116)
      else
        // R_CONTENTS(R+1) = OFFSET; (4117)
        {
          descriptor_t *bitRHS = getBIT (8, mOFFSET);
          putBIT (8,
                  mR_CONTENTS
                      + 1 * (xadd (COREHALFWORD (mGENERATExFINDACxR), 1)),
                  bitRHS);
          bitRHS->inUse = 0;
        }
    es1:;
    } // End of DO block
  // CALL CHECK_LINKREG(R); (4118)
  {
    putBITp (16, mGENERATExCHECK_LINKREGxR, getBIT (16, mGENERATExFINDACxR));
    GENERATExCHECK_LINKREG (0);
  }
  // RETURN R; (4119)
  {
    reentryGuard = 0;
    return getBIT (16, mGENERATExFINDACxR);
  }
}

/*
  File GENERATExSTRUCTURE_COMPARE.c generated by XCOM-I, 2024-08-09 12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExSTRUCTURE_COMPARE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExSTRUCTURE_COMPARE");
  // IF A = B THEN (8027)
  if (1
      & (xEQ (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExA),
              COREHALFWORD (mGENERATExSTRUCTURE_COMPARExB))))
    // RETURN; (8028)
    {
      reentryGuard = 0;
      return 0;
    }
  // IF ~ADV_WARN THEN (8029)
  if (1 & (xNOT (BYTE0 (mGENERATExSTRUCTURE_COMPARExADV_WARN))))
    // IF ((SYT_FLAGS(A) | SYT_FLAGS(B)) & EVIL_FLAGS) = EVIL_FLAGS THEN (8030)
    if (1
        & (xEQ (
            xAND (
                xOR (getFIXED (
                         getFIXED (mSYM_TAB)
                         + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExA))
                         + 8 + 4 * (0)),
                     getFIXED (
                         getFIXED (mSYM_TAB)
                         + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExB))
                         + 8 + 4 * (0))),
                getFIXED (mEVIL_FLAGS)),
            getFIXED (mEVIL_FLAGS))))
      // CALL ERRORS(CLASS_DQ,100); (8031)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DQ));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(100)));
        ERRORS (0);
      }
  // AX = A; (8032)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExSTRUCTURE_COMPARExA);
    putBIT (16, mGENERATExSTRUCTURE_COMPARExAX, bitRHS);
    bitRHS->inUse = 0;
  }
  // BX = B; (8033)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExSTRUCTURE_COMPARExB);
    putBIT (16, mGENERATExSTRUCTURE_COMPARExBX, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO FOREVER; (8034)
  while (1 & (1))
    {
      // DO WHILE SYT_LINK1(AX) > 0; (8035)
      while (1
             & (xGT (COREHALFWORD (
                         getFIXED (mSYM_TAB)
                         + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                         + 24 + 2 * (0)),
                     0)))
        {
          // AX = SYT_LINK1(AX); (8036)
          {
            descriptor_t *bitRHS = getBIT (
                16, getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                        + 24 + 2 * (0));
            putBIT (16, mGENERATExSTRUCTURE_COMPARExAX, bitRHS);
            bitRHS->inUse = 0;
          }
          // BX = SYT_LINK1(BX); (8037)
          {
            descriptor_t *bitRHS = getBIT (
                16, getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX))
                        + 24 + 2 * (0));
            putBIT (16, mGENERATExSTRUCTURE_COMPARExBX, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF BX = 0 THEN (8038)
          if (1 & (xEQ (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX), 0)))
            // GO TO STRUC_ERR; (8039)
            goto STRUC_ERR;
        } // End of DO WHILE block
      // IF SYT_LINK1(BX) ~= 0 THEN (8040)
      if (1
          & (xNEQ (COREHALFWORD (
                       getFIXED (mSYM_TAB)
                       + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX))
                       + 24 + 2 * (0)),
                   0)))
        // GO TO STRUC_ERR; (8041)
        goto STRUC_ERR;
      // IF SYT_TYPE(AX) ~= SYT_TYPE(BX) THEN (8042)
      if (1
          & (xNEQ (
              BYTE0 (getFIXED (mSYM_TAB)
                     + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                     + 32 + 1 * (0)),
              BYTE0 (getFIXED (mSYM_TAB)
                     + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX))
                     + 32 + 1 * (0)))))
        // GO TO STRUC_ERR; (8043)
        goto STRUC_ERR;
      // IF SYT_DIMS(AX) ~= SYT_DIMS(BX) THEN (8044)
      if (1
          & (xNEQ (COREHALFWORD (
                       getFIXED (mSYM_TAB)
                       + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                       + 18 + 2 * (0)),
                   COREHALFWORD (
                       getFIXED (mSYM_TAB)
                       + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX))
                       + 18 + 2 * (0)))))
        // GO TO STRUC_ERR; (8045)
        goto STRUC_ERR;
      // IF (SYT_FLAGS(AX)&SM_FLAGS) ~= (SYT_FLAGS(BX)&SM_FLAGS) THEN (8046)
      if (1
          & (xNEQ (
              xAND (getFIXED (
                        getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                        + 8 + 4 * (0)),
                    getFIXED (mSM_FLAGS)),
              xAND (getFIXED (
                        getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX))
                        + 8 + 4 * (0)),
                    getFIXED (mSM_FLAGS)))))
        // GO TO STRUC_ERR; (8047)
        goto STRUC_ERR;
      // DO I = 0 TO EXT_ARRAY(SYT_ARRAY(AX)); (8048)
      {
        int32_t from90, to90, by90;
        from90 = 0;
        to90 = bitToFixed (getBIT (
            16, mEXT_ARRAY
                    + 2
                          * COREHALFWORD (
                              getFIXED (mSYM_TAB)
                              + 34
                                    * (COREHALFWORD (
                                        mGENERATExSTRUCTURE_COMPARExAX))
                              + 20 + 2 * (0))));
        by90 = 1;
        for (putBIT (16, mGENERATExSTRUCTURE_COMPARExI,
                     fixedToBit (16, from90));
             bitToFixed (getBIT (16, mGENERATExSTRUCTURE_COMPARExI)) <= to90;
             putBIT (16, mGENERATExSTRUCTURE_COMPARExI,
                     fixedToBit (16, bitToFixed (getBIT (
                                         16, mGENERATExSTRUCTURE_COMPARExI))
                                         + by90)))
          {
            // IF EXT_ARRAY(SYT_ARRAY(AX)+I) ~= EXT_ARRAY(SYT_ARRAY(BX)+I) THEN
            // (8049)
            if (1
                & (xNEQ (
                    COREHALFWORD (
                        mEXT_ARRAY
                        + 2
                              * xadd (
                                  COREHALFWORD (
                                      getFIXED (mSYM_TAB)
                                      + 34
                                            * (COREHALFWORD (
                                                mGENERATExSTRUCTURE_COMPARExAX))
                                      + 20 + 2 * (0)),
                                  COREHALFWORD (
                                      mGENERATExSTRUCTURE_COMPARExI))),
                    COREHALFWORD (
                        mEXT_ARRAY
                        + 2
                              * xadd (
                                  COREHALFWORD (
                                      getFIXED (mSYM_TAB)
                                      + 34
                                            * (COREHALFWORD (
                                                mGENERATExSTRUCTURE_COMPARExBX))
                                      + 20 + 2 * (0)),
                                  COREHALFWORD (
                                      mGENERATExSTRUCTURE_COMPARExI))))))
              // GO TO STRUC_ERR; (8050)
              goto STRUC_ERR;
          }
      } // End of DO for-loop block
      // DO WHILE SYT_LINK2(AX) < 0; (8051)
      while (1
             & (xLT (COREHALFWORD (
                         getFIXED (mSYM_TAB)
                         + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX))
                         + 26 + 2 * (0)),
                     0)))
        {
          // AX = -SYT_LINK2(AX); (8052)
          {
            int32_t numberRHS = (int32_t)(xminus (COREHALFWORD (
                getFIXED (mSYM_TAB)
                + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX)) + 26
                + 2 * (0))));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mGENERATExSTRUCTURE_COMPARExAX, bitRHS);
            bitRHS->inUse = 0;
          }
          // BX = -SYT_LINK2(BX); (8053)
          {
            int32_t numberRHS = (int32_t)(xminus (COREHALFWORD (
                getFIXED (mSYM_TAB)
                + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX)) + 26
                + 2 * (0))));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mGENERATExSTRUCTURE_COMPARExBX, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF AX = A THEN (8054)
          if (1
              & (xEQ (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX),
                      COREHALFWORD (mGENERATExSTRUCTURE_COMPARExA))))
            // DO; (8055)
            {
            rs1s3s1:;
              // IF BX ~= B THEN (8056)
              if (1
                  & (xNEQ (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX),
                           COREHALFWORD (mGENERATExSTRUCTURE_COMPARExB))))
                // GO TO STRUC_ERR; (8057)
                goto STRUC_ERR;
              // RETURN; (8058)
              {
                reentryGuard = 0;
                return 0;
              }
            es1s3s1:;
            } // End of DO block
          // IF BX <= 0 THEN (8059)
          if (1 & (xLE (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX), 0)))
            // GO TO STRUC_ERR; (8060)
            goto STRUC_ERR;
        } // End of DO WHILE block
      // AX = SYT_LINK2(AX); (8061)
      {
        descriptor_t *bitRHS = getBIT (
            16, getFIXED (mSYM_TAB)
                    + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExAX)) + 26
                    + 2 * (0));
        putBIT (16, mGENERATExSTRUCTURE_COMPARExAX, bitRHS);
        bitRHS->inUse = 0;
      }
      // BX = SYT_LINK2(BX); (8062)
      {
        descriptor_t *bitRHS = getBIT (
            16, getFIXED (mSYM_TAB)
                    + 34 * (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX)) + 26
                    + 2 * (0));
        putBIT (16, mGENERATExSTRUCTURE_COMPARExBX, bitRHS);
        bitRHS->inUse = 0;
      }
      // IF BX <= 0 THEN (8063)
      if (1 & (xLE (COREHALFWORD (mGENERATExSTRUCTURE_COMPARExBX), 0)))
        // GO TO STRUC_ERR; (8064)
        goto STRUC_ERR;
    } // End of DO WHILE block
// STRUC_ERR: (8065)
STRUC_ERR:
  // IF ADV_WARN THEN (8066)
  if (1 & (bitToFixed (getBIT (1, mGENERATExSTRUCTURE_COMPARExADV_WARN))))
    // MISMATCH = TRUE; (8067)
    {
      int32_t numberRHS = (int32_t)(1);
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (1, mGENERATExMISMATCH, bitRHS);
      bitRHS->inUse = 0;
    }
  // ELSE (8068)
  else
    // CALL ERRORS(CLASS_DQ,101); (8069)
    {
      putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DQ));
      putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(101)));
      ERRORS (0);
    }
  // ADV_WARN = FALSE; (8070)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (1, mGENERATExSTRUCTURE_COMPARExADV_WARN, bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

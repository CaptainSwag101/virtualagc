/*
  File GENERATExDO_EXPRESSION.c generated by XCOM-I, 2024-08-08 04:32:26.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExDO_EXPRESSION (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExDO_EXPRESSION");
  // SLF = LEFTOP; (7017)
  {
    descriptor_t *bitRHS = getBIT (16, mLEFTOP);
    putBIT (16, mGENERATExDO_EXPRESSIONxSLF, bitRHS);
    bitRHS->inUse = 0;
  }
  // SRT = RIGHTOP; (7018)
  {
    descriptor_t *bitRHS = getBIT (16, mRIGHTOP);
    putBIT (16, mGENERATExDO_EXPRESSIONxSRT, bitRHS);
    bitRHS->inUse = 0;
  }
  // LEFTOP = OP1; (7019)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExDO_EXPRESSIONxOP1);
    putBIT (16, mLEFTOP, bitRHS);
    bitRHS->inUse = 0;
  }
  // RIGHTOP = OP2; (7020)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExDO_EXPRESSIONxOP2);
    putBIT (16, mRIGHTOP, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF DATATYPE(OPTYPE) ~= INTEGER THEN (7021)
  if (1
      & (xNEQ (BYTE0 (mDATATYPE + 1 * COREHALFWORD (mOPTYPE)),
               BYTE0 (mINTEGER))))
    // CALL EXPRESSION(OPC); (7022)
    {
      putBITp (16, mGENERATExEXPRESSIONxOPCODE,
               getBIT (16, mGENERATExDO_EXPRESSIONxOPC));
      GENERATExEXPRESSION (0);
    }
  // ELSE (7023)
  else
    // IF OPC = SUM THEN (7024)
    if (1
        & (xEQ (COREHALFWORD (mGENERATExDO_EXPRESSIONxOPC),
                BYTE0 (mGENERATExSUM))))
      // DO; (7025)
      {
      rs1:;
        // IF FORM(RIGHTOP) = LIT THEN (7026)
        if (1
            & (xEQ (COREHALFWORD (getFIXED (mIND_STACK)
                                  + 73 * (COREHALFWORD (mRIGHTOP)) + 32
                                  + 2 * (0)),
                    BYTE0 (mLIT))))
          // DO; (7027)
          {
          rs1s1:;
            // CONST(LEFTOP) = CONST(LEFTOP) + VAL(RIGHTOP); (7028)
            {
              int32_t numberRHS = (int32_t)(xadd (
                  getFIXED (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mLEFTOP)) + 0 + 4 * (0)),
                  getFIXED (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mRIGHTOP)) + 12 + 4 * (0))));
              putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP))
                            + 0 + 4 * (0),
                        numberRHS);
            }
            // CALL RETURN_STACK_ENTRY(RIGHTOP); (7029)
            {
              putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
                       getBIT (16, mRIGHTOP));
              GENERATExRETURN_STACK_ENTRY (0);
            }
          es1s1:;
          } // End of DO block
        // ELSE (7030)
        else
          // DO; (7031)
          {
          rs1s2:;
            // CONST(LEFTOP) = CONST(LEFTOP) + CONST(RIGHTOP); (7032)
            {
              int32_t numberRHS = (int32_t)(xadd (
                  getFIXED (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mLEFTOP)) + 0 + 4 * (0)),
                  getFIXED (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mRIGHTOP)) + 0 + 4 * (0))));
              putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP))
                            + 0 + 4 * (0),
                        numberRHS);
            }
            // CONST(RIGHTOP) = 0; (7033)
            {
              int32_t numberRHS = (int32_t)(0);
              putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                            + 0 + 4 * (0),
                        numberRHS);
            }
            // CALL EXPRESSION(SUM); (7034)
            {
              putBITp (16, mGENERATExEXPRESSIONxOPCODE,
                       getBIT (8, mGENERATExSUM));
              GENERATExEXPRESSION (0);
            }
          es1s2:;
          } // End of DO block
      es1:;
      } // End of DO block
    // ELSE (7035)
    else
      // IF OPC = MINUS THEN (7036)
      if (1
          & (xEQ (COREHALFWORD (mGENERATExDO_EXPRESSIONxOPC),
                  BYTE0 (mGENERATExMINUS))))
        // DO; (7037)
        {
        rs2:;
          // IF FORM(RIGHTOP) = LIT THEN (7038)
          if (1
              & (xEQ (COREHALFWORD (getFIXED (mIND_STACK)
                                    + 73 * (COREHALFWORD (mRIGHTOP)) + 32
                                    + 2 * (0)),
                      BYTE0 (mLIT))))
            // DO; (7039)
            {
            rs2s1:;
              // CONST(LEFTOP) = CONST(LEFTOP) - VAL(RIGHTOP); (7040)
              {
                int32_t numberRHS = (int32_t)(xsubtract (
                    getFIXED (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mLEFTOP)) + 0 + 4 * (0)),
                    getFIXED (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mRIGHTOP)) + 12
                              + 4 * (0))));
                putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP))
                              + 0 + 4 * (0),
                          numberRHS);
              }
              // CALL RETURN_STACK_ENTRY(RIGHTOP); (7041)
              {
                putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
                         getBIT (16, mRIGHTOP));
                GENERATExRETURN_STACK_ENTRY (0);
              }
            es2s1:;
            } // End of DO block
          // ELSE (7042)
          else
            // DO; (7043)
            {
            rs2s2:;
              // CONST(LEFTOP) = CONST(LEFTOP) - CONST(RIGHTOP); (7044)
              {
                int32_t numberRHS = (int32_t)(xsubtract (
                    getFIXED (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mLEFTOP)) + 0 + 4 * (0)),
                    getFIXED (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mRIGHTOP)) + 0
                              + 4 * (0))));
                putFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mLEFTOP))
                              + 0 + 4 * (0),
                          numberRHS);
              }
              // CONST(RIGHTOP) = 0; (7045)
              {
                int32_t numberRHS = (int32_t)(0);
                putFIXED (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mRIGHTOP)) + 0 + 4 * (0),
                          numberRHS);
              }
              // CALL EXPRESSION(MINUS); (7046)
              {
                putBITp (16, mGENERATExEXPRESSIONxOPCODE,
                         getBIT (8, mGENERATExMINUS));
                GENERATExEXPRESSION (0);
              }
            es2s2:;
            } // End of DO block
        es2:;
        } // End of DO block
      // ELSE (7047)
      else
        // CALL EXPRESSION(OPC); (7048)
        {
          putBITp (16, mGENERATExEXPRESSIONxOPCODE,
                   getBIT (16, mGENERATExDO_EXPRESSIONxOPC));
          GENERATExEXPRESSION (0);
        }
  // OP1 = LEFTOP; (7049)
  {
    descriptor_t *bitRHS = getBIT (16, mLEFTOP);
    putBIT (16, mGENERATExDO_EXPRESSIONxOP1, bitRHS);
    bitRHS->inUse = 0;
  }
  // LEFTOP = SLF; (7050)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExDO_EXPRESSIONxSLF);
    putBIT (16, mLEFTOP, bitRHS);
    bitRHS->inUse = 0;
  }
  // RIGHTOP = SRT; (7051)
  {
    descriptor_t *bitRHS = getBIT (16, mGENERATExDO_EXPRESSIONxSRT);
    putBIT (16, mRIGHTOP, bitRHS);
    bitRHS->inUse = 0;
  }
  // RETURN OP1; (7052)
  {
    reentryGuard = 0;
    return getBIT (16, mGENERATExDO_EXPRESSIONxOP1);
  }
}

/*
  File GENERATExGEN_CLASS0xSETUP_PRIORITY.c generated by XCOM-I, 2024-08-08
  04:32:26.
*/

#include "runtimeC.h"

int32_t
GENERATExGEN_CLASS0xSETUP_PRIORITY (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "GENERATExGEN_CLASS0xSETUP_PRIORITY");
  // LITTYPE = INTEGER; (12450)
  {
    descriptor_t *bitRHS = getBIT (8, mINTEGER);
    putBIT (16, mLITTYPE, bitRHS);
    bitRHS->inUse = 0;
  }
  // RIGHTOP = GET_OPERAND(N); (12451)
  {
    descriptor_t *bitRHS
        = (putBITp (16, mGENERATExGET_OPERANDxOP,
                    getBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN)),
           GENERATExGET_OPERAND (0));
    putBIT (16, mRIGHTOP, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF FORM(RIGHTOP) = LIT THEN (12452)
  if (1
      & (xEQ (COREHALFWORD (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mRIGHTOP)) + 32 + 2 * (0)),
              BYTE0 (mLIT))))
    // WORK2 = SHL(VAL(RIGHTOP), 8) + WORK2; (12453)
    {
      int32_t numberRHS = (int32_t)(xadd (
          SHL (getFIXED (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                         + 12 + 4 * (0)),
               8),
          getFIXED (mWORK2)));
      putFIXED (mWORK2, numberRHS);
    }
  // ELSE (12454)
  else
    // DO; (12455)
    {
    rs1:;
      // TO_BE_MODIFIED = TRUE; (12456)
      {
        int32_t numberRHS = (int32_t)(1);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (1, mGENERATExTO_BE_MODIFIED, bitRHS);
        bitRHS->inUse = 0;
      }
      // N = FORCE_ACCUMULATOR(RIGHTOP, INTEGER); (12457)
      {
        int32_t numberRHS
            = (int32_t)((putBITp (16, mGENERATExFORCE_ACCUMULATORxOP,
                                  getBIT (16, mRIGHTOP)),
                         putBITp (16, mGENERATExFORCE_ACCUMULATORxOPTYPE,
                                  getBIT (8, mINTEGER)),
                         GENERATExFORCE_ACCUMULATOR (0)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN, bitRHS);
        bitRHS->inUse = 0;
      }
      // CALL EMITP(SLL, N, 0, SHCOUNT, 8); (12458)
      {
        putBITp (16, mGENERATExEMITPxINST, getBIT (8, mSLL));
        putBITp (16, mGENERATExEMITPxXREG,
                 getBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN));
        putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mSHCOUNT));
        putBITp (16, mGENERATExEMITPxPTR, fixedToBit (32, (int32_t)(8)));
        GENERATExEMITP (0);
      }
      // CALL EMITP(AHI, N, 0, 0, WORK2); (12459)
      {
        putBITp (16, mGENERATExEMITPxINST, getBIT (8, mAHI));
        putBITp (16, mGENERATExEMITPxXREG,
                 getBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN));
        putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExEMITPxFLAG, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExEMITPxPTR,
                 fixedToBit (32, (int32_t)(getFIXED (mWORK2))));
        GENERATExEMITP (0);
      }
      // IF STATIC_BLOCK THEN (12460)
      if (1 & (GENERATExSTATIC_BLOCK (0)))
        // CALL EMITRX(STH, N, 0, PRELBASE, WORK1); (12461)
        {
          putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mSTH));
          putBITp (16, mGENERATExEMITRXxXREG,
                   getBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN));
          putBITp (16, mGENERATExEMITRXxINDEX, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mPRELBASE));
          putBITp (16, mGENERATExEMITRXxXDISP,
                   fixedToBit (32, (int32_t)(getFIXED (mWORK1))));
          GENERATExEMITRX (0);
        }
      // ELSE (12462)
      else
        // CALL EMITRX(STH, N, 0, TEMPBASE, WORK1); (12463)
        {
          putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mSTH));
          putBITp (16, mGENERATExEMITRXxXREG,
                   getBIT (16, mGENERATExGEN_CLASS0xSETUP_PRIORITYxN));
          putBITp (16, mGENERATExEMITRXxINDEX, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
          putBITp (16, mGENERATExEMITRXxXDISP,
                   fixedToBit (32, (int32_t)(getFIXED (mWORK1))));
          GENERATExEMITRX (0);
        }
      // WORK2 = 0; (12464)
      {
        int32_t numberRHS = (int32_t)(0);
        putFIXED (mWORK2, numberRHS);
      }
      // USAGE(N) = 0; (12465)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (
            16,
            mUSAGE
                + 2 * (COREHALFWORD (mGENERATExGEN_CLASS0xSETUP_PRIORITYxN)),
            bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // CALL RETURN_STACK_ENTRY(RIGHTOP); (12466)
  {
    putBITp (16, mGENERATExRETURN_STACK_ENTRYxP, getBIT (16, mRIGHTOP));
    GENERATExRETURN_STACK_ENTRY (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

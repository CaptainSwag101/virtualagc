/*
  File GENERATExSET_CINDEX.c generated by XCOM-I, 2024-08-08 04:32:26.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExSET_CINDEX (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExSET_CINDEX");
  // TARGET_REGISTER = FIXARG1 + (SELECT~=0); (8305)
  {
    int32_t numberRHS = (int32_t)(xadd (
        BYTE0 (mFIXARG1),
        xNEQ (COREHALFWORD (mGENERATExSET_CINDEXxSELECT), 0)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mTARGET_REGISTER, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF FORM(OP) ~= LIT | INX_MUL(OP) > 1 THEN (8306)
  if (1
      & (xOR (
          xNEQ (COREHALFWORD (getFIXED (mIND_STACK)
                              + 73 * (COREHALFWORD (mGENERATExSET_CINDEXxOP))
                              + 32 + 2 * (0)),
                BYTE0 (mLIT)),
          xGT (COREHALFWORD (getFIXED (mIND_STACK)
                             + 73 * (COREHALFWORD (mGENERATExSET_CINDEXxOP))
                             + 36 + 2 * (0)),
               1))))
    // DO; (8307)
    {
    rs1:;
      // IF INX_MUL(OP) > 1 THEN (8308)
      if (1
          & (xGT (COREHALFWORD (getFIXED (mIND_STACK)
                                + 73 * (COREHALFWORD (mGENERATExSET_CINDEXxOP))
                                + 36 + 2 * (0)),
                  1)))
        // DO; (8309)
        {
        rs1s1:;
          // IF FORM(ALCOP) = LIT THEN (8310)
          if (1
              & (xEQ (COREHALFWORD (getFIXED (mIND_STACK)
                                    + 73 * (COREHALFWORD (mRESULT)) + 32
                                    + 2 * (0)),
                      BYTE0 (mLIT))))
            // PTR = GET_INTEGER_LITERAL(LENGTH(DESC(VAL(ALCOP)))); (8311)
            {
              descriptor_t *bitRHS
                  = (putFIXED (
                         mGENERATExGET_INTEGER_LITERALxVALUE,
                         LENGTH (getCHARACTER (getFIXED (mIND_STACK)
                                               + 73 * (COREHALFWORD (mRESULT))
                                               + 12 + 4 * (0)))),
                     GENERATExGET_INTEGER_LITERAL (0));
              putBIT (16, mGENERATExSET_CINDEXxPTR, bitRHS);
              bitRHS->inUse = 0;
            }
          // ELSE (8312)
          else
            // DO; (8313)
            {
            rs1s1s1:;
              // CALL FINDAC(INDEX_REG); (8314)
              {
                putBITp (16, mGENERATExFINDACxRCLASS,
                         fixedToBit (32, (int32_t)(4)));
                GENERATExFINDAC (0);
              }
              // CALL GUARANTEE_ADDRESSABLE(ALCOP, LH); (8315)
              {
                putBITp (16, mGENERATExGUARANTEE_ADDRESSABLExOP,
                         getBIT (16, mRESULT));
                putBITp (16, mGENERATExGUARANTEE_ADDRESSABLExINST,
                         getBIT (8, mLH));
                GENERATExGUARANTEE_ADDRESSABLE (0);
              }
              // CALL EMITOP(LH, TARGET_REGISTER, ALCOP); (8316)
              {
                putBITp (16, mGENERATExEMITOPxINST, getBIT (8, mLH));
                putBITp (16, mGENERATExEMITOPxXREG,
                         getBIT (16, mTARGET_REGISTER));
                putBITp (16, mGENERATExEMITOPxOP, getBIT (16, mRESULT));
                GENERATExEMITOP (0);
              }
              // CALL EMITP(NHI, TARGET_REGISTER, 0, 0,  255); (8317)
              {
                putBITp (16, mGENERATExEMITPxINST, getBIT (8, mNHI));
                putBITp (16, mGENERATExEMITPxXREG,
                         getBIT (16, mTARGET_REGISTER));
                putBITp (16, mGENERATExEMITPxINDEX,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITPxFLAG,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITPxPTR,
                         fixedToBit (32, (int32_t)(255)));
                GENERATExEMITP (0);
              }
              // PTR = GET_VAC(TARGET_REGISTER); (8318)
              {
                descriptor_t *bitRHS
                    = (putBITp (16, mGENERATExGET_VACxR,
                                getBIT (16, mTARGET_REGISTER)),
                       GENERATExGET_VAC (0));
                putBIT (16, mGENERATExSET_CINDEXxPTR, bitRHS);
                bitRHS->inUse = 0;
              }
            es1s1s1:;
            } // End of DO block
          // IF INX_MUL(OP) > 2 THEN (8319)
          if (1
              & (xGT (
                  COREHALFWORD (getFIXED (mIND_STACK)
                                + 73 * (COREHALFWORD (mGENERATExSET_CINDEXxOP))
                                + 36 + 2 * (0)),
                  2)))
            // DO; (8320)
            {
            rs1s1s2:;
              // OPTYPE = INTEGER; (8321)
              {
                descriptor_t *bitRHS = getBIT (8, mINTEGER);
                putBIT (16, mOPTYPE, bitRHS);
                bitRHS->inUse = 0;
              }
              // TARGET_REGISTER = -1; (8322)
              {
                int32_t numberRHS = (int32_t)(-1);
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (16, mTARGET_REGISTER, bitRHS);
                bitRHS->inUse = 0;
              }
              // PTR = DO_EXPRESSION(SUM+INX_MUL(OP)-3, PTR, OP); (8323)
              {
                descriptor_t *bitRHS
                    = (putBITp (
                           16, mGENERATExDO_EXPRESSIONxOPC,
                           fixedToBit (
                               32,
                               (int32_t)(xsubtract (
                                   xadd (
                                       BYTE0 (mGENERATExSUM),
                                       COREHALFWORD (
                                           getFIXED (mIND_STACK)
                                           + 73
                                                 * (COREHALFWORD (
                                                     mGENERATExSET_CINDEXxOP))
                                           + 36 + 2 * (0))),
                                   3)))),
                       putBITp (16, mGENERATExDO_EXPRESSIONxOP1,
                                getBIT (16, mGENERATExSET_CINDEXxPTR)),
                       putBITp (16, mGENERATExDO_EXPRESSIONxOP2,
                                getBIT (16, mGENERATExSET_CINDEXxOP)),
                       GENERATExDO_EXPRESSION (0));
                putBIT (16, mGENERATExSET_CINDEXxPTR, bitRHS);
                bitRHS->inUse = 0;
              }
            es1s1s2:;
            } // End of DO block
          // ELSE (8324)
          else
            // CALL RETURN_STACK_ENTRY(OP); (8325)
            {
              putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
                       getBIT (16, mGENERATExSET_CINDEXxOP));
              GENERATExRETURN_STACK_ENTRY (0);
            }
          // OP = PTR; (8326)
          {
            descriptor_t *bitRHS = getBIT (16, mGENERATExSET_CINDEXxPTR);
            putBIT (16, mGENERATExSET_CINDEXxOP, bitRHS);
            bitRHS->inUse = 0;
          }
        es1s1:;
        } // End of DO block
      // ELSE (8327)
      else
        // CALL FORCE_ACCUMULATOR(OP, INTEGER); (8328)
        {
          putBITp (16, mGENERATExFORCE_ACCUMULATORxOP,
                   getBIT (16, mGENERATExSET_CINDEXxOP));
          putBITp (16, mGENERATExFORCE_ACCUMULATORxOPTYPE,
                   getBIT (8, mINTEGER));
          GENERATExFORCE_ACCUMULATOR (0);
        }
    es1:;
    } // End of DO block
  // IF SELECT = 2 THEN (8329)
  if (1 & (xEQ (COREHALFWORD (mGENERATExSET_CINDEXxSELECT), 2)))
    // DO; (8330)
    {
    rs2:;
      // PTR = COPY_STACK_ENTRY(COLUMN(ALCOP), 4); (8331)
      {
        descriptor_t *bitRHS
            = (putBITp (16, mGENERATExCOPY_STACK_ENTRYxPTR,
                        getBIT (16, getFIXED (mIND_STACK)
                                        + 73 * (COREHALFWORD (mRESULT)) + 24
                                        + 2 * (0))),
               putBITp (8, mGENERATExCOPY_STACK_ENTRYxFLAG,
                        fixedToBit (32, (int32_t)(4))),
               GENERATExCOPY_STACK_ENTRY (0));
        putBIT (16, mGENERATExSET_CINDEXxPTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // OPTYPE = INTEGER; (8332)
      {
        descriptor_t *bitRHS = getBIT (8, mINTEGER);
        putBIT (16, mOPTYPE, bitRHS);
        bitRHS->inUse = 0;
      }
      // OP = DO_EXPRESSION(SUM, OP, PTR); (8333)
      {
        descriptor_t *bitRHS
            = (putBITp (16, mGENERATExDO_EXPRESSIONxOPC,
                        getBIT (8, mGENERATExSUM)),
               putBITp (16, mGENERATExDO_EXPRESSIONxOP1,
                        getBIT (16, mGENERATExSET_CINDEXxOP)),
               putBITp (16, mGENERATExDO_EXPRESSIONxOP2,
                        getBIT (16, mGENERATExSET_CINDEXxPTR)),
               GENERATExDO_EXPRESSION (0));
        putBIT (16, mGENERATExSET_CINDEXxOP, bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  // TARGET_REGISTER = -1; (8334)
  {
    int32_t numberRHS = (int32_t)(-1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mTARGET_REGISTER, bitRHS);
    bitRHS->inUse = 0;
  }
  // SELECT = 0; (8335)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mGENERATExSET_CINDEXxSELECT, bitRHS);
    bitRHS->inUse = 0;
  }
  // RETURN OP; (8336)
  {
    reentryGuard = 0;
    return getBIT (16, mGENERATExSET_CINDEXxOP);
  }
}

/*
  File OBJECT_GENERATORxEMIT_RLD_CARDSxRLD_LOOP.c generated by XCOM-I,
  2024-08-09 12:39:31.
*/

#include "runtimeC.h"

int32_t
OBJECT_GENERATORxEMIT_RLD_CARDSxRLD_LOOP (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard,
                               "OBJECT_GENERATORxEMIT_RLD_CARDSxRLD_LOOP");
  // DO WHILE RLD_POS_HEAD(I) > 0; (16245)
  while (1
         & (xGT (COREHALFWORD (
                     mLASTBASE
                     + 2 * COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxI)),
                 0)))
    {
      // TEMP = GET_RLD(RLD_POS_HEAD(I)); (16246)
      {
        int32_t numberRHS = (int32_t)((
            putFIXED (
                mOBJECT_GENERATORxGET_RLDxPTR,
                COREHALFWORD (
                    mLASTBASE
                    + 2 * COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxI))),
            OBJECT_GENERATORxGET_RLD (0)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP, bitRHS);
        bitRHS->inUse = 0;
      }
      // IF RLD_REF(TEMP) ~= 0 THEN (16247)
      if (1
          & (xNEQ (
              getFIXED (getFIXED (mLIT_PG) + 1560 * (0) + 0
                        + 4
                              * (COREHALFWORD (
                                  mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
              0)))
        // DO; (16248)
        {
        rs1s1:;
          // CARDIMAGE(J)=SHL(RLD_REF(TEMP), 16) + I; (16249)
          {
            int32_t numberRHS = (int32_t)(xadd (
                SHL (getFIXED (
                         getFIXED (mLIT_PG) + 1560 * (0) + 0
                         + 4
                               * (COREHALFWORD (
                                   mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
                     16),
                COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxI)));
            putFIXED (
                mOBJECT_GENERATORxCARDIMAGE
                    + 4 * (COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxJ)),
                numberRHS);
          }
          // CARDIMAGE(J+1)=SHL(RLD_ADDR(TEMP),1)|(RLD_REF(TEMP)& 4278190080);
          // (16250)
          {
            int32_t numberRHS = (int32_t)(xOR (
                SHL (getFIXED (
                         getFIXED (mLIT_PG) + 1560 * (0) + 520
                         + 4
                               * (COREHALFWORD (
                                   mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
                     1),
                xAND (getFIXED (
                          getFIXED (mLIT_PG) + 1560 * (0) + 0
                          + 4
                                * (COREHALFWORD (
                                    mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
                      4278190080)));
            putFIXED (
                mOBJECT_GENERATORxCARDIMAGE
                    + 4
                          * (xadd (COREHALFWORD (
                                       mOBJECT_GENERATORxEMIT_RLD_CARDSxJ),
                                   1)),
                numberRHS);
          }
          // IF CODE_LISTING_REQUESTED THEN (16251)
          if (1 & (bitToFixed (getBIT (1, mCODE_LISTING_REQUESTED))))
            // DO; (16252)
            {
            rs1s1s1:;
              // IF FLAG = 0 THEN (16253)
              if (1 & (xEQ (BYTE0 (mOBJECT_GENERATORxEMIT_RLD_CARDSxFLAG), 0)))
                // DO; (16254)
                {
                rs1s1s1s1:;
                  // FLAG = 1; (16255)
                  {
                    int32_t numberRHS = (int32_t)(1);
                    descriptor_t *bitRHS;
                    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                    putBIT (1, mOBJECT_GENERATORxEMIT_RLD_CARDSxFLAG, bitRHS);
                    bitRHS->inUse = 0;
                  }
                  // HEADOUT = FALSE; (16256)
                  {
                    int32_t numberRHS = (int32_t)(0);
                    descriptor_t *bitRHS;
                    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                    putBIT (1, mOBJECT_GENERATORxHEADOUT, bitRHS);
                    bitRHS->inUse = 0;
                  }
                  // CALL PRINT_RLD_LEGEND; (16257)
                  OBJECT_GENERATORxPRINT_RLD_LEGEND (0);
                es1s1s1s1:;
                } // End of DO block
              // S1=LEFTHEX(SHL(RLD_REF(TEMP),16),4); (16258)
              {
                descriptor_t *stringRHS;
                stringRHS
                    = (putFIXED (
                           mOBJECT_GENERATORxLEFTHEXxF,
                           SHL (
                               getFIXED (
                                   getFIXED (mLIT_PG) + 1560 * (0) + 0
                                   + 4
                                         * (COREHALFWORD (
                                             mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
                               16)),
                       putBITp (16, mOBJECT_GENERATORxLEFTHEXxN,
                                fixedToBit (32, (int32_t)(4))),
                       OBJECT_GENERATORxLEFTHEX (0));
                putCHARACTER (mOBJECT_GENERATORxS1, stringRHS);
                stringRHS->inUse = 0;
              }
              // S2=LEFTHEX(SHL(RLD_ADDR(TEMP),8),6); (16259)
              {
                descriptor_t *stringRHS;
                stringRHS
                    = (putFIXED (
                           mOBJECT_GENERATORxLEFTHEXxF,
                           SHL (
                               getFIXED (
                                   getFIXED (mLIT_PG) + 1560 * (0) + 520
                                   + 4
                                         * (COREHALFWORD (
                                             mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))),
                               8)),
                       putBITp (16, mOBJECT_GENERATORxLEFTHEXxN,
                                fixedToBit (32, (int32_t)(6))),
                       OBJECT_GENERATORxLEFTHEX (0));
                putCHARACTER (mOBJECT_GENERATORxS2, stringRHS);
                stringRHS->inUse = 0;
              }
              // DUMMY=LEFTHEX(CARDIMAGE(J+1),2); (16260)
              {
                descriptor_t *stringRHS;
                stringRHS
                    = (putFIXED (
                           mOBJECT_GENERATORxLEFTHEXxF,
                           getFIXED (
                               mOBJECT_GENERATORxCARDIMAGE
                               + 4
                                     * xadd (
                                         COREHALFWORD (
                                             mOBJECT_GENERATORxEMIT_RLD_CARDSxJ),
                                         1))),
                       putBITp (16, mOBJECT_GENERATORxLEFTHEXxN,
                                fixedToBit (32, (int32_t)(2))),
                       OBJECT_GENERATORxLEFTHEX (0));
                putCHARACTER (mDUMMY, stringRHS);
                stringRHS->inUse = 0;
              }
              // S1=S1||X4||' '||PAD(ESD_TABLE(RLD_REF(TEMP)),8); (16261)
              {
                descriptor_t *stringRHS;
                stringRHS = xsCAT (
                    xsCAT (xsCAT (getCHARACTER (mOBJECT_GENERATORxS1),
                                  getCHARACTER (mX4)),
                           cToDescriptor (NULL, " ")),
                    (putCHARACTERp (
                         mPADxSTRING,
                         (putBITp (
                              16, mESD_TABLExPTR,
                              fixedToBit (
                                  32,
                                  (int32_t)(getFIXED (
                                      getFIXED (mLIT_PG) + 1560 * (0) + 0
                                      + 4
                                            * (COREHALFWORD (
                                                mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP)))))),
                          ESD_TABLE (0))),
                     putFIXED (mPADxWIDTH, 8), PAD (0)));
                putCHARACTER (mOBJECT_GENERATORxS1, stringRHS);
                stringRHS->inUse = 0;
              }
              // S2=' '||PAD(ESD_TABLE(I),8)||X3||S2; (16262)
              {
                descriptor_t *stringRHS;
                stringRHS = xsCAT (
                    xsCAT (
                        xsCAT (
                            cToDescriptor (NULL, " "),
                            (putCHARACTERp (
                                 mPADxSTRING,
                                 (putBITp (
                                      16, mESD_TABLExPTR,
                                      getBIT (
                                          16,
                                          mOBJECT_GENERATORxEMIT_RLD_CARDSxI)),
                                  ESD_TABLE (0))),
                             putFIXED (mPADxWIDTH, 8), PAD (0))),
                        getCHARACTER (mX3)),
                    getCHARACTER (mOBJECT_GENERATORxS2));
                putCHARACTER (mOBJECT_GENERATORxS2, stringRHS);
                stringRHS->inUse = 0;
              }
              // S1=LEFTHEX(SHL(I,16),4)||X4||S2||X4||DUMMY||X4||X4||S1;
              // (16263)
              {
                descriptor_t *stringRHS;
                stringRHS = xsCAT (
                    xsCAT (
                        xsCAT (
                            xsCAT (
                                xsCAT (
                                    xsCAT (
                                        xsCAT (
                                            (putFIXED (
                                                 mOBJECT_GENERATORxLEFTHEXxF,
                                                 SHL (
                                                     COREHALFWORD (
                                                         mOBJECT_GENERATORxEMIT_RLD_CARDSxI),
                                                     16)),
                                             putBITp (
                                                 16,
                                                 mOBJECT_GENERATORxLEFTHEXxN,
                                                 fixedToBit (32,
                                                             (int32_t)(4))),
                                             OBJECT_GENERATORxLEFTHEX (0)),
                                            getCHARACTER (mX4)),
                                        getCHARACTER (mOBJECT_GENERATORxS2)),
                                    getCHARACTER (mX4)),
                                getCHARACTER (mDUMMY)),
                            getCHARACTER (mX4)),
                        getCHARACTER (mX4)),
                    getCHARACTER (mOBJECT_GENERATORxS1));
                putCHARACTER (mOBJECT_GENERATORxS1, stringRHS);
                stringRHS->inUse = 0;
              }
              // CALL APRINT(X2 || S1); (16264)
              {
                putCHARACTERp (mOBJECT_GENERATORxAPRINTxLINE,
                               xsCAT (getCHARACTER (mX2),
                                      getCHARACTER (mOBJECT_GENERATORxS1)));
                OBJECT_GENERATORxAPRINT (0);
              }
            es1s1s1:;
            } // End of DO block
          // BYTES_REMAINING = BYTES_REMAINING - 8; (16265)
          {
            int32_t numberRHS = (int32_t)(xsubtract (
                COREHALFWORD (mOBJECT_GENERATORxBYTES_REMAINING), 8));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mOBJECT_GENERATORxBYTES_REMAINING, bitRHS);
            bitRHS->inUse = 0;
          }
          // J = J + 2; (16266)
          {
            int32_t numberRHS = (int32_t)(xadd (
                COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxJ), 2));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mOBJECT_GENERATORxEMIT_RLD_CARDSxJ, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF J > 17 THEN (16267)
          if (1
              & (xGT (COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxJ), 17)))
            // CALL EMIT_RLD_CARD; (16268)
            OBJECT_GENERATORxEMIT_RLD_CARDSxEMIT_RLD_CARD (0);
        es1s1:;
        } // End of DO block
      // RLD_POS_HEAD(I) = RLD_LINK(TEMP); (16269)
      {
        int32_t numberRHS = (int32_t)(getFIXED (
            getFIXED (mLIT_PG) + 1560 * (0) + 1040
            + 4 * (COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxTEMP))));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16,
                mLASTBASE
                    + 2 * (COREHALFWORD (mOBJECT_GENERATORxEMIT_RLD_CARDSxI)),
                bitRHS);
        bitRHS->inUse = 0;
      }
    } // End of DO WHILE block
  {
    reentryGuard = 0;
    return 0;
  }
}

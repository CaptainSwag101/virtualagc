/*
  File GENERATExGEN_CLASS0xEMIT_RETURN.c generated by XCOM-I, 2024-08-09
  12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExGEN_CLASS0xEMIT_RETURN (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "GENERATExGEN_CLASS0xEMIT_RETURN");
  // IF SYT_TYPE(INDEX) < TASK_LABEL THEN (12131)
  if (1
      & (xLT (BYTE0 (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mINDEX)) + 32
                     + 1 * (0)),
              BYTE0 (mTASK_LABEL))))
    // DO; (12132)
    {
    rs1:;
      // IF DATA_REMOTE & (SYT_SCOPE(INDEX) = PROGPOINT) THEN (12133)
      if (1
          & (xAND (BYTE0 (mDATA_REMOTE),
                   xEQ (BYTE0 (getFIXED (mSYM_TAB)
                               + 34 * (COREHALFWORD (mINDEX)) + 29 + 1 * (0)),
                        COREHALFWORD (mPROGPOINT)))))
        // CALL EMITP(LDM, 0, 0, EXTSYM, DSECLR , RXTYPE); (12134)
        {
          putBITp (16, mGENERATExEMITPxINST, getBIT (8, mLDM));
          putBITp (16, mGENERATExEMITPxXREG, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITPxINDEX, fixedToBit (32, (int32_t)(0)));
          putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mEXTSYM));
          putBITp (16, mGENERATExEMITPxPTR, getBIT (8, mDSECLR));
          putBITp (16, mGENERATExEMITPxINSTYPE, getBIT (8, mRXTYPE));
          GENERATExEMITP (0);
        }
      // IF OLD_LINKAGE THEN (12135)
      if (1 & (bitToFixed (getBIT (1, mOLD_LINKAGE))))
        // DO; (12136)
        {
        rs1s1:;
          // CALL EMITRX(LM, 0, 0, TEMPBASE, REGISTER_SAVE_AREA); (12137)
          {
            putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLM));
            putBITp (16, mGENERATExEMITRXxXREG, fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITRXxINDEX,
                     fixedToBit (32, (int32_t)(0)));
            putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
            putBITp (16, mGENERATExEMITRXxXDISP,
                     getBIT (8, mREGISTER_SAVE_AREA));
            GENERATExEMITRX (0);
          }
          // IF MAXERR(SYT_SCOPE(INDEX)) > 0 THEN (12138)
          if (1
              & (xGT (
                  COREHALFWORD (mMAXERR
                                + 2
                                      * BYTE0 (getFIXED (mSYM_TAB)
                                               + 34 * (COREHALFWORD (mINDEX))
                                               + 29 + 1 * (0))),
                  0)))
            // CALL EMITRR(SPM, 0, LINKREG); (12139)
            {
              putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mSPM));
              putBITp (16, mGENERATExEMITRRxREG1,
                       fixedToBit (32, (int32_t)(0)));
              putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
              GENERATExEMITRR (0);
            }
          // IF SYT_SCOPE(INDEX) = PROGPOINT THEN (12140)
          if (1
              & (xEQ (BYTE0 (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mINDEX))
                             + 29 + 1 * (0)),
                      COREHALFWORD (mPROGPOINT))))
            // DO; (12141)
            {
            rs1s1s1:;
              // CALL EMITRX(LH, PROGBASE, 0, TEMPBASE, NEW_GLOBAL_BASE);
              // (12142)
              {
                putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLH));
                putBITp (16, mGENERATExEMITRXxXREG, getBIT (8, mPROGBASE));
                putBITp (16, mGENERATExEMITRXxINDEX,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
                putBITp (16, mGENERATExEMITRXxXDISP,
                         getBIT (8, mNEW_GLOBAL_BASE));
                GENERATExEMITRX (0);
              }
              // CALL EMITRR(BCRE, ALWAYS, LINKREG); (12143)
              {
                putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCRE));
                putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
                putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
                GENERATExEMITRR (0);
              }
            es1s1s1:;
            } // End of DO block
          // ELSE (12144)
          else
            // CALL EMITRR(BCR, ALWAYS, LINKREG); (12145)
            {
              putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCR));
              putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
              putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
              GENERATExEMITRR (0);
            }
        es1s1:;
        } // End of DO block
      // ELSE (12146)
      else
        // IF NOT_LEAF(INDEXNEST) THEN (12147)
        if (1
            & (bitToFixed (
                getBIT (1, mNOT_LEAF + 1 * COREHALFWORD (mINDEXNEST)))))
          // CALL EMITRR(SRET, ALWAYS, TEMPBASE); (12148)
          {
            putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mSRET));
            putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
            putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mTEMPBASE));
            GENERATExEMITRR (0);
          }
        // ELSE (12149)
        else
          // DO; (12150)
          {
          rs1s2:;
            // IF USAGE_LINE(R3) ~= -1 THEN (12151)
            if (1 & (xNEQ (COREHALFWORD (mUSAGE_LINE + 2 * BYTE0 (mR3)), -1)))
              // CALL EMITRX(LH, R3, 0, TEMPBASE, NEW_LOCAL_BASE); (12152)
              {
                putBITp (16, mGENERATExEMITRXxINST, getBIT (8, mLH));
                putBITp (16, mGENERATExEMITRXxXREG, getBIT (8, mR3));
                putBITp (16, mGENERATExEMITRXxINDEX,
                         fixedToBit (32, (int32_t)(0)));
                putBITp (16, mGENERATExEMITRXxXBASE, getBIT (8, mTEMPBASE));
                putBITp (16, mGENERATExEMITRXxXDISP,
                         getBIT (8, mNEW_LOCAL_BASE));
                GENERATExEMITRX (0);
              }
            // CALL EMITRR(BCRE,ALWAYS,LINKREG); (12153)
            {
              putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mBCRE));
              putBITp (16, mGENERATExEMITRRxREG1, getBIT (8, mALWAYS));
              putBITp (16, mGENERATExEMITRRxREG2, getBIT (8, mLINKREG));
              GENERATExEMITRR (0);
            }
          es1s2:;
          } // End of DO block
    es1:;
    } // End of DO block
  // ELSE (12154)
  else
    // DO; (12155)
    {
    rs2:;
      // VAL(0) = 21; (12156)
      {
        int32_t numberRHS = (int32_t)(21);
        putFIXED (getFIXED (mIND_STACK) + 73 * (0) + 12 + 4 * (0), numberRHS);
      }
      // INX(0), INX_CON(0) = 0; (12157)
      {
        int32_t numberRHS = (int32_t)(0);
        putBIT (16, getFIXED (mIND_STACK) + 73 * (0) + 34 + 2 * (0),
                fixedToBit (16, numberRHS));
        putFIXED (getFIXED (mIND_STACK) + 73 * (0) + 4 + 4 * (0), numberRHS);
      }
      // CALL SAVE_LITERAL(0, INTEGER); (12158)
      {
        putBITp (16, mGENERATExSAVE_LITERALxOP, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExSAVE_LITERALxOPTYPE, getBIT (8, mINTEGER));
        GENERATExSAVE_LITERAL (0);
      }
      // CALL EMITOP(SVC, 0, 0); (12159)
      {
        putBITp (16, mGENERATExEMITOPxINST, getBIT (8, mSVC));
        putBITp (16, mGENERATExEMITOPxXREG, fixedToBit (32, (int32_t)(0)));
        putBITp (16, mGENERATExEMITOPxOP, fixedToBit (32, (int32_t)(0)));
        GENERATExEMITOP (0);
      }
    es2:;
    } // End of DO block
  {
    reentryGuard = 0;
    return 0;
  }
}

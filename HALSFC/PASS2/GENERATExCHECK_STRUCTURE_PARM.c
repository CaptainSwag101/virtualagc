/*
  File GENERATExCHECK_STRUCTURE_PARM.c generated by XCOM-I, 2024-08-09
  12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExCHECK_STRUCTURE_PARM (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExCHECK_STRUCTURE_PARM");
  // IF TAG THEN (8071)
  if (1 & (bitToFixed (getBIT (1, mGENERATExCHECK_STRUCTURE_PARMxTAG))))
    // CALL CHECK_ATTRIBUTES; (8072)
    GENERATExCHECK_ATTRIBUTES (0);
  // IF TYPE(RIGHTOP) ~= STRUCTURE THEN (8073)
  if (1
      & (xNEQ (COREHALFWORD (getFIXED (mIND_STACK)
                             + 73 * (COREHALFWORD (mRIGHTOP)) + 50 + 2 * (0)),
               BYTE0 (mSTRUCTURE))))
    // IF CLASS=8 THEN (8074)
    if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
      // CALL ERRORS(CLASS_DI,108); (8075)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(108)));
        ERRORS (0);
      }
    // ELSE (8076)
    else
      // CALL ERRORS(CLASS_FT,101,''||ARGNO); (8077)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FT));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(101)));
        putCHARACTERp (mERRORSxTEXT,
                       xsCAT (cToDescriptor (NULL, ""),
                              bitToCharacter (getBIT (16, mARGNO))));
        ERRORS (0);
      }
  // STRUCTP = SYT_ARRAY(ARGPOINT) ~= 0; (8078)
  {
    int32_t numberRHS = (int32_t)(xNEQ (
        COREHALFWORD (getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mARGPOINT))
                      + 20 + 2 * (0)),
        0));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (1, mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF STRUCTP ~= STRUCT(RIGHTOP) THEN (8079)
  if (1
      & (xNEQ (BYTE0 (mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP),
               BYTE0 (getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                      + 65 + 1 * (0)))))
    // IF CLASS=8 THEN (8080)
    if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
      // CALL ERRORS(CLASS_DI,110); (8081)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(110)));
        ERRORS (0);
      }
    // ELSE (8082)
    else
      // CALL ERRORS(CLASS_FD,103,''||ARGNO); (8083)
      {
        putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FD));
        putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(103)));
        putCHARACTERp (mERRORSxTEXT,
                       xsCAT (cToDescriptor (NULL, ""),
                              bitToCharacter (getBIT (16, mARGNO))));
        ERRORS (0);
      }
  // IF STRUCTP THEN (8084)
  if (1 & (bitToFixed (getBIT (1, mGENERATExCHECK_STRUCTURE_PARMxSTRUCTP))))
    // DO; (8085)
    {
    rs1:;
      // IF SYMFORM(FORM(RIGHTOP)) THEN (8086)
      if (1
          & (bitToFixed (getBIT (
              1, mSYMFORM
                     + 1
                           * COREHALFWORD (getFIXED (mIND_STACK)
                                           + 73 * (COREHALFWORD (mRIGHTOP))
                                           + 32 + 2 * (0))))))
        // I = SYT_ARRAY(LOC(RIGHTOP)); (8087)
        {
          descriptor_t *bitRHS = getBIT (
              16, getFIXED (mSYM_TAB)
                      + 34
                            * (COREHALFWORD (getFIXED (mIND_STACK)
                                             + 73 * (COREHALFWORD (mRIGHTOP))
                                             + 40 + 2 * (0)))
                      + 20 + 2 * (0));
          putBIT (16, mGENERATExCHECK_STRUCTURE_PARMxI, bitRHS);
          bitRHS->inUse = 0;
        }
      // ELSE (8088)
      else
        // I = SF_RANGE(VAL(RIGHTOP)); (8089)
        {
          descriptor_t *bitRHS = getBIT (
              16, mGENERATExSF_RANGE
                      + 2
                            * getFIXED (getFIXED (mIND_STACK)
                                        + 73 * (COREHALFWORD (mRIGHTOP)) + 12
                                        + 4 * (0)));
          putBIT (16, mGENERATExCHECK_STRUCTURE_PARMxI, bitRHS);
          bitRHS->inUse = 0;
        }
      // IF SYT_ARRAY(ARGPOINT) ~< 0 THEN (8090)
      if (1
          & (xGE (COREHALFWORD (getFIXED (mSYM_TAB)
                                + 34 * (COREHALFWORD (mARGPOINT)) + 20
                                + 2 * (0)),
                  0)))
        // IF SYT_ARRAY(ARGPOINT) ~= I THEN (8091)
        if (1
            & (xNEQ (COREHALFWORD (getFIXED (mSYM_TAB)
                                   + 34 * (COREHALFWORD (mARGPOINT)) + 20
                                   + 2 * (0)),
                     COREHALFWORD (mGENERATExCHECK_STRUCTURE_PARMxI))))
          // IF CLASS=8 THEN (8092)
          if (1 & (xEQ (COREHALFWORD (mCLASS), 8)))
            // CALL ERRORS(CLASS_DI,110); (8093)
            {
              putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_DI));
              putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(110)));
              ERRORS (0);
            }
          // ELSE (8094)
          else
            // CALL ERRORS(CLASS_FD,104,''||ARGNO); (8095)
            {
              putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_FD));
              putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(104)));
              putCHARACTERp (mERRORSxTEXT,
                             xsCAT (cToDescriptor (NULL, ""),
                                    bitToCharacter (getBIT (16, mARGNO))));
              ERRORS (0);
            }
    es1:;
    } // End of DO block
  // CALL STRUCTURE_COMPARE(SYT_DIMS(ARGPOINT), DEL(RIGHTOP)); (8096)
  {
    putBITp (16, mGENERATExSTRUCTURE_COMPARExA,
             getBIT (16, getFIXED (mSYM_TAB) + 34 * (COREHALFWORD (mARGPOINT))
                             + 18 + 2 * (0)));
    putBITp (16, mGENERATExSTRUCTURE_COMPARExB,
             getBIT (16, getFIXED (mIND_STACK) + 73 * (COREHALFWORD (mRIGHTOP))
                             + 28 + 2 * (0)));
    GENERATExSTRUCTURE_COMPARE (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File GENERATExPOWER_OF_TWO.c generated by XCOM-I, 2024-08-09 12:39:31.
*/

#include "runtimeC.h"

descriptor_t *
GENERATExPOWER_OF_TWO (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExPOWER_OF_TWO");
  // IF FORM(OP) ~= LIT THEN (5589)
  if (1
      & (xNEQ (COREHALFWORD (getFIXED (mIND_STACK)
                             + 73 * (COREHALFWORD (mGENERATExPOWER_OF_TWOxOP))
                             + 32 + 2 * (0)),
               BYTE0 (mLIT))))
    // RETURN FALSE; (5590)
    {
      reentryGuard = 0;
      return fixedToBit (32, (int32_t)(0));
    }
  // TEST = INTEGER_VALUE(OP); (5591)
  {
    int32_t numberRHS
        = (int32_t)((putBITp (16, mGENERATExINTEGER_VALUExPTR,
                              getBIT (16, mGENERATExPOWER_OF_TWOxOP)),
                     GENERATExINTEGER_VALUE (0)));
    putFIXED (mGENERATExPOWER_OF_TWOxTEST, numberRHS);
  }
  // IF TEST <= 0 THEN (5592)
  if (1 & (xLE (getFIXED (mGENERATExPOWER_OF_TWOxTEST), 0)))
    // RETURN FALSE; (5593)
    {
      reentryGuard = 0;
      return fixedToBit (32, (int32_t)(0));
    }
  // INX_SHIFT(0) = 0; (5594)
  {
    int32_t numberRHS = (int32_t)(0);
    putBIT (8, getFIXED (mIND_STACK) + 73 * (0) + 64 + 1 * (0),
            fixedToBit (8, numberRHS));
  }
  // DO WHILE ~TEST; (5595)
  while (1 & (xNOT (getFIXED (mGENERATExPOWER_OF_TWOxTEST))))
    {
      // INX_SHIFT(0) = INX_SHIFT(0) + 1; (5596)
      {
        int32_t numberRHS = (int32_t)(xadd (
            BYTE0 (getFIXED (mIND_STACK) + 73 * (0) + 64 + 1 * (0)), 1));
        putBIT (8, getFIXED (mIND_STACK) + 73 * (0) + 64 + 1 * (0),
                fixedToBit (8, numberRHS));
      }
      // TEST = SHR(TEST, 1); (5597)
      {
        int32_t numberRHS
            = (int32_t)(SHR (getFIXED (mGENERATExPOWER_OF_TWOxTEST), 1));
        putFIXED (mGENERATExPOWER_OF_TWOxTEST, numberRHS);
      }
    } // End of DO WHILE block
  // RETURN TEST = 1; (5598)
  {
    reentryGuard = 0;
    return fixedToBit (
        32, (int32_t)(xEQ (getFIXED (mGENERATExPOWER_OF_TWOxTEST), 1)));
  }
}

/*
  File GENERATExGEN_CLASS0xSET_ERRLOC.c generated by XCOM-I, 2024-08-09
  12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExGEN_CLASS0xSET_ERRLOC (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExGEN_CLASS0xSET_ERRLOC");
  // IF VAL(OP) =  255 THEN (10976)
  if (1
      & (xEQ (
          getFIXED (getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP))
                    + 12 + 4 * (0)),
          255)))
    // DO; (10977)
    {
    rs1:;
      // VAL(OP) =  63; (10978)
      {
        int32_t numberRHS = (int32_t)(63);
        putFIXED (
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 12
                + 4 * (0),
            numberRHS);
      }
      // I = MAXERR(INDEXNEST) - 1; (10979)
      {
        int32_t numberRHS = (int32_t)(xsubtract (
            COREHALFWORD (mMAXERR + 2 * COREHALFWORD (mINDEXNEST)), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mGENERATExGEN_CLASS0xSET_ERRLOCxI, bitRHS);
        bitRHS->inUse = 0;
      }
      // GO TO FOUND_ERRSETA; (10980)
      goto FOUND_ERRSETA;
    es1:;
    } // End of DO block
  // ELSE (10981)
  else
    // DO; (10982)
    {
    rs2:;
      // VAL(OP) = SHL(ERRNUM, 6) + VAL(OP); (10983)
      {
        int32_t numberRHS = (int32_t)(xadd (
            SHL (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxERRNUM), 6),
            getFIXED (
                getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 12
                + 4 * (0))));
        putFIXED (
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 12
                + 4 * (0),
            numberRHS);
      }
      // DO I = ERRPTR(INDEXNEST) TO ERRPTR-1; (10984)
      {
        int32_t from108, to108, by108;
        from108 = bitToFixed (
            getBIT (16, mGENERATExERRPTR + 2 * COREHALFWORD (mINDEXNEST)));
        to108 = xsubtract (COREHALFWORD (mGENERATExERRPTR), 1);
        by108 = 1;
        for (putBIT (16, mGENERATExGEN_CLASS0xSET_ERRLOCxI,
                     fixedToBit (16, from108));
             bitToFixed (getBIT (16, mGENERATExGEN_CLASS0xSET_ERRLOCxI))
             <= to108;
             putBIT (
                 16, mGENERATExGEN_CLASS0xSET_ERRLOCxI,
                 fixedToBit (16, bitToFixed (getBIT (
                                     16, mGENERATExGEN_CLASS0xSET_ERRLOCxI))
                                     + by108)))
          {
            // IF ERR_STACK(I) = VAL(OP) THEN (10985)
            if (1
                & (xEQ (
                    COREHALFWORD (
                        mGENERATExERR_STACK
                        + 2
                              * COREHALFWORD (
                                  mGENERATExGEN_CLASS0xSET_ERRLOCxI)),
                    getFIXED (getFIXED (mIND_STACK)
                              + 73
                                    * (COREHALFWORD (
                                        mGENERATExGEN_CLASS0xSET_ERRLOCxOP))
                              + 12 + 4 * (0)))))
              // GO TO FOUND_ERRSET; (10986)
              goto FOUND_ERRSET;
          }
      } // End of DO for-loop block
      // IF I > ARG_STACK# THEN (10987)
      if (1 & (xGT (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI), 100)))
        // CALL ERRORS(CLASS_BS,111); (10988)
        {
          putBITp (16, mERRORSxCLASS, getBIT (8, mCLASS_BS));
          putBITp (16, mERRORSxNUM, fixedToBit (32, (int32_t)(111)));
          ERRORS (0);
        }
      // ERR_STACK(I) = VAL(OP); (10989)
      {
        int32_t numberRHS = (int32_t)(getFIXED (
            getFIXED (mIND_STACK)
            + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 12
            + 4 * (0)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16,
                mGENERATExERR_STACK
                    + 2 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI)),
                bitRHS);
        bitRHS->inUse = 0;
      }
      // IF ERRNUM =  63 THEN (10990)
      if (1
          & (xEQ (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxERRNUM), 63)))
        // DO; (10991)
        {
        rs2s2:;
          // ERRALL(INDEXNEST) = ERRALL(INDEXNEST) + 1; (10992)
          {
            int32_t numberRHS = (int32_t)(xadd (
                COREHALFWORD (mGENERATExERRALL
                              + 2 * COREHALFWORD (mINDEXNEST)),
                1));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mGENERATExERRALL + 2 * (COREHALFWORD (mINDEXNEST)),
                    bitRHS);
            bitRHS->inUse = 0;
          }
          // ERR_DISP(I)=MAXERR(INDEXNEST)-ERRALL(INDEXNEST)-ERRALLGRP(INDEXNEST);
          // (10993)
          {
            int32_t numberRHS = (int32_t)(xsubtract (
                xsubtract (
                    COREHALFWORD (mMAXERR + 2 * COREHALFWORD (mINDEXNEST)),
                    COREHALFWORD (mGENERATExERRALL
                                  + 2 * COREHALFWORD (mINDEXNEST))),
                COREHALFWORD (mERRALLGRP + 2 * COREHALFWORD (mINDEXNEST))));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (
                16,
                mGENERATExERR_DISP
                    + 2 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI)),
                bitRHS);
            bitRHS->inUse = 0;
          }
        es2s2:;
        } // End of DO block
      // ELSE (10994)
      else
        // ERR_DISP(I) = I - ERRALL(INDEXNEST) - ERRPTR(INDEXNEST); (10995)
        {
          int32_t numberRHS = (int32_t)(xsubtract (
              xsubtract (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI),
                         COREHALFWORD (mGENERATExERRALL
                                       + 2 * COREHALFWORD (mINDEXNEST))),
              COREHALFWORD (mGENERATExERRPTR
                            + 2 * COREHALFWORD (mINDEXNEST))));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16,
                  mGENERATExERR_DISP
                      + 2 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI)),
                  bitRHS);
          bitRHS->inUse = 0;
        }
      // ERRPTR = ERRPTR + 1; (10996)
      {
        int32_t numberRHS
            = (int32_t)(xadd (COREHALFWORD (mGENERATExERRPTR), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mGENERATExERRPTR, bitRHS);
        bitRHS->inUse = 0;
      }
    // FOUND_ERRSET: (10997)
    FOUND_ERRSET:
      // I = ERR_DISP(I); (10998)
      {
        descriptor_t *bitRHS = getBIT (
            16, mGENERATExERR_DISP
                    + 2 * COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI));
        putBIT (16, mGENERATExGEN_CLASS0xSET_ERRLOCxI, bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
// FOUND_ERRSETA: (10999)
FOUND_ERRSETA:
  // FORM(OP) = WORK; (11000)
  {
    descriptor_t *bitRHS = getBIT (8, mWORK);
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 32
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // BASE(OP) = TEMPBASE; (11001)
  {
    descriptor_t *bitRHS = getBIT (8, mTEMPBASE);
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 22
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // DISP(OP) = SHL(I, 1) + ERRSEG(INDEXNEST); (11002)
  {
    int32_t numberRHS = (int32_t)(xadd (
        SHL (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxI), 1),
        getFIXED (mERRSEG + 4 * COREHALFWORD (mINDEXNEST))));
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 30
                + 2 * (0),
            fixedToBit (16, numberRHS));
  }
  // TYPE(OP) = INTEGER; (11003)
  {
    descriptor_t *bitRHS = getBIT (8, mINTEGER);
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExGEN_CLASS0xSET_ERRLOCxOP)) + 50
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

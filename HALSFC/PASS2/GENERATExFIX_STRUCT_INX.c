/*
  File GENERATExFIX_STRUCT_INX.c generated by XCOM-I, 2024-08-09 12:39:31.
*/

#include "runtimeC.h"

int32_t
GENERATExFIX_STRUCT_INX (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GENERATExFIX_STRUCT_INX");
  // SHFT = SHIFT(TYPE(OP)); (4267)
  {
    descriptor_t *bitRHS = getBIT (
        8, mSHIFT
               + 1
                     * COREHALFWORD (
                         getFIXED (mIND_STACK)
                         + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                         + 50 + 2 * (0)));
    putBIT (16, mGENERATExFIX_STRUCT_INXxSHFT, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF (FORM(OP) = SYM) | (FORM(OP) = CSYM)   | (NR_DEREF(OP) & (FORM(OP) =
  // NRTEMP)) THEN (4268)
  if (1
      & (xOR (
          xOR (xEQ (COREHALFWORD (
                        getFIXED (mIND_STACK)
                        + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                        + 32 + 2 * (0)),
                    BYTE0 (mSYM)),
               xEQ (COREHALFWORD (
                        getFIXED (mIND_STACK)
                        + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                        + 32 + 2 * (0)),
                    BYTE0 (mCSYM))),
          xAND (BYTE0 (getFIXED (mIND_STACK)
                       + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP)) + 60
                       + 1 * (0)),
                xEQ (COREHALFWORD (
                         getFIXED (mIND_STACK)
                         + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                         + 32 + 2 * (0)),
                     BYTE0 (mWORK))))))
    // IF SYT_TYPE(LOC(OP)) = STRUCTURE THEN (4269)
    if (1
        & (xEQ (
            BYTE0 (
                getFIXED (mSYM_TAB)
                + 34
                      * (COREHALFWORD (
                          getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                          + 40 + 2 * (0)))
                + 32 + 1 * (0)),
            BYTE0 (mSTRUCTURE))))
      // DO; (4270)
      {
      rs1:;
        // IF (SYT_FLAGS(LOC2(OP))&NAME_OR_REMOTE)=NAME_OR_REMOTE THEN (4271)
        if (1
            & (xEQ (xAND (getFIXED (
                              getFIXED (mSYM_TAB)
                              + 34
                                    * (COREHALFWORD (
                                        getFIXED (mIND_STACK)
                                        + 73
                                              * (COREHALFWORD (
                                                  mGENERATExFIX_STRUCT_INXxOP))
                                        + 42 + 2 * (0)))
                              + 8 + 4 * (0)),
                          getFIXED (mNAME_OR_REMOTE)),
                    getFIXED (mNAME_OR_REMOTE))))
          // SHFT = SHIFT(RPOINTER); (4272)
          {
            descriptor_t *bitRHS = getBIT (8, mSHIFT + 1 * BYTE0 (mRPOINTER));
            putBIT (16, mGENERATExFIX_STRUCT_INXxSHFT, bitRHS);
            bitRHS->inUse = 0;
          }
        // ELSE (4273)
        else
          // IF (SYT_FLAGS(LOC2(OP))&NAME_FLAG)=NAME_FLAG THEN (4274)
          if (1
              & (xEQ (
                  xAND (getFIXED (
                            getFIXED (mSYM_TAB)
                            + 34
                                  * (COREHALFWORD (
                                      getFIXED (mIND_STACK)
                                      + 73
                                            * (COREHALFWORD (
                                                mGENERATExFIX_STRUCT_INXxOP))
                                      + 42 + 2 * (0)))
                            + 8 + 4 * (0)),
                        getFIXED (mNAME_FLAG)),
                  getFIXED (mNAME_FLAG))))
            // SHFT = SHIFT(APOINTER); (4275)
            {
              descriptor_t *bitRHS
                  = getBIT (8, mSHIFT + 1 * BYTE0 (mAPOINTER));
              putBIT (16, mGENERATExFIX_STRUCT_INXxSHFT, bitRHS);
              bitRHS->inUse = 0;
            }
          // ELSE (4276)
          else
            // DO; (4277)
            {
            rs1s1:;
              // IF ((SYT_TYPE(LOC2(OP))=FULLBIT) & ((SYT_DIMS(LOC2(OP)) & 255)
              // <= 16)) THEN (4278)
              if (1
                  & (xAND (
                      xEQ (
                          BYTE0 (
                              getFIXED (mSYM_TAB)
                              + 34
                                    * (COREHALFWORD (
                                        getFIXED (mIND_STACK)
                                        + 73
                                              * (COREHALFWORD (
                                                  mGENERATExFIX_STRUCT_INXxOP))
                                        + 42 + 2 * (0)))
                              + 32 + 1 * (0)),
                          BYTE0 (mFULLBIT)),
                      xLE (
                          xAND (
                              COREHALFWORD (
                                  getFIXED (mSYM_TAB)
                                  + 34
                                        * (COREHALFWORD (
                                            getFIXED (mIND_STACK)
                                            + 73
                                                  * (COREHALFWORD (
                                                      mGENERATExFIX_STRUCT_INXxOP))
                                            + 42 + 2 * (0)))
                                  + 18 + 2 * (0)),
                              255),
                          16))))
                // SHFT = 0; (4279)
                {
                  int32_t numberRHS = (int32_t)(0);
                  descriptor_t *bitRHS;
                  bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                  putBIT (16, mGENERATExFIX_STRUCT_INXxSHFT, bitRHS);
                  bitRHS->inUse = 0;
                }
              // ELSE (4280)
              else
                // SHFT = SHIFT(SYT_TYPE(LOC2(OP))); (4281)
                {
                  descriptor_t *bitRHS = getBIT (
                      8,
                      mSHIFT
                          + 1
                                * BYTE0 (
                                    getFIXED (mSYM_TAB)
                                    + 34
                                          * (COREHALFWORD (
                                              getFIXED (mIND_STACK)
                                              + 73
                                                    * (COREHALFWORD (
                                                        mGENERATExFIX_STRUCT_INXxOP))
                                              + 42 + 2 * (0)))
                                    + 32 + 1 * (0)));
                  putBIT (16, mGENERATExFIX_STRUCT_INXxSHFT, bitRHS);
                  bitRHS->inUse = 0;
                }
            es1s1:;
            } // End of DO block
      es1:;
      } // End of DO block
  // IF IX ~= 0 THEN (4282)
  if (1 & (xNEQ (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX), 0)))
    // CALL CHECK_CSYM_INX(OP, REG(IX)); (4283)
    {
      putBITp (16, mGENERATExCHECK_CSYM_INXxOP,
               getBIT (16, mGENERATExFIX_STRUCT_INXxOP));
      putBITp (
          16, mGENERATExCHECK_CSYM_INXxR,
          getBIT (16, getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX))
                          + 46 + 2 * (0)));
      GENERATExCHECK_CSYM_INX (0);
    }
  // IF INX(OP) ~= 0 THEN (4284)
  if (1
      & (xNEQ (
          COREHALFWORD (getFIXED (mIND_STACK)
                        + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                        + 34 + 2 * (0)),
          0)))
    // DO; (4285)
    {
    rs2:;
      // IF INX(OP) < 0 THEN (4286)
      if (1
          & (xLT (
              COREHALFWORD (getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                            + 34 + 2 * (0)),
              0)))
        // IF (IX | SHFT) ~= 0 THEN (4287)
        if (1
            & (xNEQ (xOR (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX),
                          COREHALFWORD (mGENERATExFIX_STRUCT_INXxSHFT)),
                     0)))
          // DO; (4288)
          {
          rs2s1:;
            // R = FINDAC(INDEX_REG); (4289)
            {
              descriptor_t *bitRHS = (putBITp (16, mGENERATExFINDACxRCLASS,
                                               fixedToBit (32, (int32_t)(4))),
                                      GENERATExFINDAC (0));
              putBIT (16, mGENERATExFIX_STRUCT_INXxR, bitRHS);
              bitRHS->inUse = 0;
            }
            // TEMP = -INX(OP); (4290)
            {
              int32_t numberRHS = (int32_t)(xminus (COREHALFWORD (
                  getFIXED (mIND_STACK)
                  + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP)) + 34
                  + 2 * (0))));
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mGENERATExFIX_STRUCT_INXxTEMP, bitRHS);
              bitRHS->inUse = 0;
            }
            // CALL EMIT_BY_MODE(LOAD, R, TEMP, TYPE(TEMP)); (4291)
            {
              putBITp (16, mGENERATExEMIT_BY_MODExOP,
                       getBIT (16, mGENERATExLOAD));
              putBITp (16, mGENERATExEMIT_BY_MODExR,
                       getBIT (16, mGENERATExFIX_STRUCT_INXxR));
              putBITp (16, mGENERATExEMIT_BY_MODExOP2,
                       getBIT (16, mGENERATExFIX_STRUCT_INXxTEMP));
              putBITp (
                  16, mGENERATExEMIT_BY_MODExMODE,
                  getBIT (
                      16,
                      getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxTEMP))
                          + 50 + 2 * (0)));
              GENERATExEMIT_BY_MODE (0);
            }
            // CALL OFF_INX(INX(OP)); (4292)
            {
              putBITp (16, mGENERATExOFF_INXxR,
                       getBIT (16, getFIXED (mIND_STACK)
                                       + 73
                                             * (COREHALFWORD (
                                                 mGENERATExFIX_STRUCT_INXxOP))
                                       + 34 + 2 * (0)));
              GENERATExOFF_INX (0);
            }
            // INX(OP) = R; (4293)
            {
              descriptor_t *bitRHS = getBIT (16, mGENERATExFIX_STRUCT_INXxR);
              putBIT (16,
                      getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                          + 34 + 2 * (0),
                      bitRHS);
              bitRHS->inUse = 0;
            }
          es2s1:;
          } // End of DO block
      // IF SELF_ALIGNING THEN (4294)
      if (1 & (bitToFixed (getBIT (1, mSELF_ALIGNING))))
        // IF ~((R_CONTENTS(INX(OP))=LIT) & (INX_CON(OP)=0)) THEN (4295)
        if (1
            & (xNOT (xAND (
                xEQ (BYTE0 (mR_CONTENTS
                            + 1
                                  * COREHALFWORD (
                                      getFIXED (mIND_STACK)
                                      + 73
                                            * (COREHALFWORD (
                                                mGENERATExFIX_STRUCT_INXxOP))
                                      + 34 + 2 * (0))),
                     BYTE0 (mLIT)),
                xEQ (getFIXED (
                         getFIXED (mIND_STACK)
                         + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                         + 4 + 4 * (0)),
                     0)))))
          // IF SHFT > 0 THEN (4296)
          if (1 & (xGT (COREHALFWORD (mGENERATExFIX_STRUCT_INXxSHFT), 0)))
            // IF STRUCT_INX(OP) >= 4 THEN (4297)
            if (1
                & (xGE (
                    BYTE0 (getFIXED (mIND_STACK)
                           + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                           + 66 + 1 * (0)),
                    4)))
              // DO; (4298)
              {
              rs2s2:;
                // CALL VERIFY_INX_USAGE(OP); (4299)
                {
                  putBITp (16, mGENERATExVERIFY_INX_USAGExOP,
                           getBIT (16, mGENERATExFIX_STRUCT_INXxOP));
                  GENERATExVERIFY_INX_USAGE (0);
                }
                // CALL EMITP(SRA, INX(OP), 0, SHCOUNT, SHFT); (4300)
                {
                  putBITp (16, mGENERATExEMITPxINST, getBIT (8, mSRA));
                  putBITp (
                      16, mGENERATExEMITPxXREG,
                      getBIT (16, getFIXED (mIND_STACK)
                                      + 73
                                            * (COREHALFWORD (
                                                mGENERATExFIX_STRUCT_INXxOP))
                                      + 34 + 2 * (0)));
                  putBITp (16, mGENERATExEMITPxINDEX,
                           fixedToBit (32, (int32_t)(0)));
                  putBITp (16, mGENERATExEMITPxFLAG, getBIT (8, mSHCOUNT));
                  putBITp (16, mGENERATExEMITPxPTR,
                           getBIT (16, mGENERATExFIX_STRUCT_INXxSHFT));
                  GENERATExEMITP (0);
                }
              es2s2:;
              } // End of DO block
      // IF IX ~= 0 THEN (4301)
      if (1 & (xNEQ (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX), 0)))
        // DO; (4302)
        {
        rs2s3:;
          // CALL VERIFY_INX_USAGE(OP); (4303)
          {
            putBITp (16, mGENERATExVERIFY_INX_USAGExOP,
                     getBIT (16, mGENERATExFIX_STRUCT_INXxOP));
            GENERATExVERIFY_INX_USAGE (0);
          }
          // CALL EMITRR(AR, INX(OP), REG(IX)); (4304)
          {
            putBITp (16, mGENERATExEMITRRxINST, getBIT (8, mAR));
            putBITp (
                16, mGENERATExEMITRRxREG1,
                getBIT (16,
                        getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP))
                            + 34 + 2 * (0)));
            putBITp (
                16, mGENERATExEMITRRxREG2,
                getBIT (16,
                        getFIXED (mIND_STACK)
                            + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX))
                            + 46 + 2 * (0)));
            GENERATExEMITRR (0);
          }
          // CALL DROP_REG(IX); (4305)
          {
            putBITp (16, mGENERATExDROP_REGxOP,
                     getBIT (16, mGENERATExFIX_STRUCT_INXxIX));
            GENERATExDROP_REG (0);
          }
        es2s3:;
        } // End of DO block
    es2:;
    } // End of DO block
  // ELSE (4306)
  else
    // IF IX ~= 0 THEN (4307)
    if (1 & (xNEQ (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX), 0)))
      // INX(OP) = REG(IX); (4308)
      {
        descriptor_t *bitRHS = getBIT (
            16, getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX)) + 46
                    + 2 * (0));
        putBIT (16,
                getFIXED (mIND_STACK)
                    + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP)) + 34
                    + 2 * (0),
                bitRHS);
        bitRHS->inUse = 0;
      }
    // ELSE (4309)
    else
      // RETURN; (4310)
      {
        reentryGuard = 0;
        return 0;
      }
  // INX_NEXT_USE(OP) = NEXT_USE(IX); (4311)
  {
    descriptor_t *bitRHS
        = getBIT (16, getFIXED (mIND_STACK)
                          + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxIX))
                          + 44 + 2 * (0));
    putBIT (16,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP)) + 38
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL RETURN_STACK_ENTRY(IX); (4312)
  {
    putBITp (16, mGENERATExRETURN_STACK_ENTRYxP,
             getBIT (16, mGENERATExFIX_STRUCT_INXxIX));
    GENERATExRETURN_STACK_ENTRY (0);
  }
  // STRUCT_INX(OP) = 2; (4313)
  {
    int32_t numberRHS = (int32_t)(2);
    putBIT (8,
            getFIXED (mIND_STACK)
                + 73 * (COREHALFWORD (mGENERATExFIX_STRUCT_INXxOP)) + 66
                + 1 * (0),
            fixedToBit (8, numberRHS));
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

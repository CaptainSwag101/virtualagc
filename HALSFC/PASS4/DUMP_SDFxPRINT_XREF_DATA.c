/*
  File DUMP_SDFxPRINT_XREF_DATA.c generated by XCOM-I, 2024-08-08 04:33:20.
*/

#include "runtimeC.h"

int32_t
DUMP_SDFxPRINT_XREF_DATA (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "DUMP_SDFxPRINT_XREF_DATA");
  // TS = X10 || 'CROSS REFERENCE:  '; (2440)
  {
    descriptor_t *stringRHS;
    stringRHS = xsCAT (getCHARACTER (mX10),
                       cToDescriptor (NULL, "CROSS REFERENCE:  "));
    putCHARACTER (mDUMP_SDFxTS, stringRHS);
    stringRHS->inUse = 0;
  }
  // #XREF = NODE_H(K); (2441)
  {
    descriptor_t *bitRHS
        = getBIT (16, getFIXED (mDUMP_SDFxNODE_H)
                          + 2 * COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK));
    putBIT (16, mDUMP_SDFxpXREF, bitRHS);
    bitRHS->inUse = 0;
  }
  // K = K + 1; (2442)
  {
    int32_t numberRHS
        = (int32_t)(xadd (COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK), 1));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDUMP_SDFxPRINT_XREF_DATAxK, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO J = 1 TO #XREF; (2443)
  {
    int32_t from47, to47, by47;
    from47 = 1;
    to47 = bitToFixed (getBIT (16, mDUMP_SDFxpXREF));
    by47 = 1;
    for (putBIT (16, mDUMP_SDFxJ, fixedToBit (16, from47));
         bitToFixed (getBIT (16, mDUMP_SDFxJ)) <= to47; putBIT (
             16, mDUMP_SDFxJ,
             fixedToBit (16, bitToFixed (getBIT (16, mDUMP_SDFxJ)) + by47)))
      {
        // ITEM = NODE_H(K); (2444)
        {
          descriptor_t *bitRHS = getBIT (
              16, getFIXED (mDUMP_SDFxNODE_H)
                      + 2 * COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK));
          putBIT (16, mDUMP_SDFxITEM, bitRHS);
          bitRHS->inUse = 0;
        }
        // IF ITEM ~= -1 THEN (2445)
        if (1 & (xNEQ (COREHALFWORD (mDUMP_SDFxITEM), -1)))
          // DO; (2446)
          {
          rs1s1:;
            // TS = TS || (SHR(ITEM,13)&7)|| X1||SUBSTR(10000+(ITEM&
            // 8191),1,4)||X2; (2447)
            {
              descriptor_t *stringRHS;
              stringRHS = xsCAT (
                  xsCAT (
                      xsCAT (
                          xsCAT (getCHARACTER (mDUMP_SDFxTS),
                                 fixedToCharacter (xAND (
                                     SHR (COREHALFWORD (mDUMP_SDFxITEM), 13),
                                     7))),
                          getCHARACTER (mX1)),
                      SUBSTR (fixedToCharacter (xadd (
                                  10000,
                                  xAND (COREHALFWORD (mDUMP_SDFxITEM), 8191))),
                              1, 4)),
                  getCHARACTER (mX2));
              putCHARACTER (mDUMP_SDFxTS, stringRHS);
              stringRHS->inUse = 0;
            }
            // IF LENGTH(TS) + 6 > 132 THEN (2448)
            if (1
                & (xGT (xadd (LENGTH (getCHARACTER (mDUMP_SDFxTS)), 6), 132)))
              // DO; (2449)
              {
              rs1s1s1:;
                // OUTPUT = TS; (2450)
                {
                  descriptor_t *stringRHS;
                  stringRHS = getCHARACTER (mDUMP_SDFxTS);
                  OUTPUT (0, stringRHS);
                  stringRHS->inUse = 0;
                }
                // TS = X28; (2451)
                {
                  descriptor_t *stringRHS;
                  stringRHS = getCHARACTER (mX28);
                  putCHARACTER (mDUMP_SDFxTS, stringRHS);
                  stringRHS->inUse = 0;
                }
              es1s1s1:;
              } // End of DO block
          es1s1:;
          } // End of DO block
        // ELSE (2452)
        else
          // DO; (2453)
          {
          rs1s2:;
            // J = J - 1; (2454)
            {
              int32_t numberRHS
                  = (int32_t)(xsubtract (COREHALFWORD (mDUMP_SDFxJ), 1));
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mDUMP_SDFxJ, bitRHS);
              bitRHS->inUse = 0;
            }
            // K = SHR(K + 2,1); (2455)
            {
              int32_t numberRHS = (int32_t)(SHR (
                  xadd (COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK), 2), 1));
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mDUMP_SDFxPRINT_XREF_DATAxK, bitRHS);
              bitRHS->inUse = 0;
            }
            // PTR1 = NODE_F(K); (2456)
            {
              int32_t numberRHS = (int32_t)(getFIXED (
                  getFIXED (mDUMP_SDFxNODE_F)
                  + 4 * COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK)));
              putFIXED (mDUMP_SDFxPTR1, numberRHS);
            }
            // CALL SDF_LOCATE(PTR1,ADDR(NODE_F),0); (2457)
            {
              putFIXED (mSDF_LOCATExPTR, getFIXED (mDUMP_SDFxPTR1));
              putFIXED (mSDF_LOCATExBVAR,
                        ADDR ("DUMP_SDFxNODE_F", 0x80000000, NULL, 0));
              putBITp (8, mSDF_LOCATExFLAGS, fixedToBit (32, (int32_t)(0)));
              SDF_LOCATE (0);
            }
            // COREWORD(ADDR(NODE_H)) = LOC_ADDR; (2458)
            {
              int32_t numberRHS = (int32_t)(getFIXED (mLOC_ADDR));
              COREWORD2 (ADDR ("DUMP_SDFxNODE_H", 0x80000000, NULL, 0),
                         numberRHS);
            }
            // K = -1; (2459)
            {
              int32_t numberRHS = (int32_t)(-1);
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mDUMP_SDFxPRINT_XREF_DATAxK, bitRHS);
              bitRHS->inUse = 0;
            }
          es1s2:;
          } // End of DO block
        // K = K + 1; (2460)
        {
          int32_t numberRHS = (int32_t)(xadd (
              COREHALFWORD (mDUMP_SDFxPRINT_XREF_DATAxK), 1));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mDUMP_SDFxPRINT_XREF_DATAxK, bitRHS);
          bitRHS->inUse = 0;
        }
      }
  } // End of DO for-loop block
  // IF LENGTH(TS) > 28 THEN (2461)
  if (1 & (xGT (LENGTH (getCHARACTER (mDUMP_SDFxTS)), 28)))
    // OUTPUT = TS; (2462)
    {
      descriptor_t *stringRHS;
      stringRHS = getCHARACTER (mDUMP_SDFxTS);
      OUTPUT (0, stringRHS);
      stringRHS->inUse = 0;
    }
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File DUMP_SDFxFORMAT_CELL_TREE.c generated by XCOM-I, 2024-08-09 12:40:27.
*/

#include "runtimeC.h"

int32_t
DUMP_SDFxFORMAT_CELL_TREE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "DUMP_SDFxFORMAT_CELL_TREE");
  // OUTER = TRUE; (2344)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mDUMP_SDFxFORMAT_CELL_TREExOUTER, bitRHS);
    bitRHS->inUse = 0;
  }
  // PTR_INX = 1; (2345)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mPTR_INX, bitRHS);
    bitRHS->inUse = 0;
  }
  // CELL_PTRS(PTR_INX) = PTR; (2346)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR));
    putFIXED (getFIXED (mCELL_PTR_REC) + 4 * (0) + 0
                  + 4 * (COREHALFWORD (mPTR_INX)),
              numberRHS);
  }
  // DO WHILE PTR_INX > 0; (2347)
  while (1 & (xGT (COREHALFWORD (mPTR_INX), 0)))
    {
      // PTR = CELL_PTRS(PTR_INX); (2348)
      {
        int32_t numberRHS
            = (int32_t)(getFIXED (getFIXED (mCELL_PTR_REC) + 4 * (0) + 0
                                  + 4 * (COREHALFWORD (mPTR_INX))));
        putFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR, numberRHS);
      }
      // PTR_INX = PTR_INX - 1; (2349)
      {
        int32_t numberRHS = (int32_t)(xsubtract (COREHALFWORD (mPTR_INX), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mPTR_INX, bitRHS);
        bitRHS->inUse = 0;
      }
      // PTR_TYPE = SHR(PTR,30) & 3; (2350)
      {
        int32_t numberRHS = (int32_t)(xAND (
            SHR (getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR), 30), 3));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (8, mDUMP_SDFxFORMAT_CELL_TREExPTR_TYPE, bitRHS);
        bitRHS->inUse = 0;
      }
      // PTR = PTR &  1073741823; (2351)
      {
        int32_t numberRHS = (int32_t)(xAND (
            getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR), 1073741823));
        putFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR, numberRHS);
      }
      // DO CASE PTR_TYPE; (2352)
      {
      rs1s1:
        switch (BYTE0 (mDUMP_SDFxFORMAT_CELL_TREExPTR_TYPE))
          {
          case 0:
            // CALL FORMAT_VAR_REF_CELL(PTR,1); (2354)
            {
              putFIXED (mDUMP_SDFxFORMAT_VAR_REF_CELLxPTR,
                        getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR));
              putBITp (8, mDUMP_SDFxFORMAT_VAR_REF_CELLxNO_PRINT,
                       fixedToBit (32, (int32_t)(1)));
              DUMP_SDFxFORMAT_VAR_REF_CELL (0);
            }
            break;
          case 1:
            // CALL FORMAT_PF_INV_CELL(PTR); (2355)
            {
              putFIXED (mDUMP_SDFxFORMAT_PF_INV_CELLxPTR,
                        getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR));
              DUMP_SDFxFORMAT_PF_INV_CELL (0);
            }
            break;
          case 2:
            // DO; (2356)
            {
            rs1s1s1:;
              // CALL FORMAT_EXP_VARS_CELL(PTR,OUTER); (2356)
              {
                putFIXED (mDUMP_SDFxFORMAT_EXP_VARS_CELLxPTR,
                          getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR));
                putBITp (16, mDUMP_SDFxFORMAT_EXP_VARS_CELLxOUTER,
                         getBIT (8, mDUMP_SDFxFORMAT_CELL_TREExOUTER));
                DUMP_SDFxFORMAT_EXP_VARS_CELL (0);
              }
              // OUTER = FALSE; (2357)
              {
                int32_t numberRHS = (int32_t)(0);
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (8, mDUMP_SDFxFORMAT_CELL_TREExOUTER, bitRHS);
                bitRHS->inUse = 0;
              }
            es1s1s1:;
            } // End of DO block
            break;
          case 3:
            // DO; (2359)
            {
            rs1s1s2:;
              // IF PTR = 0 THEN (2359)
              if (1 & (xEQ (getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR), 0)))
                // DO; (2360)
                {
                rs1s1s2s1:;
                  // IF BYTE(S(L),LENGTH(S(L))-1) = BYTE(',') THEN (2361)
                  if (1
                      & (xEQ (
                          BYTE (getCHARACTER (
                                    mS + 4 * COREHALFWORD (mDUMP_SDFxL)),
                                xsubtract (
                                    LENGTH (getCHARACTER (
                                        mS + 4 * COREHALFWORD (mDUMP_SDFxL))),
                                    1)),
                          BYTE1 (cToDescriptor (NULL, ",")))))
                    // S(L) = SUBSTR(S(L),0,LENGTH(S(L))-1); (2362)
                    {
                      descriptor_t *stringRHS;
                      stringRHS = SUBSTR (
                          getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL)),
                          0,
                          xsubtract (LENGTH (getCHARACTER (
                                         mS + 4 * COREHALFWORD (mDUMP_SDFxL))),
                                     1));
                      putCHARACTER (mS + 4 * (COREHALFWORD (mDUMP_SDFxL)),
                                    stringRHS);
                      stringRHS->inUse = 0;
                    }
                  // S(L) = S(L) || ' )'; (2363)
                  {
                    descriptor_t *stringRHS;
                    stringRHS = xsCAT (
                        getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL)),
                        cToDescriptor (NULL, " )"));
                    putCHARACTER (mS + 4 * (COREHALFWORD (mDUMP_SDFxL)),
                                  stringRHS);
                    stringRHS->inUse = 0;
                  }
                es1s1s2s1:;
                } // End of DO block
              // ELSE (2364)
              else
                // DO; (2365)
                {
                rs1s1s2s2:;
                  // IF LENGTH(S(L)) > LINELENGTH THEN (2366)
                  if (1
                      & (xGT (LENGTH (getCHARACTER (
                                  mS + 4 * COREHALFWORD (mDUMP_SDFxL))),
                              131)))
                    // L = L + 1; (2367)
                    {
                      int32_t numberRHS
                          = (int32_t)(xadd (COREHALFWORD (mDUMP_SDFxL), 1));
                      descriptor_t *bitRHS;
                      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                      putBIT (16, mDUMP_SDFxL, bitRHS);
                      bitRHS->inUse = 0;
                    }
                  // S(L) = S(L) || VARNAME(PTR); (2368)
                  {
                    descriptor_t *stringRHS;
                    stringRHS = xsCAT (
                        getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL)),
                        getCHARACTER (
                            getFIXED (mVARNAME_REC) + 4 * (0) + 0
                            + 4
                                  * (getFIXED (
                                      mDUMP_SDFxFORMAT_CELL_TREExPTR))));
                    putCHARACTER (mS + 4 * (COREHALFWORD (mDUMP_SDFxL)),
                                  stringRHS);
                    stringRHS->inUse = 0;
                  }
                  // VN_INX = PTR - 1; (2369)
                  {
                    int32_t numberRHS = (int32_t)(xsubtract (
                        getFIXED (mDUMP_SDFxFORMAT_CELL_TREExPTR), 1));
                    descriptor_t *bitRHS;
                    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                    putBIT (16, mVN_INX, bitRHS);
                    bitRHS->inUse = 0;
                  }
                es1s1s2s2:;
                } // End of DO block
            es1s1s2:;
            } // End of DO block
            break;
          }
      } // End of DO CASE block
    }   // End of DO WHILE block
  // IF BYTE(S(L),LENGTH(S(L))-1) = BYTE(',') THEN (2370)
  if (1
      & (xEQ (BYTE (getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL)),
                    xsubtract (LENGTH (getCHARACTER (
                                   mS + 4 * COREHALFWORD (mDUMP_SDFxL))),
                               1)),
              BYTE1 (cToDescriptor (NULL, ",")))))
    // S(L) = SUBSTR(S(L),0,LENGTH(S(L))-1); (2371)
    {
      descriptor_t *stringRHS;
      stringRHS = SUBSTR (
          getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL)), 0,
          xsubtract (
              LENGTH (getCHARACTER (mS + 4 * COREHALFWORD (mDUMP_SDFxL))), 1));
      putCHARACTER (mS + 4 * (COREHALFWORD (mDUMP_SDFxL)), stringRHS);
      stringRHS->inUse = 0;
    }
  // CALL FLUSH(L,STMT_VARS); (2372)
  {
    putBITp (16, mDUMP_SDFxFLUSHxLAST, getBIT (16, mDUMP_SDFxL));
    putBITp (16, mDUMP_SDFxFLUSHxSTMT_VARS,
             getBIT (8, mDUMP_SDFxFORMAT_CELL_TREExSTMT_VARS));
    DUMP_SDFxFLUSH (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

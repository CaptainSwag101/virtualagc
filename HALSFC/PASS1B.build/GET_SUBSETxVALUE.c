/*
  File GET_SUBSETxVALUE.c generated by XCOM-I, 2024-08-09 12:40:41.
*/

#include "runtimeC.h"

int32_t
GET_SUBSETxVALUE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "GET_SUBSETxVALUE");
  // L=0; (9500)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mGET_SUBSETxL, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO J=1 TO LENGTH(A_TOKEN); (9501)
  {
    int32_t from139, to139, by139;
    from139 = 1;
    to139 = LENGTH (getCHARACTER (mGET_SUBSETxA_TOKEN));
    by139 = 1;
    for (putBIT (16, mGET_SUBSETxVALUExJ, fixedToBit (16, from139));
         bitToFixed (getBIT (16, mGET_SUBSETxVALUExJ)) <= to139;
         putBIT (16, mGET_SUBSETxVALUExJ,
                 fixedToBit (16, bitToFixed (getBIT (16, mGET_SUBSETxVALUExJ))
                                     + by139)))
      {
        // M=BYTE(A_TOKEN,J-1)-BYTE('0'); (9502)
        {
          int32_t numberRHS = (int32_t)(xsubtract (
              BYTE (getCHARACTER (mGET_SUBSETxA_TOKEN),
                    xsubtract (COREHALFWORD (mGET_SUBSETxVALUExJ), 1)),
              BYTE1 (cToDescriptor (NULL, "0"))));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mGET_SUBSETxVALUExM, bitRHS);
          bitRHS->inUse = 0;
        }
        // IF (M<0)|(M>9) THEN (9503)
        if (1
            & (xOR (xLT (COREHALFWORD (mGET_SUBSETxVALUExM), 0),
                    xGT (COREHALFWORD (mGET_SUBSETxVALUExM), 9))))
          // RETURN -1; (9504)
          {
            reentryGuard = 0;
            return -1;
          }
        // L=L*10+M; (9505)
        {
          int32_t numberRHS
              = (int32_t)(xadd (xmultiply (COREHALFWORD (mGET_SUBSETxL), 10),
                                COREHALFWORD (mGET_SUBSETxVALUExM)));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mGET_SUBSETxL, bitRHS);
          bitRHS->inUse = 0;
        }
      }
  } // End of DO for-loop block
  // RETURN L; (9506)
  {
    reentryGuard = 0;
    return COREHALFWORD (mGET_SUBSETxL);
  }
}

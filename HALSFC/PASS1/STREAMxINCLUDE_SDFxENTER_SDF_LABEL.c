/*
  File STREAMxINCLUDE_SDFxENTER_SDF_LABEL.c generated by XCOM-I, 2024-08-09
  12:38:15.
*/

#include "runtimeC.h"

int32_t
STREAMxINCLUDE_SDFxENTER_SDF_LABEL (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "STREAMxINCLUDE_SDFxENTER_SDF_LABEL");
  // IF DUPLICATE_NAME(BCD) THEN (3735)
  if (1
      & (bitToFixed ((putCHARACTERp (mSTREAMxINCLUDE_SDFxDUPLICATE_NAMExNAME,
                                     getCHARACTER (mBCD)),
                      STREAMxINCLUDE_SDFxDUPLICATE_NAME (0)))))
    // IF SDF_SYMB_TYPE ~= 7 THEN (3736)
    if (1 & (xNEQ (BYTE0 (getFIXED (mSTREAMxINCLUDE_SDFxSDF_B) + 1 * 7), 7)))
      // CALL ERROR(CLASS_PL, 2, BCD); (3737)
      {
        putBITp (16, mERRORxCLASS, getBIT (16, mCLASS_PL));
        putBITp (8, mERRORxNUM, fixedToBit (32, (int32_t)(2)));
        putCHARACTERp (mERRORxTEXT, getCHARACTER (mBCD));
        ERROR (0);
      }
  // ID_LOC = ENTER(BCD, CLASS); (3738)
  {
    int32_t numberRHS = (int32_t)((
        putCHARACTERp (mENTERxNAME, getCHARACTER (mBCD)),
        putFIXED (mENTERxCLASS,
                  COREHALFWORD (mSTREAMxINCLUDE_SDFxENTER_SDF_LABELxCLASS)),
        ENTER (0)));
    putFIXED (mID_LOC, numberRHS);
  }
  // IF CONTROL( 3) THEN (3739)
  if (1 & (bitToFixed (getBIT (1, mCONTROL + 1 * 3))))
    // OUTPUT = 'ENTER_SDF_LABEL: ID_LOC = ' || ID_LOC || ', NAME = ' || BCD ||
    // ', CLASS = ' || CLASS; (3740)
    {
      descriptor_t *stringRHS;
      stringRHS = xsCAT (
          xsCAT (xsCAT (xsCAT (xsCAT (cToDescriptor (
                                          NULL, "ENTER_SDF_LABEL: ID_LOC = "),
                                      fixedToCharacter (getFIXED (mID_LOC))),
                               cToDescriptor (NULL, ", NAME = ")),
                        getCHARACTER (mBCD)),
                 cToDescriptor (NULL, ", CLASS = ")),
          bitToCharacter (
              getBIT (16, mSTREAMxINCLUDE_SDFxENTER_SDF_LABELxCLASS)));
      OUTPUT (0, stringRHS);
      stringRHS->inUse = 0;
    }
  // CALL SET_SYT_FLAGS(ID_LOC); (3741)
  {
    putBITp (16, mSTREAMxINCLUDE_SDFxSET_SYT_FLAGSxNDX,
             fixedToBit (32, (int32_t)(getFIXED (mID_LOC))));
    STREAMxINCLUDE_SDFxSET_SYT_FLAGS (0);
  }
  // SYT_TYPE(ID_LOC) = P1_TYPE(SDF_SYMB_TYPE); (3742)
  {
    descriptor_t *bitRHS = getBIT (
        8, mSTREAMxINCLUDE_SDFxENTER_SDF_LABELxP1_TYPE
               + 1 * BYTE0 (getFIXED (mSTREAMxINCLUDE_SDFxSDF_B) + 1 * 7));
    putBIT (8, getFIXED (mSYM_TAB) + 34 * (getFIXED (mID_LOC)) + 32 + 1 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // SYT_ADDR(ID_LOC) = SDF_SYMB_ADDR; (3743)
  {
    int32_t numberRHS = (int32_t)(xAND (
        getFIXED (getFIXED (mSTREAMxINCLUDE_SDFxSDF_F) + 4 * 3), 16777215));
    putFIXED (getFIXED (mSYM_TAB) + 34 * (getFIXED (mID_LOC)) + 4 + 4 * (0),
              numberRHS);
  }
  // RETURN; (3744)
  {
    reentryGuard = 0;
    return 0;
  }
}

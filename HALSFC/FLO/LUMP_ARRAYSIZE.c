/*
  File LUMP_ARRAYSIZE.c generated by XCOM-I, 2024-08-08 04:31:35.
*/

#include "runtimeC.h"

int32_t
LUMP_ARRAYSIZE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "LUMP_ARRAYSIZE");
  // ACC = 1; (1337)
  {
    int32_t numberRHS = (int32_t)(1);
    putFIXED (mLUMP_ARRAYSIZExACC, numberRHS);
  }
  // IF SYT_ARRAY(OP) > 0 THEN (1338)
  if (1
      & (xGT (COREHALFWORD (getFIXED (mSYM_TAB)
                            + 34 * (COREHALFWORD (mLUMP_ARRAYSIZExOP)) + 20
                            + 2 * (0)),
              0)))
    // DO J = SYT_ARRAY(OP)+1 TO EXT_ARRAY(SYT_ARRAY(OP))+SYT_ARRAY(OP); (1339)
    {
      int32_t from29, to29, by29;
      from29 = xadd (COREHALFWORD (getFIXED (mSYM_TAB)
                                   + 34 * (COREHALFWORD (mLUMP_ARRAYSIZExOP))
                                   + 20 + 2 * (0)),
                     1);
      to29 = xadd (
          COREHALFWORD (
              mEXT_ARRAY
              + 2
                    * COREHALFWORD (getFIXED (mSYM_TAB)
                                    + 34 * (COREHALFWORD (mLUMP_ARRAYSIZExOP))
                                    + 20 + 2 * (0))),
          COREHALFWORD (getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mLUMP_ARRAYSIZExOP)) + 20
                        + 2 * (0)));
      by29 = 1;
      for (putBIT (16, mLUMP_ARRAYSIZExJ, fixedToBit (16, from29));
           bitToFixed (getBIT (16, mLUMP_ARRAYSIZExJ)) <= to29;
           putBIT (16, mLUMP_ARRAYSIZExJ,
                   fixedToBit (16, bitToFixed (getBIT (16, mLUMP_ARRAYSIZExJ))
                                       + by29)))
        {
          // ACC = EXT_ARRAY(J) * ACC; (1340)
          {
            int32_t numberRHS = (int32_t)(xmultiply (
                COREHALFWORD (mEXT_ARRAY
                              + 2 * COREHALFWORD (mLUMP_ARRAYSIZExJ)),
                getFIXED (mLUMP_ARRAYSIZExACC)));
            putFIXED (mLUMP_ARRAYSIZExACC, numberRHS);
          }
        }
    } // End of DO for-loop block
  // RETURN ACC; (1341)
  {
    reentryGuard = 0;
    return getFIXED (mLUMP_ARRAYSIZExACC);
  }
}

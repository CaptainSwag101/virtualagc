/*
  File SORT_VPTRS.c generated by XCOM-I, 2024-08-08 04:31:35.
*/

#include "runtimeC.h"

int32_t
SORT_VPTRS (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "SORT_VPTRS");
  // J = SHR(VPTR_INX,1); (2807)
  {
    int32_t numberRHS = (int32_t)(SHR (COREHALFWORD (mVPTR_INX), 1));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mSORT_VPTRSxJ, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO WHILE J > 0; (2808)
  while (1 & (xGT (COREHALFWORD (mSORT_VPTRSxJ), 0)))
    {
      // DO K = 1 TO VPTR_INX - J; (2809)
      {
        int32_t from65, to65, by65;
        from65 = 1;
        to65 = xsubtract (COREHALFWORD (mVPTR_INX),
                          COREHALFWORD (mSORT_VPTRSxJ));
        by65 = 1;
        for (putBIT (16, mSORT_VPTRSxK, fixedToBit (16, from65));
             bitToFixed (getBIT (16, mSORT_VPTRSxK)) <= to65;
             putBIT (16, mSORT_VPTRSxK,
                     fixedToBit (16, bitToFixed (getBIT (16, mSORT_VPTRSxK))
                                         + by65)))
          {
            // I = K; (2810)
            {
              descriptor_t *bitRHS = getBIT (16, mSORT_VPTRSxK);
              putBIT (16, mSORT_VPTRSxI, bitRHS);
              bitRHS->inUse = 0;
            }
            // DO WHILE SYT_NUM(I) > SYT_NUM(I+J); (2811)
            while (1
                   & (xGT (COREHALFWORD (getFIXED (mSYM_ADD)
                                         + 6 * (COREHALFWORD (mSORT_VPTRSxI))
                                         + 4 + 2 * (0)),
                           COREHALFWORD (
                               getFIXED (mSYM_ADD)
                               + 6
                                     * (xadd (COREHALFWORD (mSORT_VPTRSxI),
                                              COREHALFWORD (mSORT_VPTRSxJ)))
                               + 4 + 2 * (0)))))
              {
                // SYT_NUM(0) = SYT_NUM(I); (2812)
                {
                  descriptor_t *bitRHS
                      = getBIT (16, getFIXED (mSYM_ADD)
                                        + 6 * (COREHALFWORD (mSORT_VPTRSxI))
                                        + 4 + 2 * (0));
                  putBIT (16, getFIXED (mSYM_ADD) + 6 * (0) + 4 + 2 * (0),
                          bitRHS);
                  bitRHS->inUse = 0;
                }
                // SYT_NUM(I) = SYT_NUM(I+J); (2813)
                {
                  descriptor_t *bitRHS = getBIT (
                      16, getFIXED (mSYM_ADD)
                              + 6
                                    * (xadd (COREHALFWORD (mSORT_VPTRSxI),
                                             COREHALFWORD (mSORT_VPTRSxJ)))
                              + 4 + 2 * (0));
                  putBIT (16,
                          getFIXED (mSYM_ADD)
                              + 6 * (COREHALFWORD (mSORT_VPTRSxI)) + 4
                              + 2 * (0),
                          bitRHS);
                  bitRHS->inUse = 0;
                }
                // SYT_NUM(I+J) = SYT_NUM(0); (2814)
                {
                  descriptor_t *bitRHS = getBIT (
                      16, getFIXED (mSYM_ADD) + 6 * (0) + 4 + 2 * (0));
                  putBIT (16,
                          getFIXED (mSYM_ADD)
                              + 6
                                    * (xadd (COREHALFWORD (mSORT_VPTRSxI),
                                             COREHALFWORD (mSORT_VPTRSxJ)))
                              + 4 + 2 * (0),
                          bitRHS);
                  bitRHS->inUse = 0;
                }
                // SYT_VPTR(0) = SYT_VPTR(I); (2815)
                {
                  int32_t numberRHS = (int32_t)(getFIXED (
                      getFIXED (mSYM_ADD) + 6 * (COREHALFWORD (mSORT_VPTRSxI))
                      + 0 + 4 * (0)));
                  putFIXED (getFIXED (mSYM_ADD) + 6 * (0) + 0 + 4 * (0),
                            numberRHS);
                }
                // SYT_VPTR(I) = SYT_VPTR(I+J); (2816)
                {
                  int32_t numberRHS = (int32_t)(getFIXED (
                      getFIXED (mSYM_ADD)
                      + 6
                            * (xadd (COREHALFWORD (mSORT_VPTRSxI),
                                     COREHALFWORD (mSORT_VPTRSxJ)))
                      + 0 + 4 * (0)));
                  putFIXED (getFIXED (mSYM_ADD)
                                + 6 * (COREHALFWORD (mSORT_VPTRSxI)) + 0
                                + 4 * (0),
                            numberRHS);
                }
                // SYT_VPTR(I+J) = SYT_VPTR(0); (2817)
                {
                  int32_t numberRHS = (int32_t)(getFIXED (
                      getFIXED (mSYM_ADD) + 6 * (0) + 0 + 4 * (0)));
                  putFIXED (getFIXED (mSYM_ADD)
                                + 6
                                      * (xadd (COREHALFWORD (mSORT_VPTRSxI),
                                               COREHALFWORD (mSORT_VPTRSxJ)))
                                + 0 + 4 * (0),
                            numberRHS);
                }
                // I = I - J; (2818)
                {
                  int32_t numberRHS
                      = (int32_t)(xsubtract (COREHALFWORD (mSORT_VPTRSxI),
                                             COREHALFWORD (mSORT_VPTRSxJ)));
                  descriptor_t *bitRHS;
                  bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                  putBIT (16, mSORT_VPTRSxI, bitRHS);
                  bitRHS->inUse = 0;
                }
                // IF I < 1 THEN (2819)
                if (1 & (xLT (COREHALFWORD (mSORT_VPTRSxI), 1)))
                  // GO TO NEXT; (2820)
                  goto NEXT;
              } // End of DO WHILE block
          // NEXT: (2821)
          NEXT:;
          }
      } // End of DO for-loop block
      // J = SHR(J,1); (2822)
      {
        int32_t numberRHS = (int32_t)(SHR (COREHALFWORD (mSORT_VPTRSxJ), 1));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mSORT_VPTRSxJ, bitRHS);
        bitRHS->inUse = 0;
      }
    } // End of DO WHILE block
  // SYT_VPTR(0) = VPTR_INX; (2823)
  {
    descriptor_t *bitRHS = getBIT (16, mVPTR_INX);
    putFIXED (getFIXED (mSYM_ADD) + 6 * (0) + 0 + 4 * (0),
              bitToFixed (bitRHS));
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

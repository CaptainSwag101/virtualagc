/*
  File BUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELL.c generated by XCOM-I,
  2024-08-09 12:40:16.
*/

#include "runtimeC.h"

int32_t
BUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELL (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "BUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELL");
  // CALL P3_LOCATE(PTR,ADDR(NODE_H),MODF|RESV); (3810)
  {
    putFIXED (mP3_LOCATExPTR, getFIXED (mBUILD_SDFxMOVE_CELL_TREExPTR));
    putFIXED (mP3_LOCATExBVAR,
              ADDR ("BUILD_SDFxMOVE_CELL_TREExNODE_H", 0x80000000, NULL, 0));
    putBITp (8, mP3_LOCATExFLAGS,
             fixedToBit (32, (int32_t)(xOR (BYTE0 (mMODF), BYTE0 (mRESV)))));
    P3_LOCATE (0);
  }
  // COREWORD(ADDR(NODE_F)) = LOC_ADDR; (3811)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mLOC_ADDR));
    COREWORD2 (ADDR ("BUILD_SDFxMOVE_CELL_TREExNODE_F", 0x80000000, NULL, 0),
               numberRHS);
  }
  // IF (SYT_FLAGS(NODE_H(3)) & EXTERNAL_FLAG) ~= 0 THEN (3812)
  if (1
      & (xNEQ (
          xAND (getFIXED (getFIXED (mSYM_TAB)
                          + 34
                                * (COREHALFWORD (
                                    getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                                    + 2 * 3))
                          + 8 + 4 * (0)),
                getFIXED (mEXTERNAL_FLAG)),
          0)))
    // DO; (3813)
    {
    rs1:;
      // XTERNAL = TRUE; (3814)
      {
        int32_t numberRHS = (int32_t)(1);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (8, mBUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELLxXTERNAL, bitRHS);
        bitRHS->inUse = 0;
      }
      // NODE_H(0) = SHL(NODE_H(1)+2,2); (3815)
      {
        int32_t numberRHS = (int32_t)(SHL (
            xadd (COREHALFWORD (getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                                + 2 * 1),
                  2),
            2));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H) + 2 * (0),
                bitRHS);
        bitRHS->inUse = 0;
      }
    es1:;
    } // End of DO block
  // ELSE (3816)
  else
    // XTERNAL = FALSE; (3817)
    {
      int32_t numberRHS = (int32_t)(0);
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (8, mBUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELLxXTERNAL, bitRHS);
      bitRHS->inUse = 0;
    }
  // NODE_H(3) = SYT_SORT1(NODE_H(3)); (3818)
  {
    descriptor_t *bitRHS = getBIT (
        16, getFIXED (mSORTING)
                + 12
                      * (COREHALFWORD (
                          getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H) + 2 * 3))
                + 0 + 2 * (0));
    putBIT (16, getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H) + 2 * (3), bitRHS);
    bitRHS->inUse = 0;
  }
  // DO J = 2 TO NODE_H(1) + 1; (3819)
  {
    int32_t from104, to104, by104;
    from104 = 2;
    to104 = xadd (
        COREHALFWORD (getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H) + 2 * 1), 1);
    by104 = 1;
    for (putBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ, fixedToBit (16, from104));
         bitToFixed (getBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ)) <= to104;
         putBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ,
                 fixedToBit (
                     16, bitToFixed (getBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ))
                             + by104)))
      {
        // IF NODE_F(J) ~= 0 THEN (3820)
        if (1
            & (xNEQ (
                getFIXED (getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_F)
                          + 4 * COREHALFWORD (mBUILD_SDFxMOVE_CELL_TREExJ)),
                0)))
          // DO; (3821)
          {
          rs2s1:;
            // IF (NODE_F(J) &  3221225472) =  3221225472 THEN (3822)
            if (1
                & (xEQ (
                    xAND (
                        getFIXED (
                            getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_F)
                            + 4 * COREHALFWORD (mBUILD_SDFxMOVE_CELL_TREExJ)),
                        3221225472),
                    3221225472)))
              // NODE_H(J+J+1) = SYT_SORT1(NODE_H(J+J+1)); (3823)
              {
                descriptor_t *bitRHS = getBIT (
                    16,
                    getFIXED (mSORTING)
                        + 12
                              * (COREHALFWORD (
                                  getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                                  + 2
                                        * xadd (
                                            xadd (
                                                COREHALFWORD (
                                                    mBUILD_SDFxMOVE_CELL_TREExJ),
                                                COREHALFWORD (
                                                    mBUILD_SDFxMOVE_CELL_TREExJ)),
                                            1)))
                        + 0 + 2 * (0));
                putBIT (
                    16,
                    getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                        + 2
                              * (xadd (xadd (COREHALFWORD (
                                                 mBUILD_SDFxMOVE_CELL_TREExJ),
                                             COREHALFWORD (
                                                 mBUILD_SDFxMOVE_CELL_TREExJ)),
                                       1)),
                    bitRHS);
                bitRHS->inUse = 0;
              }
            // ELSE (3824)
            else
              // NODE_F(J) = GET_SDF_CELL(NODE_F(J)); (3825)
              {
                int32_t numberRHS = (int32_t)((
                    putFIXED (
                        mBUILD_SDFxGET_SDF_CELLxVMEM_PTR,
                        getFIXED (
                            getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_F)
                            + 4 * COREHALFWORD (mBUILD_SDFxMOVE_CELL_TREExJ))),
                    BUILD_SDFxGET_SDF_CELL (0)));
                putFIXED (
                    getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_F)
                        + 4 * (COREHALFWORD (mBUILD_SDFxMOVE_CELL_TREExJ)),
                    numberRHS);
              }
          es2s1:;
          } // End of DO block
      }
  } // End of DO for-loop block
  // IF ~XTERNAL THEN (3826)
  if (1 & (xNOT (BYTE0 (mBUILD_SDFxMOVE_CELL_TREExDO_PF_INV_CELLxXTERNAL))))
    // DO J = SHL(NODE_H(1) + 2,1) TO SHL(NODE_H(1) + 2,1) + NODE_H(1) - 1;
    // (3827)
    {
      int32_t from105, to105, by105;
      from105 = SHL (
          xadd (COREHALFWORD (getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                              + 2 * 1),
                2),
          1);
      to105 = xsubtract (
          xadd (SHL (xadd (COREHALFWORD (
                               getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                               + 2 * 1),
                           2),
                     1),
                COREHALFWORD (getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                              + 2 * 1)),
          1);
      by105 = 1;
      for (putBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ, fixedToBit (16, from105));
           bitToFixed (getBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ)) <= to105;
           putBIT (16, mBUILD_SDFxMOVE_CELL_TREExJ,
                   fixedToBit (16, bitToFixed (getBIT (
                                       16, mBUILD_SDFxMOVE_CELL_TREExJ))
                                       + by105)))
        {
          // NODE_H(J) = SYT_SORT1(NODE_H(J)); (3828)
          {
            descriptor_t *bitRHS = getBIT (
                16, getFIXED (mSORTING)
                        + 12
                              * (COREHALFWORD (
                                  getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                                  + 2
                                        * COREHALFWORD (
                                            mBUILD_SDFxMOVE_CELL_TREExJ)))
                        + 0 + 2 * (0));
            putBIT (16,
                    getFIXED (mBUILD_SDFxMOVE_CELL_TREExNODE_H)
                        + 2 * (COREHALFWORD (mBUILD_SDFxMOVE_CELL_TREExJ)),
                    bitRHS);
            bitRHS->inUse = 0;
          }
        }
    } // End of DO for-loop block
  // CALL P3_PTR_LOCATE(PTR,RELS); (3829)
  {
    putFIXED (mP3_PTR_LOCATExPTR, getFIXED (mBUILD_SDFxMOVE_CELL_TREExPTR));
    putBITp (8, mP3_PTR_LOCATExFLAGS, getBIT (8, mRELS));
    P3_PTR_LOCATE (0);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File REFORMAT_HALMATxMOD_HMAT.c generated by XCOM-I, 2024-08-09 12:40:16.
*/

#include "runtimeC.h"

int32_t
REFORMAT_HALMATxMOD_HMAT (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "REFORMAT_HALMATxMOD_HMAT");
  // IF SYT_OPERAND(CELL) THEN (1417)
  if (1
      & (xAND (
          getFIXED (getFIXED (mREFORMAT_HALMATxHMAT_PTR)
                    + 4 * getFIXED (mREFORMAT_HALMATxMOD_HMATxCELL)),
          xEQ (xAND (SHR (getFIXED (
                              getFIXED (mREFORMAT_HALMATxHMAT_PTR)
                              + 4 * getFIXED (mREFORMAT_HALMATxMOD_HMATxCELL)),
                          4),
                     15),
               1))))
    // RETURN SUB_OPRND(SYT_SORT1(OPERAND_FIELD(CELL))); (1418)
    {
      reentryGuard = 0;
      return xOR (
          SHL (
              COREHALFWORD (
                  getFIXED (mSORTING)
                  + 12
                        * (SHR (getFIXED (
                                    getFIXED (mREFORMAT_HALMATxHMAT_PTR)
                                    + 4
                                          * getFIXED (
                                              mREFORMAT_HALMATxMOD_HMATxCELL)),
                                16))
                  + 0 + 2 * (0)),
              16),
          xAND (getFIXED (getFIXED (mREFORMAT_HALMATxHMAT_PTR)
                          + 4 * getFIXED (mREFORMAT_HALMATxMOD_HMATxCELL)),
                65535));
    }
  // RETURN HMAT_PTR(CELL); (1419)
  {
    reentryGuard = 0;
    return getFIXED (getFIXED (mREFORMAT_HALMATxHMAT_PTR)
                     + 4 * getFIXED (mREFORMAT_HALMATxMOD_HMATxCELL));
  }
}

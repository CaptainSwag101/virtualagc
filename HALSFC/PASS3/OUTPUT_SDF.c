/*
  File OUTPUT_SDF.c generated by XCOM-I, 2024-08-08 04:33:10.
*/

#include "runtimeC.h"

int32_t
OUTPUT_SDF (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "OUTPUT_SDF");
  // DIR_FREE_SPACE = 0; (1547)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDIR_FREE_SPACE, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL P3_LOCATE(0,ADDR(NODE_F),MODF); (1548)
  {
    putFIXED (mP3_LOCATExPTR, 0);
    putFIXED (mP3_LOCATExBVAR,
              ADDR ("OUTPUT_SDFxNODE_F", 0x80000000, NULL, 0));
    putBITp (8, mP3_LOCATExFLAGS, getBIT (8, mMODF));
    P3_LOCATE (0);
  }
  // COREWORD(ADDR(NODE_H)) = LOC_ADDR; (1549)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mLOC_ADDR));
    COREWORD2 (ADDR ("OUTPUT_SDFxNODE_H", 0x80000000, NULL, 0), numberRHS);
  }
  // NODE_H(0) = VERSION#; (1550)
  {
    int32_t numberRHS = (int32_t)(35);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (0), bitRHS);
    bitRHS->inUse = 0;
  }
  // NODE_H(1) = 0; (1551)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (1), bitRHS);
    bitRHS->inUse = 0;
  }
  // PTR = NODE_F(1); (1552)
  {
    int32_t numberRHS
        = (int32_t)(getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 1));
    putFIXED (mOUTPUT_SDFxPTR, numberRHS);
  }
  // DO WHILE PTR ~= 0; (1553)
  while (1 & (xNEQ (getFIXED (mOUTPUT_SDFxPTR), 0)))
    {
      // CALL P3_LOCATE(PTR,ADDR(NODE_F),0); (1554)
      {
        putFIXED (mP3_LOCATExPTR, getFIXED (mOUTPUT_SDFxPTR));
        putFIXED (mP3_LOCATExBVAR,
                  ADDR ("OUTPUT_SDFxNODE_F", 0x80000000, NULL, 0));
        putBITp (8, mP3_LOCATExFLAGS, fixedToBit (32, (int32_t)(0)));
        P3_LOCATE (0);
      }
      // DIR_FREE_SPACE = DIR_FREE_SPACE + NODE_F(0); (1555)
      {
        int32_t numberRHS = (int32_t)(xadd (
            COREHALFWORD (mDIR_FREE_SPACE),
            getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 0)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mDIR_FREE_SPACE, bitRHS);
        bitRHS->inUse = 0;
      }
      // PTR = NODE_F(1); (1556)
      {
        int32_t numberRHS
            = (int32_t)(getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 1));
        putFIXED (mOUTPUT_SDFxPTR, numberRHS);
      }
    } // End of DO WHILE block
  // NODE_F(1) = FREE_CHAIN; (1557)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mFREE_CHAIN));
    putFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * (1), numberRHS);
  }
  // CALL P3_DISP(MODF); (1558)
  {
    putBITp (8, mP3_DISPxFLAGS, getBIT (8, mMODF));
    P3_DISP (0);
  }
  // DATA_FREE_SPACE = 0; (1559)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDATA_FREE_SPACE, bitRHS);
    bitRHS->inUse = 0;
  }
  // CALL P3_LOCATE(FREE_CHAIN,ADDR(NODE_F),0); (1560)
  {
    putFIXED (mP3_LOCATExPTR, getFIXED (mFREE_CHAIN));
    putFIXED (mP3_LOCATExBVAR,
              ADDR ("OUTPUT_SDFxNODE_F", 0x80000000, NULL, 0));
    putBITp (8, mP3_LOCATExFLAGS, fixedToBit (32, (int32_t)(0)));
    P3_LOCATE (0);
  }
  // PTR = NODE_F(1); (1561)
  {
    int32_t numberRHS
        = (int32_t)(getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 1));
    putFIXED (mOUTPUT_SDFxPTR, numberRHS);
  }
  // TEMP = SHL((FIRST#D_PAGE),16); (1562)
  {
    int32_t numberRHS = (int32_t)(SHL (COREHALFWORD (mFIRSTpD_PAGE), 16));
    putFIXED (mOUTPUT_SDFxTEMP, numberRHS);
  }
  // DO WHILE PTR ~= TEMP; (1563)
  while (1 & (xNEQ (getFIXED (mOUTPUT_SDFxPTR), getFIXED (mOUTPUT_SDFxTEMP))))
    {
      // CALL P3_LOCATE(PTR,ADDR(NODE_F),0); (1564)
      {
        putFIXED (mP3_LOCATExPTR, getFIXED (mOUTPUT_SDFxPTR));
        putFIXED (mP3_LOCATExBVAR,
                  ADDR ("OUTPUT_SDFxNODE_F", 0x80000000, NULL, 0));
        putBITp (8, mP3_LOCATExFLAGS, fixedToBit (32, (int32_t)(0)));
        P3_LOCATE (0);
      }
      // DATA_FREE_SPACE = DATA_FREE_SPACE + NODE_F(0); (1565)
      {
        int32_t numberRHS = (int32_t)(xadd (
            COREHALFWORD (mDATA_FREE_SPACE),
            getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 0)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mDATA_FREE_SPACE, bitRHS);
        bitRHS->inUse = 0;
      }
      // PTR = NODE_F(1); (1566)
      {
        int32_t numberRHS
            = (int32_t)(getFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * 1));
        putFIXED (mOUTPUT_SDFxPTR, numberRHS);
      }
    } // End of DO WHILE block
  // NODE_F(1) = 0; (1567)
  {
    int32_t numberRHS = (int32_t)(0);
    putFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * (1), numberRHS);
  }
  // CALL P3_DISP(MODF); (1568)
  {
    putBITp (8, mP3_DISPxFLAGS, getBIT (8, mMODF));
    P3_DISP (0);
  }
  // CALL P3_LOCATE(ROOT_PTR,ADDR(NODE_F),MODF); (1569)
  {
    putFIXED (mP3_LOCATExPTR, getFIXED (mROOT_PTR));
    putFIXED (mP3_LOCATExBVAR,
              ADDR ("OUTPUT_SDFxNODE_F", 0x80000000, NULL, 0));
    putBITp (8, mP3_LOCATExFLAGS, getBIT (8, mMODF));
    P3_LOCATE (0);
  }
  // COREWORD(ADDR(NODE_H)) = LOC_ADDR; (1570)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mLOC_ADDR));
    COREWORD2 (ADDR ("OUTPUT_SDFxNODE_H", 0x80000000, NULL, 0), numberRHS);
  }
  // IF OVERFLOW_FLAG THEN (1571)
  if (1 & (bitToFixed (getBIT (1, mOVERFLOW_FLAG))))
    // NODE_H(0) = NODE_H(0)| 2048; (1572)
    {
      int32_t numberRHS = (int32_t)(xOR (
          COREHALFWORD (getFIXED (mOUTPUT_SDFxNODE_H) + 2 * 0), 2048));
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (0), bitRHS);
      bitRHS->inUse = 0;
    }
  // IF SRN_FLAG1 THEN (1573)
  if (1 & (bitToFixed (getBIT (1, mSRN_FLAG1))))
    // NODE_H(0) = NODE_H(0)| 1024; (1574)
    {
      int32_t numberRHS = (int32_t)(xOR (
          COREHALFWORD (getFIXED (mOUTPUT_SDFxNODE_H) + 2 * 0), 1024));
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (0), bitRHS);
      bitRHS->inUse = 0;
    }
  // IF SRN_FLAG2 THEN (1575)
  if (1 & (bitToFixed (getBIT (1, mSRN_FLAG2))))
    // NODE_H(0) = NODE_H(0)| 512; (1576)
    {
      int32_t numberRHS = (int32_t)(xOR (
          COREHALFWORD (getFIXED (mOUTPUT_SDFxNODE_H) + 2 * 0), 512));
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (0), bitRHS);
      bitRHS->inUse = 0;
    }
  // NODE_F(1) = PHASE1_DATE; (1577)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mCOMM + 4 * 13));
    putFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * (1), numberRHS);
  }
  // NODE_F(2) = PHASE1_TIME; (1578)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mCOMM + 4 * 12));
    putFIXED (getFIXED (mOUTPUT_SDFxNODE_F) + 4 * (2), numberRHS);
  }
  // NODE_H(1) = LAST_PAGE; (1579)
  {
    descriptor_t *bitRHS = getBIT (16, mLAST_PAGE);
    putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (1), bitRHS);
    bitRHS->inUse = 0;
  }
  // IF LIT_ADDR = COMM(23)  THEN (1580)
  if (1 & (xEQ (getFIXED (mLIT_ADDR), getFIXED (mCOMM + 4 * 23))))
    // NODE_H(21) = -1; (1581)
    {
      int32_t numberRHS = (int32_t)(-1);
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (21), bitRHS);
      bitRHS->inUse = 0;
    }
  // ELSE (1582)
  else
    // NODE_H(21) = LIT_ADDR; (1583)
    {
      int32_t numberRHS = (int32_t)(getFIXED (mLIT_ADDR));
      descriptor_t *bitRHS;
      bitRHS = fixedToBit (32, (int32_t)(numberRHS));
      putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (21), bitRHS);
      bitRHS->inUse = 0;
    }
  // NODE_H(58) = DIR_FREE_SPACE + DATA_FREE_SPACE; (1584)
  {
    int32_t numberRHS = (int32_t)(xadd (COREHALFWORD (mDIR_FREE_SPACE),
                                        COREHALFWORD (mDATA_FREE_SPACE)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (58), bitRHS);
    bitRHS->inUse = 0;
  }
  // NODE_H(28) = #EXECS; (1585)
  {
    descriptor_t *bitRHS = getBIT (16, mpEXECS);
    putBIT (16, getFIXED (mOUTPUT_SDFxNODE_H) + 2 * (28), bitRHS);
    bitRHS->inUse = 0;
  }
  // NAME = SDF_NAME(SELFNAMELOC); (1586)
  {
    descriptor_t *stringRHS;
    stringRHS = (putBITp (16, mSDF_NAMExENTRY, getBIT (16, mSELFNAMELOC)),
                 SDF_NAME (0));
    putCHARACTER (mOUTPUT_SDFxNAME, stringRHS);
    stringRHS->inUse = 0;
  }
  // CALL MONITOR(14,8,NAME); (1587)
  MONITOR14 (8, getFIXED (mOUTPUT_SDFxNAME));
  // CALL MONITOR(14,0,LAST_PAGE); (1588)
  MONITOR14 (0, COREHALFWORD (mLAST_PAGE));
  // CALL MONITOR(14,4,PAD_ADDR(MAX_PAGE + 1)); (1589)
  MONITOR14 (4, getFIXED (mPAD_ADDR + 4 * xadd (COREHALFWORD (mMAX_PAGE), 1)));
  // DO I = 0 TO LAST_PAGE; (1590)
  {
    int32_t from41, to41, by41;
    from41 = 0;
    to41 = bitToFixed (getBIT (16, mLAST_PAGE));
    by41 = 1;
    for (putFIXED (mOUTPUT_SDFxI, from41); getFIXED (mOUTPUT_SDFxI) <= to41;
         putFIXED (mOUTPUT_SDFxI, getFIXED (mOUTPUT_SDFxI) + by41))
      {
        // CALL P3_PTR_LOCATE(SHL(I,16),0); (1591)
        {
          putFIXED (mP3_PTR_LOCATExPTR, SHL (getFIXED (mOUTPUT_SDFxI), 16));
          putBITp (8, mP3_PTR_LOCATExFLAGS, fixedToBit (32, (int32_t)(0)));
          P3_PTR_LOCATE (0);
        }
        // CALL MONITOR(14, 4, LOC_ADDR); (1592)
        MONITOR14 (4, getFIXED (mLOC_ADDR));
      }
  } // End of DO for-loop block
  // CHAR_STRING = 'CREATED'; (1593)
  {
    descriptor_t *stringRHS;
    stringRHS = cToDescriptor (NULL, "CREATED");
    putCHARACTER (mOUTPUT_SDFxCHAR_STRING, stringRHS);
    stringRHS->inUse = 0;
  }
  // IF MONITOR(14, 8, NAME) THEN (1594)
  if (1 & (MONITOR14 (8, getFIXED (mOUTPUT_SDFxNAME))))
    // CHAR_STRING = 'REPLACED'; (1595)
    {
      descriptor_t *stringRHS;
      stringRHS = cToDescriptor (NULL, "REPLACED");
      putCHARACTER (mOUTPUT_SDFxCHAR_STRING, stringRHS);
      stringRHS->inUse = 0;
    }
  // OUTPUT = X1; (1596)
  {
    descriptor_t *stringRHS;
    stringRHS = getCHARACTER (mX1);
    OUTPUT (0, stringRHS);
    stringRHS->inUse = 0;
  }
  // OUTPUT = 'SIMULATION DATA FILE '|| NAME ||' HAS BEEN '|| CHAR_STRING;
  // (1597)
  {
    descriptor_t *stringRHS;
    stringRHS
        = xsCAT (xsCAT (xsCAT (cToDescriptor (NULL, "SIMULATION DATA FILE "),
                               getCHARACTER (mOUTPUT_SDFxNAME)),
                        cToDescriptor (NULL, " HAS BEEN ")),
                 getCHARACTER (mOUTPUT_SDFxCHAR_STRING));
    OUTPUT (0, stringRHS);
    stringRHS->inUse = 0;
  }
  // CALL MONITOR(16, 32); (1598)
  MONITOR16 (32);
  // TMP = COREWORD(ADDR(NAME))& 16777215; (1599)
  {
    int32_t numberRHS = (int32_t)(xAND (
        COREWORD (ADDR (NULL, 0, "OUTPUT_SDFxNAME", 0)), 16777215));
    putFIXED (mTMP, numberRHS);
  }
  // SDF_NAM1 = KOREWORD(TMP); (1600)
  {
    int32_t numberRHS = (int32_t)((
        putFIXED (mKOREWORDxMEM_ADDR, getFIXED (mTMP)), KOREWORD (0)));
    putFIXED (mCOMM + 4 * (40), numberRHS);
  }
  // SDF_NAM2 = KOREWORD(TMP+4); (1601)
  {
    int32_t numberRHS
        = (int32_t)((putFIXED (mKOREWORDxMEM_ADDR, xadd (getFIXED (mTMP), 4)),
                     KOREWORD (0)));
    putFIXED (mCOMM + 4 * (41), numberRHS);
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

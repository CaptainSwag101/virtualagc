/*
  File SDF_NAME.c generated by XCOM-I, 2024-08-08 04:33:10.
*/

#include "runtimeC.h"

descriptor_t *
SDF_NAME (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "SDF_NAME");
  // TEMPSTRING = SYT_NAME(ENTRY); (1021)
  {
    descriptor_t *stringRHS;
    stringRHS
        = getCHARACTER (getFIXED (mSYM_TAB)
                        + 34 * (COREHALFWORD (mSDF_NAMExENTRY)) + 0 + 4 * (0));
    putCHARACTER (mSDF_NAMExTEMPSTRING, stringRHS);
    stringRHS->inUse = 0;
  }
  // ENTRY=CHAR_INDEX(TEMPSTRING,'_'); (1022)
  {
    descriptor_t *bitRHS
        = (putCHARACTERp (mCHAR_INDEXxSTRING1,
                          getCHARACTER (mSDF_NAMExTEMPSTRING)),
           putCHARACTERp (mCHAR_INDEXxSTRING2, cToDescriptor (NULL, "_")),
           CHAR_INDEX (0));
    putBIT (16, mSDF_NAMExENTRY, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO WHILE ENTRY>0; (1023)
  while (1 & (xGT (COREHALFWORD (mSDF_NAMExENTRY), 0)))
    {
      // TEMPSTRING=SUBSTR(TEMPSTRING,0,ENTRY)||SUBSTR(TEMPSTRING,ENTRY+1);
      // (1024)
      {
        descriptor_t *stringRHS;
        stringRHS = xsCAT (SUBSTR (getCHARACTER (mSDF_NAMExTEMPSTRING), 0,
                                   COREHALFWORD (mSDF_NAMExENTRY)),
                           SUBSTR2 (getCHARACTER (mSDF_NAMExTEMPSTRING),
                                    xadd (COREHALFWORD (mSDF_NAMExENTRY), 1)));
        putCHARACTER (mSDF_NAMExTEMPSTRING, stringRHS);
        stringRHS->inUse = 0;
      }
      // ENTRY=CHAR_INDEX(TEMPSTRING,'_'); (1025)
      {
        descriptor_t *bitRHS
            = (putCHARACTERp (mCHAR_INDEXxSTRING1,
                              getCHARACTER (mSDF_NAMExTEMPSTRING)),
               putCHARACTERp (mCHAR_INDEXxSTRING2, cToDescriptor (NULL, "_")),
               CHAR_INDEX (0));
        putBIT (16, mSDF_NAMExENTRY, bitRHS);
        bitRHS->inUse = 0;
      }
    } // End of DO WHILE block
  // IX1=LENGTH(TEMPSTRING); (1026)
  {
    int32_t numberRHS
        = (int32_t)(LENGTH (getCHARACTER (mSDF_NAMExTEMPSTRING)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mIX1, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF IX1 >= 6 THEN (1027)
  if (1 & (xGE (COREHALFWORD (mIX1), 6)))
    // TEMPSTRING = SUBSTR(TEMPSTRING, 0, 6); (1028)
    {
      descriptor_t *stringRHS;
      stringRHS = SUBSTR (getCHARACTER (mSDF_NAMExTEMPSTRING), 0, 6);
      putCHARACTER (mSDF_NAMExTEMPSTRING, stringRHS);
      stringRHS->inUse = 0;
    }
  // ELSE (1029)
  else
    // TEMPSTRING = TEMPSTRING || SUBSTR(X10, 0, 6-IX1); (1030)
    {
      descriptor_t *stringRHS;
      stringRHS = xsCAT (
          getCHARACTER (mSDF_NAMExTEMPSTRING),
          SUBSTR (getCHARACTER (mX10), 0, xsubtract (6, COREHALFWORD (mIX1))));
      putCHARACTER (mSDF_NAMExTEMPSTRING, stringRHS);
      stringRHS->inUse = 0;
    }
  // RETURN '##' || TEMPSTRING; (1031)
  {
    reentryGuard = 0;
    return xsCAT (cToDescriptor (NULL, "##"),
                  getCHARACTER (mSDF_NAMExTEMPSTRING));
  }
}

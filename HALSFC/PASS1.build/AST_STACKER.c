/*
  File AST_STACKER.c generated by XCOM-I, 2024-08-09 12:38:15.
*/

#include "runtimeC.h"

int32_t
AST_STACKER (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "AST_STACKER");
  // IF INX(INX)>0 THEN (8388)
  if (1 & (xGT (COREHALFWORD (mINX + 2 * COREHALFWORD (mINX)), 0)))
    // CALL ERROR(CLASS_SS,1,VAR(MP)); (8389)
    {
      putBITp (16, mERRORxCLASS, getBIT (16, mCLASS_SS));
      putBITp (8, mERRORxNUM, fixedToBit (32, (int32_t)(1)));
      putCHARACTERp (mERRORxTEXT, getCHARACTER (mVAR + 4 * getFIXED (mMP)));
      ERROR (0);
    }
  // DO NUM=1 TO NUM; (8390)
  {
    int32_t from130, to130, by130;
    from130 = 1;
    to130 = bitToFixed (getBIT (16, mAST_STACKERxNUM));
    by130 = 1;
    for (putBIT (16, mAST_STACKERxNUM, fixedToBit (16, from130));
         bitToFixed (getBIT (16, mAST_STACKERxNUM)) <= to130;
         putBIT (16, mAST_STACKERxNUM,
                 fixedToBit (16, bitToFixed (getBIT (16, mAST_STACKERxNUM))
                                     + by130)))
      {
        // I=PUSH_INDIRECT(1); (8391)
        {
          int32_t numberRHS = (int32_t)((
              putBITp (16, mPUSH_INDIRECTxI, fixedToBit (32, (int32_t)(1))),
              PUSH_INDIRECT (0)));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mAST_STACKERxI, bitRHS);
          bitRHS->inUse = 0;
        }
        // LOC_P(I),VAL_P(I)=0; (8392)
        {
          int32_t numberRHS = (int32_t)(0);
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mLOC_P + 2 * (COREHALFWORD (mAST_STACKERxI)), bitRHS);
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mVAL_P + 2 * (COREHALFWORD (mAST_STACKERxI)), bitRHS);
          bitRHS->inUse = 0;
        }
        // PSEUDO_TYPE(I)=0; (8393)
        {
          int32_t numberRHS = (int32_t)(0);
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (8, mPSEUDO_TYPE + 1 * (COREHALFWORD (mAST_STACKERxI)),
                  bitRHS);
          bitRHS->inUse = 0;
        }
        // PSEUDO_FORM(I)=XAST; (8394)
        {
          descriptor_t *bitRHS = getBIT (8, mXAST);
          putBIT (8, mPSEUDO_FORM + 1 * (COREHALFWORD (mAST_STACKERxI)),
                  bitRHS);
          bitRHS->inUse = 0;
        }
        // INX(I)=MODE; (8395)
        {
          descriptor_t *bitRHS = getBIT (16, mAST_STACKERxMODE);
          putBIT (16, mINX + 2 * (COREHALFWORD (mAST_STACKERxI)), bitRHS);
          bitRHS->inUse = 0;
        }
        // PSEUDO_LENGTH(IND_LINK),IND_LINK=I; (8396)
        {
          descriptor_t *bitRHS = getBIT (16, mAST_STACKERxI);
          putBIT (16, mPSEUDO_LENGTH + 2 * (COREHALFWORD (mIND_LINK)), bitRHS);
          putBIT (16, mIND_LINK, bitRHS);
          bitRHS->inUse = 0;
        }
      }
  } // End of DO for-loop block
  {
    reentryGuard = 0;
    return 0;
  }
}

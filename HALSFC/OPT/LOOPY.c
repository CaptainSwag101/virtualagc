/*
  File LOOPY.c generated by XCOM-I, 2024-08-09 12:38:53.
*/

#include "runtimeC.h"

int32_t
LOOPY (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "LOOPY");
  // TEMP = SHR(OPR(PTR),9) &  7; (2353)
  {
    int32_t numberRHS = (int32_t)(xAND (
        SHR (getFIXED (mOPR + 4 * COREHALFWORD (mLOOPYxPTR)), 9), 7));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mLOOPYxTEMP, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO CASE CLASS(GET_CLASS(PTR)); (2354)
  {
  rs1:
    switch (BYTE0 (mLOOPYxCLASS
                   + 1
                         * bitToFixed ((putBITp (16, mGET_CLASSxPTR,
                                                 getBIT (16, mLOOPYxPTR)),
                                        GET_CLASS (0)))))
      {
      case 0:
        // RETURN FALSE; (2356)
        {
          reentryGuard = 0;
          return 0;
        }
        break;
      case 1:
        // TEMP = MSUBCODE(TEMP); (2357)
        {
          descriptor_t *bitRHS
              = getBIT (8, mLOOPYxMSUBCODE + 1 * BYTE0 (mLOOPYxTEMP));
          putBIT (8, mLOOPYxTEMP, bitRHS);
          bitRHS->inUse = 0;
        }
        break;
      case 2:
        // TEMP = VSUBCODE(TEMP); (2358)
        {
          descriptor_t *bitRHS
              = getBIT (8, mLOOPYxVSUBCODE + 1 * BYTE0 (mLOOPYxTEMP));
          putBIT (8, mLOOPYxTEMP, bitRHS);
          bitRHS->inUse = 0;
        }
        break;
      case 3:
        // DO; (2359)
        {
        rs1s1:;
          // IF ASSIGN_TYPE(PTR) THEN (2359)
          if (1
              & (bitToFixed (
                  (putBITp (16, mASSIGN_TYPExPTR, getBIT (16, mLOOPYxPTR)),
                   ASSIGN_TYPE (0)))))
            // IF XHALMAT_QUAL(PTR + 1) = XLIT THEN (2360)
            if (1
                & (xEQ (
                    bitToFixed (
                        (putBITp (16, mXHALMAT_QUALxPTR,
                                  fixedToBit (
                                      32, (int32_t)(xadd (
                                              COREHALFWORD (mLOOPYxPTR), 1)))),
                         XHALMAT_QUAL (0))),
                    COREHALFWORD (mXLIT))))
              // RETURN NO_OPERANDS(PTR) = 2; (2361)
              {
                reentryGuard = 0;
                return xEQ (bitToFixed ((putBITp (16, mNO_OPERANDSxPTR,
                                                  getBIT (16, mLOOPYxPTR)),
                                         NO_OPERANDS (0))),
                            2);
              }
          // RETURN FALSE; (2362)
          {
            reentryGuard = 0;
            return 0;
          }
        es1s1:;
        } // End of DO block
        break;
      }
  } // End of DO CASE block
  // DO CASE TEMP; (2363)
  {
  rs2:
    switch (BYTE0 (mLOOPYxTEMP))
      {
      case 0:
        // RETURN FALSE; (2365)
        {
          reentryGuard = 0;
          return 0;
        }
        break;
      case 1:
        // RETURN TRUE; (2366)
        {
          reentryGuard = 0;
          return 1;
        }
        break;
      case 2:
        // RETURN (SHR(OPR(PTR),4) &  15) < 8; (2367)
        {
          reentryGuard = 0;
          return xLT (
              xAND (SHR (getFIXED (mOPR + 4 * COREHALFWORD (mLOOPYxPTR)), 4),
                    15),
              8);
        }
        break;
      case 3:
        // RETURN ~(SHR(OPR(PTR),4)); (2368)
        {
          reentryGuard = 0;
          return xNOT (
              SHR (getFIXED (mOPR + 4 * COREHALFWORD (mLOOPYxPTR)), 4));
        }
        break;
      }
  } // End of DO CASE block
  {
    reentryGuard = 0;
    return 0;
  }
}

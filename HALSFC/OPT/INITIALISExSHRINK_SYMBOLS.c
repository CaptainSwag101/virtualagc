/*
  File INITIALISExSHRINK_SYMBOLS.c generated by XCOM-I, 2024-08-09 12:38:53.
*/

#include "runtimeC.h"

int32_t
INITIALISExSHRINK_SYMBOLS (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "INITIALISExSHRINK_SYMBOLS");
  // RECORD_CONSTANT(SYM_SHRINK,COMM(10)+1,MOVEABLE); (1208)
  {
    putFIXED (m_RECORD_CONSTANTxDOPE,
              ADDR ("SYM_SHRINK", 0x80000000, NULL, 0));
    putFIXED (m_RECORD_CONSTANTxHIREC, xadd (getFIXED (mCOMM + 4 * 10), 1));
    putBITp (1, m_RECORD_CONSTANTxMOVEABLE, fixedToBit (32, (int32_t)(1)));
    _RECORD_CONSTANT (0);
  }
  // RECORD_USED(SYM_SHRINK) = RECORD_ALLOC(SYM_SHRINK); (1209)
  {
    int32_t numberRHS = (int32_t)(COREWORD (
        xadd (ADDR ("SYM_SHRINK", 0x80000000, NULL, 0), 8)));
    COREWORD2 (xadd (ADDR ("SYM_SHRINK", 0x80000000, NULL, 0), 12), numberRHS);
  }
  // SYT_SIZE = 1; (1210)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mSYT_SIZE, bitRHS);
    bitRHS->inUse = 0;
  }
  // REL(0),REL(1) = 1; (1211)
  {
    int32_t numberRHS = (int32_t)(1);
    putBIT (16, getFIXED (mSYM_SHRINK) + 2 * (0) + 0 + 2 * (0),
            fixedToBit (16, numberRHS));
    putBIT (16, getFIXED (mSYM_SHRINK) + 2 * (1) + 0 + 2 * (0),
            fixedToBit (16, numberRHS));
  }
  // DO FOR INX = 2 TO COMM(10); (1212)
  {
    int32_t from27, to27, by27;
    from27 = 2;
    to27 = getFIXED (mCOMM + 4 * 10);
    by27 = 1;
    for (putBIT (16, mINITIALISExSHRINK_SYMBOLSxINX, fixedToBit (16, from27));
         bitToFixed (getBIT (16, mINITIALISExSHRINK_SYMBOLSxINX)) <= to27;
         putBIT (16, mINITIALISExSHRINK_SYMBOLSxINX,
                 fixedToBit (16, bitToFixed (getBIT (
                                     16, mINITIALISExSHRINK_SYMBOLSxINX))
                                     + by27)))
      {
        // IF REFERENCED(INX) THEN (1213)
        if (1
            & (bitToFixed (
                (putBITp (16, mREFERENCEDxPTR,
                          getBIT (16, mINITIALISExSHRINK_SYMBOLSxINX)),
                 REFERENCED (0)))))
          // DO; (1214)
          {
          rs1s1:;
            // SYT_SIZE = SYT_SIZE + 1; (1215)
            {
              int32_t numberRHS
                  = (int32_t)(xadd (COREHALFWORD (mSYT_SIZE), 1));
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mSYT_SIZE, bitRHS);
              bitRHS->inUse = 0;
            }
            // REL(INX) = SYT_SIZE; (1216)
            {
              descriptor_t *bitRHS = getBIT (16, mSYT_SIZE);
              putBIT (16,
                      getFIXED (mSYM_SHRINK)
                          + 2 * (COREHALFWORD (mINITIALISExSHRINK_SYMBOLSxINX))
                          + 0 + 2 * (0),
                      bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1:;
          } // End of DO block
        // ELSE (1217)
        else
          // REL(INX) = 1; (1218)
          {
            int32_t numberRHS = (int32_t)(1);
            putBIT (16,
                    getFIXED (mSYM_SHRINK)
                        + 2 * (COREHALFWORD (mINITIALISExSHRINK_SYMBOLSxINX))
                        + 0 + 2 * (0),
                    fixedToBit (16, numberRHS));
          }
        // IF TRACE THEN (1219)
        if (1 & (bitToFixed (getBIT (8, mTRACE))))
          // OUTPUT = 'SYMBOL_SHRINKER(' || INX || '):   ' || REL(INX) || '  '
          // || SYT_NAME(INX); (1220)
          {
            descriptor_t *stringRHS;
            stringRHS = xsCAT (
                xsCAT (
                    xsCAT (
                        xsCAT (
                            xsCAT (cToDescriptor (NULL, "SYMBOL_SHRINKER("),
                                   bitToCharacter (getBIT (
                                       16, mINITIALISExSHRINK_SYMBOLSxINX))),
                            cToDescriptor (NULL, "):   ")),
                        bitToCharacter (getBIT (
                            16, getFIXED (mSYM_SHRINK)
                                    + 2
                                          * (COREHALFWORD (
                                              mINITIALISExSHRINK_SYMBOLSxINX))
                                    + 0 + 2 * (0)))),
                    cToDescriptor (NULL, "  ")),
                getCHARACTER (
                    getFIXED (mSYM_TAB)
                    + 34 * (COREHALFWORD (mINITIALISExSHRINK_SYMBOLSxINX)) + 0
                    + 4 * (0)));
            OUTPUT (0, stringRHS);
            stringRHS->inUse = 0;
          }
      }
  } // End of DO for-loop block
  {
    reentryGuard = 0;
    return 0;
  }
}

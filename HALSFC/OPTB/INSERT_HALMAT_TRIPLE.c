/*
  File INSERT_HALMAT_TRIPLE.c generated by XCOM-I, 2024-08-08 04:34:00.
*/

#include "runtimeC.h"

int32_t
INSERT_HALMAT_TRIPLE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "INSERT_HALMAT_TRIPLE");
  // IF DSUB_LOC - DSUB_HOLE < 3 THEN (1845)
  if (1
      & (xLT (xsubtract (COREHALFWORD (mDSUB_LOC), COREHALFWORD (mDSUB_HOLE)),
              3)))
    // CALL PUSH_HALMAT(DSUB_LOC,3); (1846)
    {
      putBITp (16, mPUSH_HALMATxSTART, getBIT (16, mDSUB_LOC));
      putBITp (16, mPUSH_HALMATxDISP, fixedToBit (32, (int32_t)(3)));
      PUSH_HALMAT (0);
    }
  // OPR(DSUB_HOLE) =  131072 | SHL(OP,4) | SHL(TAG,24); (1847)
  {
    int32_t numberRHS = (int32_t)(xOR (
        xOR (131072, SHL (COREHALFWORD (mINSERT_HALMAT_TRIPLExOP), 4)),
        SHL (BYTE0 (mINSERT_HALMAT_TRIPLExTAG), 24)));
    putFIXED (mOPR + 4 * (COREHALFWORD (mDSUB_HOLE)), numberRHS);
  }
  // TAG = 0; (1848)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mINSERT_HALMAT_TRIPLExTAG, bitRHS);
    bitRHS->inUse = 0;
  }
  // OPR(DSUB_HOLE + 1) = PTR_WORD; (1849)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mINSERT_HALMAT_TRIPLExPTR_WORD));
    putFIXED (mOPR + 4 * (xadd (COREHALFWORD (mDSUB_HOLE), 1)), numberRHS);
  }
  // OPR(DSUB_HOLE + 2) = CONST_PTR; (1850)
  {
    int32_t numberRHS = (int32_t)(getFIXED (mINSERT_HALMAT_TRIPLExCONST_PTR));
    putFIXED (mOPR + 4 * (xadd (COREHALFWORD (mDSUB_HOLE), 2)), numberRHS);
  }
  // IF SUB_TRACE THEN (1851)
  if (1 & (bitToFixed (getBIT (8, mSUB_TRACE))))
    // CALL VU(DSUB_HOLE,2); (1852)
    {
      putBITp (16, mVUxBEGIN, getBIT (16, mDSUB_HOLE));
      putBITp (16, mVUxNO, fixedToBit (32, (int32_t)(2)));
      VU (0);
    }
  // TEMP = DSUB_HOLE; (1853)
  {
    descriptor_t *bitRHS = getBIT (16, mDSUB_HOLE);
    putBIT (16, mINSERT_HALMAT_TRIPLExTEMP, bitRHS);
    bitRHS->inUse = 0;
  }
  // DSUB_HOLE = DSUB_HOLE + 3; (1854)
  {
    int32_t numberRHS = (int32_t)(xadd (COREHALFWORD (mDSUB_HOLE), 3));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mDSUB_HOLE, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF DSUB_HOLE < DSUB_LOC THEN (1855)
  if (1 & (xLT (COREHALFWORD (mDSUB_HOLE), COREHALFWORD (mDSUB_LOC))))
    // OPR(DSUB_HOLE) = XNOP | SHL(DSUB_LOC - DSUB_HOLE - 1, 16); (1856)
    {
      int32_t numberRHS = (int32_t)(xOR (
          COREHALFWORD (mXNOP),
          SHL (xsubtract (xsubtract (COREHALFWORD (mDSUB_LOC),
                                     COREHALFWORD (mDSUB_HOLE)),
                          1),
               16)));
      putFIXED (mOPR + 4 * (COREHALFWORD (mDSUB_HOLE)), numberRHS);
    }
  // RETURN XVAC | SHL(TEMP,16); (1857)
  {
    reentryGuard = 0;
    return xOR (COREHALFWORD (mXVAC),
                SHL (COREHALFWORD (mINSERT_HALMAT_TRIPLExTEMP), 16));
  }
}

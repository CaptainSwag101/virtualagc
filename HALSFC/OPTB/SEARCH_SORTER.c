/*
  File SEARCH_SORTER.c generated by XCOM-I, 2024-08-09 12:41:08.
*/

#include "runtimeC.h"

int32_t
SEARCH_SORTER (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "SEARCH_SORTER");
  // IF TRACE THEN (1579)
  if (1 & (bitToFixed (getBIT (8, mTRACE))))
    // OUTPUT = 'SEARCH_SORTER: FIRST '||FIRST||' LAST '||LAST; (1580)
    {
      descriptor_t *stringRHS;
      stringRHS = xsCAT (
          xsCAT (xsCAT (cToDescriptor (NULL, "SEARCH_SORTER: FIRST "),
                        bitToCharacter (getBIT (16, mSEARCH_SORTERxFIRST))),
                 cToDescriptor (NULL, " LAST ")),
          bitToCharacter (getBIT (16, mSEARCH_SORTERxLAST)));
      OUTPUT (0, stringRHS);
      stringRHS->inUse = 0;
    }
  // K,L=LAST; (1581)
  {
    descriptor_t *bitRHS = getBIT (16, mSEARCH_SORTERxLAST);
    putBIT (16, mSEARCH_SORTERxK, bitRHS);
    putBIT (16, mSEARCH_SORTERxL, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO WHILE K<=L; (1582)
  while (1
         & (xLE (COREHALFWORD (mSEARCH_SORTERxK),
                 COREHALFWORD (mSEARCH_SORTERxL))))
    {
      // L = -LAST; (1583)
      {
        int32_t numberRHS
            = (int32_t)(xminus (COREHALFWORD (mSEARCH_SORTERxLAST)));
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mSEARCH_SORTERxL, bitRHS);
        bitRHS->inUse = 0;
      }
      // DO I = FIRST+1 TO K; (1584)
      {
        int32_t from35, to35, by35;
        from35 = xadd (COREHALFWORD (mSEARCH_SORTERxFIRST), 1);
        to35 = bitToFixed (getBIT (16, mSEARCH_SORTERxK));
        by35 = 1;
        for (putBIT (16, mSEARCH_SORTERxI, fixedToBit (16, from35));
             bitToFixed (getBIT (16, mSEARCH_SORTERxI)) <= to35;
             putBIT (16, mSEARCH_SORTERxI,
                     fixedToBit (16, bitToFixed (getBIT (16, mSEARCH_SORTERxI))
                                         + by35)))
          {
            // L = I-1; (1585)
            {
              int32_t numberRHS
                  = (int32_t)(xsubtract (COREHALFWORD (mSEARCH_SORTERxI), 1));
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mSEARCH_SORTERxL, bitRHS);
              bitRHS->inUse = 0;
            }
            // IF SEARCH(L) > SEARCH(I) THEN (1586)
            if (1
                & (xGT (
                    getFIXED (mSEARCH + 4 * COREHALFWORD (mSEARCH_SORTERxL)),
                    getFIXED (mSEARCH + 4 * COREHALFWORD (mSEARCH_SORTERxI)))))
              // DO; (1587)
              {
              rs1s1s1:;
                // TEMP = SEARCH(L); (1588)
                {
                  int32_t numberRHS = (int32_t)(getFIXED (
                      mSEARCH + 4 * COREHALFWORD (mSEARCH_SORTERxL)));
                  putFIXED (mSEARCH_SORTERxTEMP, numberRHS);
                }
                // SEARCH(L) = SEARCH(I); (1589)
                {
                  int32_t numberRHS = (int32_t)(getFIXED (
                      mSEARCH + 4 * COREHALFWORD (mSEARCH_SORTERxI)));
                  putFIXED (mSEARCH + 4 * (COREHALFWORD (mSEARCH_SORTERxL)),
                            numberRHS);
                }
                // SEARCH(I) = TEMP; (1590)
                {
                  int32_t numberRHS
                      = (int32_t)(getFIXED (mSEARCH_SORTERxTEMP));
                  putFIXED (mSEARCH + 4 * (COREHALFWORD (mSEARCH_SORTERxI)),
                            numberRHS);
                }
                // TEMP = SEARCH2(L); (1591)
                {
                  descriptor_t *bitRHS = getBIT (
                      16, mSEARCH2 + 2 * COREHALFWORD (mSEARCH_SORTERxL));
                  int32_t numberRHS;
                  numberRHS = bitToFixed (bitRHS);
                  putFIXED (mSEARCH_SORTERxTEMP, numberRHS);
                  bitRHS->inUse = 0;
                }
                // SEARCH2(L) = SEARCH2(I); (1592)
                {
                  descriptor_t *bitRHS = getBIT (
                      16, mSEARCH2 + 2 * COREHALFWORD (mSEARCH_SORTERxI));
                  putBIT (16, mSEARCH2 + 2 * (COREHALFWORD (mSEARCH_SORTERxL)),
                          bitRHS);
                  bitRHS->inUse = 0;
                }
                // SEARCH2(I) = TEMP; (1593)
                {
                  int32_t numberRHS
                      = (int32_t)(getFIXED (mSEARCH_SORTERxTEMP));
                  descriptor_t *bitRHS;
                  bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                  putBIT (16, mSEARCH2 + 2 * (COREHALFWORD (mSEARCH_SORTERxI)),
                          bitRHS);
                  bitRHS->inUse = 0;
                }
                // K = L; (1594)
                {
                  descriptor_t *bitRHS = getBIT (16, mSEARCH_SORTERxL);
                  putBIT (16, mSEARCH_SORTERxK, bitRHS);
                  bitRHS->inUse = 0;
                }
              es1s1s1:;
              } // End of DO block
            // ELSE (1595)
            else
              // IF SEARCH(L) = SEARCH(I)THEN (1596)
              if (1
                  & (xEQ (
                      getFIXED (mSEARCH + 4 * COREHALFWORD (mSEARCH_SORTERxL)),
                      getFIXED (mSEARCH
                                + 4 * COREHALFWORD (mSEARCH_SORTERxI)))))
                // DO; (1597)
                {
                rs1s1s2:;
                  // IF SEARCH2(L) > SEARCH2(I) THEN (1598)
                  if (1
                      & (xGT (
                          COREHALFWORD (mSEARCH2
                                        + 2 * COREHALFWORD (mSEARCH_SORTERxL)),
                          COREHALFWORD (
                              mSEARCH2
                              + 2 * COREHALFWORD (mSEARCH_SORTERxI)))))
                    // DO; (1599)
                    {
                    rs1s1s2s1:;
                      // TEMP = SEARCH2(L); (1600)
                      {
                        descriptor_t *bitRHS = getBIT (
                            16,
                            mSEARCH2 + 2 * COREHALFWORD (mSEARCH_SORTERxL));
                        int32_t numberRHS;
                        numberRHS = bitToFixed (bitRHS);
                        putFIXED (mSEARCH_SORTERxTEMP, numberRHS);
                        bitRHS->inUse = 0;
                      }
                      // SEARCH2(L) = SEARCH2(I); (1601)
                      {
                        descriptor_t *bitRHS = getBIT (
                            16,
                            mSEARCH2 + 2 * COREHALFWORD (mSEARCH_SORTERxI));
                        putBIT (16,
                                mSEARCH2
                                    + 2 * (COREHALFWORD (mSEARCH_SORTERxL)),
                                bitRHS);
                        bitRHS->inUse = 0;
                      }
                      // SEARCH2(I) = TEMP; (1602)
                      {
                        int32_t numberRHS
                            = (int32_t)(getFIXED (mSEARCH_SORTERxTEMP));
                        descriptor_t *bitRHS;
                        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                        putBIT (16,
                                mSEARCH2
                                    + 2 * (COREHALFWORD (mSEARCH_SORTERxI)),
                                bitRHS);
                        bitRHS->inUse = 0;
                      }
                      // K = L; (1603)
                      {
                        descriptor_t *bitRHS = getBIT (16, mSEARCH_SORTERxL);
                        putBIT (16, mSEARCH_SORTERxK, bitRHS);
                        bitRHS->inUse = 0;
                      }
                    es1s1s2s1:;
                    } // End of DO block
                es1s1s2:;
                } // End of DO block
          }
      } // End of DO for-loop block
    }   // End of DO WHILE block
  {
    reentryGuard = 0;
    return 0;
  }
}

/*
  File POP_COMPARE.c generated by XCOM-I, 2024-08-08 04:34:00.
*/

#include "runtimeC.h"

descriptor_t *
POP_COMPARE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "POP_COMPARE");
  // IF XHALMAT_QUAL(PTR1) = XSYT THEN (2393)
  if (1
      & (xEQ (bitToFixed ((putBITp (16, mXHALMAT_QUALxPTR,
                                    getBIT (16, mPOP_COMPARExPTR1)),
                           XHALMAT_QUAL (0))),
              COREHALFWORD (mXSYT))))
    // RETURN (OPR(PTR1) & V_MASK) = (OPR(PTR2) & V_MASK); (2394)
    {
      reentryGuard = 0;
      return fixedToBit (
          32, (int32_t)(xEQ (
                  xAND (getFIXED (mOPR + 4 * COREHALFWORD (mPOP_COMPARExPTR1)),
                        getFIXED (mPOP_COMPARExV_MASK)),
                  xAND (getFIXED (mOPR + 4 * COREHALFWORD (mPOP_COMPARExPTR2)),
                        getFIXED (mPOP_COMPARExV_MASK)))));
    }
  // IF XHALMAT_QUAL(PTR2) = XSYT THEN (2395)
  if (1
      & (xEQ (bitToFixed ((putBITp (16, mXHALMAT_QUALxPTR,
                                    getBIT (16, mPOP_COMPARExPTR2)),
                           XHALMAT_QUAL (0))),
              COREHALFWORD (mXSYT))))
    // RETURN FALSE; (2396)
    {
      reentryGuard = 0;
      return fixedToBit (32, (int32_t)(0));
    }
  // PTR1 = SHR(OPR(PTR1),16); (2397)
  {
    int32_t numberRHS = (int32_t)(SHR (
        getFIXED (mOPR + 4 * COREHALFWORD (mPOP_COMPARExPTR1)), 16));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mPOP_COMPARExPTR1, bitRHS);
    bitRHS->inUse = 0;
  }
  // PTR2 = SHR(OPR(PTR2),16); (2398)
  {
    int32_t numberRHS = (int32_t)(SHR (
        getFIXED (mOPR + 4 * COREHALFWORD (mPOP_COMPARExPTR2)), 16));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mPOP_COMPARExPTR2, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO FOR K = 0 TO NO_OPERANDS(PTR1); (2399)
  {
    int32_t from54, to54, by54;
    from54 = 0;
    to54 = bitToFixed (
        (putBITp (16, mNO_OPERANDSxPTR, getBIT (16, mPOP_COMPARExPTR1)),
         NO_OPERANDS (0)));
    by54 = 1;
    for (putBIT (16, mPOP_COMPARExK, fixedToBit (16, from54));
         bitToFixed (getBIT (16, mPOP_COMPARExK)) <= to54; putBIT (
             16, mPOP_COMPARExK,
             fixedToBit (16, bitToFixed (getBIT (16, mPOP_COMPARExK)) + by54)))
      {
        // IF (OPR(PTR1 + K) & V_MASK) ~= (OPR(PTR2 + K) & V_MASK) THEN (2400)
        if (1
            & (xNEQ (
                xAND (getFIXED (mOPR
                                + 4
                                      * xadd (COREHALFWORD (mPOP_COMPARExPTR1),
                                              COREHALFWORD (mPOP_COMPARExK))),
                      getFIXED (mPOP_COMPARExV_MASK)),
                xAND (getFIXED (mOPR
                                + 4
                                      * xadd (COREHALFWORD (mPOP_COMPARExPTR2),
                                              COREHALFWORD (mPOP_COMPARExK))),
                      getFIXED (mPOP_COMPARExV_MASK)))))
          // RETURN FALSE; (2401)
          {
            reentryGuard = 0;
            return fixedToBit (32, (int32_t)(0));
          }
      }
  } // End of DO for-loop block
  // RETURN TRUE; (2402)
  {
    reentryGuard = 0;
    return fixedToBit (32, (int32_t)(1));
  }
}

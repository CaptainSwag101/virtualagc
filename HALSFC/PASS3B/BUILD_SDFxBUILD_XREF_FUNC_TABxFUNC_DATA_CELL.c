/*
  File BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELL.c generated by XCOM-I,
  2024-08-09 12:42:16.
*/

#include "runtimeC.h"

int32_t
BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELL (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard,
                               "BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELL");
  // RCELL,CELL = GET_DATA_CELL(CELL_SZ(BI_XREF#(LOC)+1),ADDR(NODE_H),
  // MODF|RESV); (3937)
  {
    int32_t numberRHS = (int32_t)((
        putFIXED (
            mGET_DATA_CELLxLENGTH,
            (putFIXED (
                 mMINxA,
                 xadd (
                     xmultiply (
                         2,
                         COREHALFWORD (
                             mBUILD_SDFxBUILD_XREF_FUNC_TABxBI_XREFp
                             + 2
                                   * COREHALFWORD (
                                       mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLOC))),
                     1)),
             putFIXED (mMINxB, 1680), MIN (0))),
        putFIXED (mGET_DATA_CELLxBVAR,
                  ADDR ("BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H",
                        0x80000000, NULL, 0)),
        putBITp (
            8, mGET_DATA_CELLxFLAGS,
            fixedToBit (32, (int32_t)(xOR (BYTE0 (mMODF), BYTE0 (mRESV))))),
        GET_DATA_CELL (0)));
    putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxRCELL, numberRHS);
    putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxCELL, numberRHS);
  }
  // NODE_H(0) = BI_XREF#(LOC); (3938)
  {
    descriptor_t *bitRHS = getBIT (
        16, mBUILD_SDFxBUILD_XREF_FUNC_TABxBI_XREFp
                + 2
                      * COREHALFWORD (
                          mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLOC));
    putBIT (16,
            getFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H)
                + 2 * (0),
            bitRHS);
    bitRHS->inUse = 0;
  }
  // INDEX = 1; (3939)
  {
    int32_t numberRHS = (int32_t)(1);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX, bitRHS);
    bitRHS->inUse = 0;
  }
  // PTR = BI_XREF(LOC); (3940)
  {
    descriptor_t *bitRHS = getBIT (
        16, mBUILD_SDFxBUILD_XREF_FUNC_TABxBI_XREF
                + 2
                      * COREHALFWORD (
                          mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLOC));
    int32_t numberRHS;
    numberRHS = bitToFixed (bitRHS);
    putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxPTR, numberRHS);
    bitRHS->inUse = 0;
  }
  // DO I = 1 TO NODE_H(0); (3941)
  {
    int32_t from112, to112, by112;
    from112 = 1;
    to112 = bitToFixed (getBIT (
        16, getFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H)
                + 2 * 0));
    by112 = 1;
    for (putBIT (16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI,
                 fixedToBit (16, from112));
         bitToFixed (
             getBIT (16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI))
         <= to112;
         putBIT (
             16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI,
             fixedToBit (
                 16, bitToFixed (getBIT (
                         16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI))
                         + by112)))
      {
        // IF (INDEX = NEXT_TO_LAST) & (I < (NODE_H(0)-3)) THEN (3942)
        if (1
            & (xAND (
                xEQ (COREHALFWORD (
                         mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX),
                     837),
                xLT (
                    COREHALFWORD (
                        mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI),
                    xsubtract (
                        COREHALFWORD (
                            getFIXED (
                                mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H)
                            + 2 * 0),
                        3)))))
          // DO; (3943)
          {
          rs1s1:;
            // NODE_H(INDEX) = POINTER_PREFIX; (3944)
            {
              int32_t numberRHS = (int32_t)(-1);
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (
                  16,
                  getFIXED (
                      mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H)
                      + 2
                            * (COREHALFWORD (
                                mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX)),
                  bitRHS);
              bitRHS->inUse = 0;
            }
            // LINK = ADDR(NODE_H(INDEX+1)); (3945)
            {
              int32_t numberRHS = (int32_t)(ADDR (
                  "BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H",
                  xadd (
                      COREHALFWORD (
                          mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX),
                      1),
                  NULL, 0));
              putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLINK,
                        numberRHS);
            }
            // CALL P3_PTR_LOCATE(CELL,RELS); (3946)
            {
              putFIXED (
                  mP3_PTR_LOCATExPTR,
                  getFIXED (
                      mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxCELL));
              putBITp (8, mP3_PTR_LOCATExFLAGS, getBIT (8, mRELS));
              P3_PTR_LOCATE (0);
            }
            // CELL,COREWORD(LINK)=GET_DATA_CELL(CELL_SZ(BI_XREF#(LOC)-I),
            // ADDR(NODE_H),MODF|RESV); (3947)
            {
              int32_t numberRHS = (int32_t)((
                  putFIXED (
                      mGET_DATA_CELLxLENGTH,
                      (putFIXED (
                           mMINxA,
                           xsubtract (
                               xmultiply (
                                   2,
                                   COREHALFWORD (
                                       mBUILD_SDFxBUILD_XREF_FUNC_TABxBI_XREFp
                                       + 2
                                             * COREHALFWORD (
                                                 mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLOC))),
                               COREHALFWORD (
                                   mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxI))),
                       putFIXED (mMINxB, 1680), MIN (0))),
                  putFIXED (mGET_DATA_CELLxBVAR,
                            ADDR ("BUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_"
                                  "CELLxNODE_H",
                                  0x80000000, NULL, 0)),
                  putBITp (8, mGET_DATA_CELLxFLAGS,
                           fixedToBit (32, (int32_t)(xOR (BYTE0 (mMODF),
                                                          BYTE0 (mRESV))))),
                  GET_DATA_CELL (0)));
              putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxCELL,
                        numberRHS);
              COREWORD2 (
                  getFIXED (
                      mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxLINK),
                  numberRHS);
            }
            // INDEX = 0; (3948)
            {
              int32_t numberRHS = (int32_t)(0);
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX,
                      bitRHS);
              bitRHS->inUse = 0;
            }
          es1s1:;
          } // End of DO block
        // NODE_H(INDEX) = (XREF(PTR) &  65535); (3949)
        {
          int32_t numberRHS = (int32_t)(xAND (
              getFIXED (
                  getFIXED (mCROSS_REF)
                  + 4
                        * (getFIXED (
                            mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxPTR))
                  + 0 + 4 * (0)),
              65535));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (
              16,
              getFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxNODE_H)
                  + 2
                        * (COREHALFWORD (
                            mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX)),
              bitRHS);
          bitRHS->inUse = 0;
        }
        // PTR = SHR(XREF(PTR),16); (3950)
        {
          int32_t numberRHS = (int32_t)(SHR (
              getFIXED (
                  getFIXED (mCROSS_REF)
                  + 4
                        * (getFIXED (
                            mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxPTR))
                  + 0 + 4 * (0)),
              16));
          putFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxPTR,
                    numberRHS);
        }
        // INDEX = INDEX+1; (3951)
        {
          int32_t numberRHS = (int32_t)(xadd (
              COREHALFWORD (
                  mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX),
              1));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxINDEX,
                  bitRHS);
          bitRHS->inUse = 0;
        }
      }
  } // End of DO for-loop block
  // CALL P3_PTR_LOCATE(CELL,RELS); (3952)
  {
    putFIXED (mP3_PTR_LOCATExPTR,
              getFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxCELL));
    putBITp (8, mP3_PTR_LOCATExFLAGS, getBIT (8, mRELS));
    P3_PTR_LOCATE (0);
  }
  // RETURN RCELL; (3953)
  {
    reentryGuard = 0;
    return getFIXED (mBUILD_SDFxBUILD_XREF_FUNC_TABxFUNC_DATA_CELLxRCELL);
  }
}

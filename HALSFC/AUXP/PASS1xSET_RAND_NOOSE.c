/*
  File PASS1xSET_RAND_NOOSE.c generated by XCOM-I, 2024-08-09 12:39:13.
*/

#include "runtimeC.h"

int32_t
PASS1xSET_RAND_NOOSE (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard = guardReentry (reentryGuard, "PASS1xSET_RAND_NOOSE");
  // IF ~DO_NOT_DECODE THEN (1358)
  if (1 & (xNOT (BYTE0 (mPASS1xSET_RAND_NOOSExDO_NOT_DECODE))))
    // CALL DECODE_HALRAND(RAND#); (1359)
    {
      putBITp (16, mPASS1xDECODE_HALRANDxOP,
               getBIT (16, mPASS1xSET_RAND_NOOSExRANDp));
      PASS1xDECODE_HALRAND (0);
    }
  // RAND# = RAND# + HALMAT_PTR; (1360)
  {
    int32_t numberRHS
        = (int32_t)(xadd (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp),
                          COREHALFWORD (mHALMAT_PTR)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mPASS1xSET_RAND_NOOSExRANDp, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO CASE QUAL_CASE_DECODE(HALRAND_QUALIFIER); (1361)
  {
  rs1:
    switch (BYTE0 (mPASS1xSET_RAND_NOOSExQUAL_CASE_DECODE
                   + 1 * BYTE0 (mHALRAND_QUALIFIER)))
      {
      case 0:
          // ; (1363)
          ;
        break;
      case 1:
        // IF SYT_SHRINK_INDEX(HALRAND) ~= 0 THEN (1364)
        if (1
            & (xNEQ (COREHALFWORD (getFIXED (mSNDX)
                                   + 2 * (COREHALFWORD (mHALRAND)) + 0
                                   + 2 * (0)),
                     0)))
          {
          rs1s1:;
            // IF GEN_CODE(RAND#) = 0 THEN (1365)
            if (1
                & (xEQ (
                    BYTE0 (getFIXED (mWORK_VARS)
                           + 11 * (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp))
                           + 10 + 1 * (0)),
                    0)))
              // GEN_CODE(RAND#) = NOOSE_OPCODE; (1366)
              {
                int32_t numberRHS = (int32_t)(1);
                putBIT (8,
                        getFIXED (mWORK_VARS)
                            + 11 * (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp))
                            + 10 + 1 * (0),
                        fixedToBit (8, numberRHS));
              }
            // IF ~VAL_CHANGE THEN (1367)
            if (1 & (xNOT (BYTE0 (mPASS1xSET_RAND_NOOSExVAL_CHANGE))))
              // TEMP_NOOSE = COMPUTE_NOOSE(RAND#); (1368)
              {
                int32_t numberRHS = (int32_t)((
                    putBITp (16, mPASS1xCOMPUTE_NOOSExHALMATp,
                             getBIT (16, mPASS1xSET_RAND_NOOSExRANDp)),
                    PASS1xCOMPUTE_NOOSE (0)));
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE, bitRHS);
                bitRHS->inUse = 0;
              }
            // ELSE (1369)
            else
              // TEMP_NOOSE = 0; (1370)
              {
                int32_t numberRHS = (int32_t)(0);
                descriptor_t *bitRHS;
                bitRHS = fixedToBit (32, (int32_t)(numberRHS));
                putBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE, bitRHS);
                bitRHS->inUse = 0;
              }
            // CALL MARK_SYT_CASE(HALRAND,TEMP_NOOSE); (1371)
            {
              putBITp (16, mPASS1xSET_RAND_NOOSExMARK_SYT_CASExRAND,
                       getBIT (16, mHALRAND));
              putBITp (16, mPASS1xSET_RAND_NOOSExMARK_SYT_CASExNEXT_USE,
                       getBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE));
              PASS1xSET_RAND_NOOSExMARK_SYT_CASE (0);
            }
            // CALL MARK_SYT_REF(HALRAND); (1372)
            {
              putBITp (16, mPASS1xSET_RAND_NOOSExMARK_SYT_REFxRAND,
                       getBIT (16, mHALRAND));
              PASS1xSET_RAND_NOOSExMARK_SYT_REF (0);
            }
            // CALL MARK_SYT_UVCS(HALRAND, TEMP_NOOSE); (1373)
            {
              putBITp (16, mPASS1xSET_RAND_NOOSExMARK_SYT_UVCSxRAND,
                       getBIT (16, mHALRAND));
              putBITp (16, mPASS1xSET_RAND_NOOSExMARK_SYT_UVCSxNEXT_USE,
                       getBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE));
              PASS1xSET_RAND_NOOSExMARK_SYT_UVCS (0);
            }
            // CALL ADD_UVC(SYT, HALRAND, RAND#); (1374)
            {
              putBITp (4, mPASS1xADD_UVCxRAND_TYPE,
                       fixedToBit (32, (int32_t)(1)));
              putBITp (16, mPASS1xADD_UVCxRAND, getBIT (16, mHALRAND));
              putBITp (16, mPASS1xADD_UVCxHALMAT_LINE,
                       getBIT (16, mPASS1xSET_RAND_NOOSExRANDp));
              PASS1xADD_UVC (0);
            }
          es1s1:;
          } // End of DO block
        break;
      case 2:
        // DO; (1376)
        {
        rs1s2:;
          // IF (RAND# >= HALMAT_SIZE) & (HALRAND_TAG2 & RAND_XB_FLAG) = 0 THEN
          // (1376)
          if (1
              & (xAND (xGE (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp), 1800),
                       xEQ (xAND (BYTE0 (mHALRAND_TAG2), 16), 0))))
            // BUMP_FACTOR = HALMAT_SIZE; (1377)
            {
              int32_t numberRHS = (int32_t)(1800);
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mPASS1xSET_RAND_NOOSExBUMP_FACTOR, bitRHS);
              bitRHS->inUse = 0;
            }
          // ELSE (1378)
          else
            // BUMP_FACTOR = 0; (1379)
            {
              int32_t numberRHS = (int32_t)(0);
              descriptor_t *bitRHS;
              bitRHS = fixedToBit (32, (int32_t)(numberRHS));
              putBIT (16, mPASS1xSET_RAND_NOOSExBUMP_FACTOR, bitRHS);
              bitRHS->inUse = 0;
            }
          // TEMP_NOOSE = COMPUTE_NOOSE(RAND#); (1380)
          {
            int32_t numberRHS = (int32_t)((
                putBITp (16, mPASS1xCOMPUTE_NOOSExHALMATp,
                         getBIT (16, mPASS1xSET_RAND_NOOSExRANDp)),
                PASS1xCOMPUTE_NOOSE (0)));
            descriptor_t *bitRHS;
            bitRHS = fixedToBit (32, (int32_t)(numberRHS));
            putBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE, bitRHS);
            bitRHS->inUse = 0;
          }
          // IF GEN_CODE(RAND#) = 0 THEN (1381)
          if (1
              & (xEQ (
                  BYTE0 (getFIXED (mWORK_VARS)
                         + 11 * (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp))
                         + 10 + 1 * (0)),
                  0)))
            // GEN_CODE(RAND#) = NOOSE_OPCODE; (1382)
            {
              int32_t numberRHS = (int32_t)(1);
              putBIT (8,
                      getFIXED (mWORK_VARS)
                          + 11 * (COREHALFWORD (mPASS1xSET_RAND_NOOSExRANDp))
                          + 10 + 1 * (0),
                      fixedToBit (8, numberRHS));
            }
          // CALL MARK_VAC_CASE(HALRAND_QUALIFIER, HALRAND, TEMP_NOOSE,
          // BUMP_FACTOR, SHR(HALRAND_TAG2 & RAND_XB_FLAG, 4)); (1383)
          {
            putBITp (8, mPASS1xSET_RAND_NOOSExMARK_VAC_CASExRAND_TYPE,
                     getBIT (8, mHALRAND_QUALIFIER));
            putBITp (16, mPASS1xSET_RAND_NOOSExMARK_VAC_CASExRAND,
                     getBIT (16, mHALRAND));
            putBITp (16, mPASS1xSET_RAND_NOOSExMARK_VAC_CASExNEXT_USE,
                     getBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE));
            putBITp (16, mPASS1xSET_RAND_NOOSExMARK_VAC_CASExBUMP_FACTOR,
                     getBIT (16, mPASS1xSET_RAND_NOOSExBUMP_FACTOR));
            putBITp (
                1, mPASS1xSET_RAND_NOOSExMARK_VAC_CASExXB_FLAG,
                fixedToBit (
                    32, (int32_t)(SHR (xAND (BYTE0 (mHALRAND_TAG2), 16), 4))));
            PASS1xSET_RAND_NOOSExMARK_VAC_CASE (0);
          }
          // CALL MARK_VAC_REF(HALRAND + BUMP_FACTOR); (1384)
          {
            putBITp (
                16, mPASS1xSET_RAND_NOOSExMARK_VAC_REFxRAND,
                fixedToBit (32, (int32_t)(xadd (
                                    COREHALFWORD (mHALRAND),
                                    COREHALFWORD (
                                        mPASS1xSET_RAND_NOOSExBUMP_FACTOR)))));
            PASS1xSET_RAND_NOOSExMARK_VAC_REF (0);
          }
          // CALL MARK_VAC_UVCS(HALRAND_QUALIFIER, HALRAND + BUMP_FACTOR,
          // TEMP_NOOSE); (1385)
          {
            putBITp (8, mPASS1xSET_RAND_NOOSExMARK_VAC_UVCSxRAND_TYPE,
                     getBIT (8, mHALRAND_QUALIFIER));
            putBITp (
                16, mPASS1xSET_RAND_NOOSExMARK_VAC_UVCSxRAND,
                fixedToBit (32, (int32_t)(xadd (
                                    COREHALFWORD (mHALRAND),
                                    COREHALFWORD (
                                        mPASS1xSET_RAND_NOOSExBUMP_FACTOR)))));
            putBITp (16, mPASS1xSET_RAND_NOOSExMARK_VAC_UVCSxNEXT_USE,
                     getBIT (16, mPASS1xSET_RAND_NOOSExTEMP_NOOSE));
            PASS1xSET_RAND_NOOSExMARK_VAC_UVCS (0);
          }
          // IF (HALRAND_TAG2 & RAND_CSE_FLAG) ~= 0 THEN (1386)
          if (1 & (xNEQ (xAND (BYTE0 (mHALRAND_TAG2), 8), 0)))
            // CALL ADD_UVC(HALRAND_QUALIFIER, HALRAND + BUMP_FACTOR, RAND#);
            // (1387)
            {
              putBITp (4, mPASS1xADD_UVCxRAND_TYPE,
                       getBIT (8, mHALRAND_QUALIFIER));
              putBITp (
                  16, mPASS1xADD_UVCxRAND,
                  fixedToBit (
                      32,
                      (int32_t)(xadd (
                          COREHALFWORD (mHALRAND),
                          COREHALFWORD (mPASS1xSET_RAND_NOOSExBUMP_FACTOR)))));
              putBITp (16, mPASS1xADD_UVCxHALMAT_LINE,
                       getBIT (16, mPASS1xSET_RAND_NOOSExRANDp));
              PASS1xADD_UVC (0);
            }
          // CALL MARK_CASE_LIST_PTRS(HALRAND_QUALIFIER, HALRAND |
          // SHL(HALRAND_TAG2 & RAND_XB_FLAG, 11)); (1388)
          {
            putBITp (8, mPASS1xSET_RAND_NOOSExMARK_CASE_LIST_PTRSxRAND_TYPE,
                     getBIT (8, mHALRAND_QUALIFIER));
            putBITp (16, mPASS1xSET_RAND_NOOSExMARK_CASE_LIST_PTRSxRAND,
                     fixedToBit (32, (int32_t)(xOR (
                                         COREHALFWORD (mHALRAND),
                                         SHL (xAND (BYTE0 (mHALRAND_TAG2), 16),
                                              11)))));
            PASS1xSET_RAND_NOOSExMARK_CASE_LIST_PTRS (0);
          }
        es1s2:;
        } // End of DO block
        break;
      }
  } // End of DO CASE block
  // DO_NOT_DECODE, VAL_CHANGE = 0; (1389)
  {
    int32_t numberRHS = (int32_t)(0);
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mPASS1xSET_RAND_NOOSExDO_NOT_DECODE, bitRHS);
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (8, mPASS1xSET_RAND_NOOSExVAL_CHANGE, bitRHS);
    bitRHS->inUse = 0;
  }
  {
    reentryGuard = 0;
    return 0;
  }
}

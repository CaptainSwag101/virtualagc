/*
  File FORMAT_AUXMAT.c generated by XCOM-I, 2024-08-08 04:32:08.
*/

#include "../AUXP/runtimeC.h"

descriptor_t *
FORMAT_AUXMAT (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (descriptor_t *)0;
    }
  reentryGuard = guardReentry (reentryGuard, "FORMAT_AUXMAT");
  // TEMP_MAT1 = AUXMAT(AUXMAT# - 1); (672)
  {
    int32_t numberRHS = (int32_t)(getFIXED (
        mAUXMAT + 4 * xsubtract (COREHALFWORD (mFORMAT_AUXMATxAUXMATp), 1)));
    putFIXED (mFORMAT_AUXMATxTEMP_MAT1, numberRHS);
  }
  // TEMP_MAT2 = AUXMAT(AUXMAT#); (673)
  {
    int32_t numberRHS = (int32_t)(getFIXED (
        mAUXMAT + 4 * COREHALFWORD (mFORMAT_AUXMATxAUXMATp)));
    putFIXED (mFORMAT_AUXMATxTEMP_MAT2, numberRHS);
  }
  // MESSAGE = #RJUST(CURR_AUXMAT_BLOCK, 3) || PERIOD || #RJUST(AUXMAT# - 1, 4)
  // || BLANK_COLON_BLANK || #RJUST(SHR(TEMP_MAT1, 16) &  65535, 5) || COMMA ||
  // HEX(SHR(TEMP_MAT1, 1) &  15, 1) || LEFT_PAREN || HEX(SHR(TEMP_MAT1, 5) &
  // 63, 2) || RIGHT_PAREN || COMMA || #RJUST(SHR(TEMP_MAT2, 1) &  32767, 5) ||
  // COMMA || #RJUST(SHR(TEMP_MAT2, 16) &  32767, 5) || LEFT_PAREN ||
  // HEX(SHR(TEMP_MAT1, 11) &  31, 2) || RIGHT_PAREN; (674)
  {
    descriptor_t *stringRHS;
    stringRHS = xsCAT (
        xsCAT (
            xsCAT (
                xsCAT (
                    xsCAT (
                        xsCAT (
                            xsCAT (
                                xsCAT (
                                    xsCAT (
                                        xsCAT (
                                            xsCAT (
                                                xsCAT (
                                                    xsCAT (
                                                        xsCAT (
                                                            xsCAT (
                                                                xsCAT (
                                                                    (putBITp (
                                                                         16,
                                                                         mpRJUSTxNUMBER,
                                                                         getBIT (
                                                                             16,
                                                                             mCURR_AUXMAT_BLOCK)),
                                                                     putBITp (
                                                                         16,
                                                                         mpRJUSTxTOTAL_LENGTH,
                                                                         fixedToBit (
                                                                             32,
                                                                             (int32_t)(3))),
                                                                     pRJUST (
                                                                         0)),
                                                                    getCHARACTER (
                                                                        mPERIOD)),
                                                                (putBITp (
                                                                     16,
                                                                     mpRJUSTxNUMBER,
                                                                     fixedToBit (
                                                                         32,
                                                                         (int32_t)(xsubtract (
                                                                             COREHALFWORD (
                                                                                 mFORMAT_AUXMATxAUXMATp),
                                                                             1)))),
                                                                 putBITp (
                                                                     16,
                                                                     mpRJUSTxTOTAL_LENGTH,
                                                                     fixedToBit (
                                                                         32,
                                                                         (int32_t)(4))),
                                                                 pRJUST (0))),
                                                            getCHARACTER (
                                                                mBLANK_COLON_BLANK)),
                                                        (putBITp (
                                                             16,
                                                             mpRJUSTxNUMBER,
                                                             fixedToBit (
                                                                 32,
                                                                 (int32_t)(xAND (
                                                                     SHR (
                                                                         getFIXED (
                                                                             mFORMAT_AUXMATxTEMP_MAT1),
                                                                         16),
                                                                     65535)))),
                                                         putBITp (
                                                             16,
                                                             mpRJUSTxTOTAL_LENGTH,
                                                             fixedToBit (
                                                                 32,
                                                                 (int32_t)(5))),
                                                         pRJUST (0))),
                                                    getCHARACTER (mCOMMA)),
                                                (putBITp (
                                                     16, mHEXxNUMBER,
                                                     fixedToBit (
                                                         32,
                                                         (int32_t)(xAND (
                                                             SHR (
                                                                 getFIXED (
                                                                     mFORMAT_AUXMATxTEMP_MAT1),
                                                                 1),
                                                             15)))),
                                                 putBITp (
                                                     16, mHEXxTOTAL_LENGTH,
                                                     fixedToBit (
                                                         32, (int32_t)(1))),
                                                 HEX (0))),
                                            getCHARACTER (mLEFT_PAREN)),
                                        (putBITp (
                                             16, mHEXxNUMBER,
                                             fixedToBit (
                                                 32,
                                                 (int32_t)(xAND (
                                                     SHR (
                                                         getFIXED (
                                                             mFORMAT_AUXMATxTEMP_MAT1),
                                                         5),
                                                     63)))),
                                         putBITp (
                                             16, mHEXxTOTAL_LENGTH,
                                             fixedToBit (32, (int32_t)(2))),
                                         HEX (0))),
                                    getCHARACTER (mRIGHT_PAREN)),
                                getCHARACTER (mCOMMA)),
                            (putBITp (
                                 16, mpRJUSTxNUMBER,
                                 fixedToBit (
                                     32,
                                     (int32_t)(xAND (
                                         SHR (getFIXED (
                                                  mFORMAT_AUXMATxTEMP_MAT2),
                                              1),
                                         32767)))),
                             putBITp (16, mpRJUSTxTOTAL_LENGTH,
                                      fixedToBit (32, (int32_t)(5))),
                             pRJUST (0))),
                        getCHARACTER (mCOMMA)),
                    (putBITp (
                         16, mpRJUSTxNUMBER,
                         fixedToBit (
                             32,
                             (int32_t)(xAND (
                                 SHR (getFIXED (mFORMAT_AUXMATxTEMP_MAT2), 16),
                                 32767)))),
                     putBITp (16, mpRJUSTxTOTAL_LENGTH,
                              fixedToBit (32, (int32_t)(5))),
                     pRJUST (0))),
                getCHARACTER (mLEFT_PAREN)),
            (putBITp (
                 16, mHEXxNUMBER,
                 fixedToBit (
                     32,
                     (int32_t)(xAND (
                         SHR (getFIXED (mFORMAT_AUXMATxTEMP_MAT1), 11), 31)))),
             putBITp (16, mHEXxTOTAL_LENGTH, fixedToBit (32, (int32_t)(2))),
             HEX (0))),
        getCHARACTER (mRIGHT_PAREN));
    putCHARACTER (mFORMAT_AUXMATxMESSAGE, stringRHS);
    stringRHS->inUse = 0;
  }
  // IF (TEMP_MAT2 &  2147483648) ~= 0 THEN (675)
  if (1 & (xNEQ (xAND (getFIXED (mFORMAT_AUXMATxTEMP_MAT2), 2147483648), 0)))
    // MESSAGE = MESSAGE || ASTERISK; (676)
    {
      descriptor_t *stringRHS;
      stringRHS = xsCAT (getCHARACTER (mFORMAT_AUXMATxMESSAGE),
                         getCHARACTER (mASTERISK));
      putCHARACTER (mFORMAT_AUXMATxMESSAGE, stringRHS);
      stringRHS->inUse = 0;
    }
  // RETURN MESSAGE; (677)
  {
    reentryGuard = 0;
    return getCHARACTER (mFORMAT_AUXMATxMESSAGE);
  }
}

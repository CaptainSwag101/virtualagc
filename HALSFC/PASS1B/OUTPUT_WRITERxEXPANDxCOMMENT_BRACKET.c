/*
  File OUTPUT_WRITERxEXPANDxCOMMENT_BRACKET.c generated by XCOM-I, 2024-08-08
  04:33:34.
*/

#include "runtimeC.h"

int32_t
OUTPUT_WRITERxEXPANDxCOMMENT_BRACKET (int reset)
{
  static int reentryGuard = 0;
  if (reset)
    {
      reentryGuard = 0;
      return (int32_t)0;
    }
  reentryGuard
      = guardReentry (reentryGuard, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKET");
  // BYTE(STRING, LOC) = BYTE('/'); (2429)
  {
    int32_t numberRHS = (int32_t)(BYTE1 (cToDescriptor (NULL, "/")));
    lBYTEb (ADDR (NULL, 0, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxSTRING", 0),
            COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC),
            BYTE1 (cToDescriptor (NULL, "/")));
  }
  // BYTE(STRING, LOC + 1) = BYTE('*'); (2430)
  {
    int32_t numberRHS = (int32_t)(BYTE1 (cToDescriptor (NULL, "*")));
    lBYTEb (ADDR (NULL, 0, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxSTRING", 0),
            xadd (COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC), 1),
            BYTE1 (cToDescriptor (NULL, "*")));
  }
  // LOC = LOC + 2; (2431)
  {
    int32_t numberRHS = (int32_t)(xadd (
        COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC), 2));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC, bitRHS);
    bitRHS->inUse = 0;
  }
  // DO I = PTR TO MIN(PTR + NUM, COMMENT_COUNT); (2432)
  {
    int32_t from49, to49, by49;
    from49
        = bitToFixed (getBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxPTR));
    to49 = (putFIXED (
                mMINxI,
                xadd (COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxPTR),
                      COREHALFWORD (mOUTPUT_WRITERxEXPANDxNUM))),
            putFIXED (mMINxJ, COREHALFWORD (mCOMMENT_COUNT)), MIN (0));
    by49 = 1;
    for (putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI,
                 fixedToBit (16, from49));
         bitToFixed (getBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI))
         <= to49;
         putBIT (
             16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI,
             fixedToBit (16, bitToFixed (getBIT (
                                 16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI))
                                 + by49)))
      {
        // J = BYTE(SAVE_COMMENT, I); (2433)
        {
          int32_t numberRHS = (int32_t)(BYTE (
              getCHARACTER (mSAVE_COMMENT),
              COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI)));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxJ, bitRHS);
          bitRHS->inUse = 0;
        }
        // BYTE(STRING, LOC) = J; (2434)
        {
          descriptor_t *bitRHS
              = getBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxJ);
          lBYTEb (
              ADDR (NULL, 0, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxSTRING", 0),
              COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC),
              COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxJ));
          bitRHS->inUse = 0;
        }
        // LOC = LOC + 1; (2435)
        {
          int32_t numberRHS = (int32_t)(xadd (
              COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC), 1));
          descriptor_t *bitRHS;
          bitRHS = fixedToBit (32, (int32_t)(numberRHS));
          putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC, bitRHS);
          bitRHS->inUse = 0;
        }
      }
  } // End of DO for-loop block
  // BYTE(STRING, LOC) = BYTE('*'); (2436)
  {
    int32_t numberRHS = (int32_t)(BYTE1 (cToDescriptor (NULL, "*")));
    lBYTEb (ADDR (NULL, 0, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxSTRING", 0),
            COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC),
            BYTE1 (cToDescriptor (NULL, "*")));
  }
  // BYTE(STRING, LOC +1) = BYTE('/'); (2437)
  {
    int32_t numberRHS = (int32_t)(BYTE1 (cToDescriptor (NULL, "/")));
    lBYTEb (ADDR (NULL, 0, "OUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxSTRING", 0),
            xadd (COREHALFWORD (mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxLOC), 1),
            BYTE1 (cToDescriptor (NULL, "/")));
  }
  // PTR = I; (2438)
  {
    descriptor_t *bitRHS
        = getBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxI);
    putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxPTR, bitRHS);
    bitRHS->inUse = 0;
  }
  // NUM = MIN(NUM, COMMENT_COUNT - PTR + 1); (2439)
  {
    int32_t numberRHS = (int32_t)((
        putFIXED (mMINxI, COREHALFWORD (mOUTPUT_WRITERxEXPANDxNUM)),
        putFIXED (
            mMINxJ,
            xadd (xsubtract (COREHALFWORD (mCOMMENT_COUNT),
                             COREHALFWORD (
                                 mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxPTR)),
                  1)),
        MIN (0)));
    descriptor_t *bitRHS;
    bitRHS = fixedToBit (32, (int32_t)(numberRHS));
    putBIT (16, mOUTPUT_WRITERxEXPANDxNUM, bitRHS);
    bitRHS->inUse = 0;
  }
  // IF NUM <= 0 THEN (2440)
  if (1 & (xLE (COREHALFWORD (mOUTPUT_WRITERxEXPANDxNUM), 0)))
    // DO; (2441)
    {
    rs2:;
      // PTR = 0; (2442)
      {
        int32_t numberRHS = (int32_t)(0);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mOUTPUT_WRITERxEXPANDxCOMMENT_BRACKETxPTR, bitRHS);
        bitRHS->inUse = 0;
      }
      // COMMENT_COUNT = -1; (2443)
      {
        int32_t numberRHS = (int32_t)(-1);
        descriptor_t *bitRHS;
        bitRHS = fixedToBit (32, (int32_t)(numberRHS));
        putBIT (16, mCOMMENT_COUNT, bitRHS);
        bitRHS->inUse = 0;
      }
    es2:;
    } // End of DO block
  {
    reentryGuard = 0;
    return 0;
  }
}
